<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html
    xmlns="http://www.w3.org/1999/xhtml"><head><meta
        http-equiv="Content-Type"
        content="text/html; charset=UTF-8" /><title
        xmlns:d="http://docbook.org/ns/docbook">9.9. Kvoter</title><link
        rel="stylesheet"
        type="text/css"
        href="Common_Content/css/default.css" /><link
        rel="stylesheet"
        media="print"
        href="Common_Content/css/print.css"
        type="text/css" /><meta
        xmlns:d="http://docbook.org/ns/docbook"
        name="generator"
        content="publican v4.3.2" /><meta
        xmlns:d="http://docbook.org/ns/docbook"
        name="package"
        content="Debian-debian-handbook-9-sv-SE-1.0-1" /><meta
        name="keywords"
        content="System boot, Initskript, SSH, Telnet, Rättigheter, Behörigheter, Övervakning, Inetd, Cron, Säkerhetskopia, Inpluggninsbara, PCMCIA, APM, ACPI" /><link
        rel="home"
        href="index.html"
        title="Handbok för Debianadministratören" /><link
        rel="up"
        href="unix-services.html"
        title="Kapitel 9. Unixtjänster" /><link
        rel="prev"
        href="sect.asynchronous-task-scheduling-anacron.html"
        title="9.8. Schemaläggar asynkrona uppgifter: anacron" /><link
        rel="next"
        href="sect.backup.html"
        title="9.10. Säkerhetskopia" /><meta
        name="viewport"
        content="width=device-width, initial-scale=1" /><meta
        name="flattr:id"
        content="4pz9jq" /><link
        rel="canonical"
        href="http://l.github.io/debian-handbook/html/sv-SE/sect.quotas.html" /></head><body><noscript><iframe
          src="//www.googletagmanager.com/ns.html?id=GTM-5H35QX"
          height="0"
          width="0"
          style="display:none;visibility:hidden"></iframe></noscript><script
        type="text/javascript">(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
j=d.createElement(s),dl=l!='dataLayer'?'&amp;l='+l:'';j.async=true;j.src=
'//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
})(window,document,'script','dataLayer','GTM-5H35QX');</script><div
        id="banner"><a
          href="../../"><span
            class="text">Download the ebook</span></a></div><p
        id="title"><a
          class="left"
          href="http://www.debian.org"><img
            alt="Product Site"
            src="Common_Content/images//image_left.png" /></a><a
          class="right"
          href="index.html"><img
            alt="Documentation Site"
            src="Common_Content/images//image_right.png" /></a></p><ul
        class="docnav top"><li
          class="previous"><a
            accesskey="p"
            href="sect.asynchronous-task-scheduling-anacron.html"><strong>Föregående</strong></a></li><li
          class="home">Handbok för Debianadministratören</li><li
          class="next"><a
            accesskey="n"
            href="sect.backup.html"><strong>Nästa</strong></a></li></ul><div
        class="section"><div
          class="titlepage"><div><div><h2
                class="title"><a
                  id="sect.quotas"></a>9.9. Kvoter</h2></div></div></div><a
          id="id-1.12.12.2"
          class="indexterm"></a><div
          class="para">
			Kvotsystemet gör det möjligt att begränsa diskutrymmet för en användare eller en grupp. För att konfigurerar det måste du ha en kärna som stödjer det (kompilerad med flaggan <code
            class="varname">CONFIG_QUOTA</code> ) — som fallet är med Debiankärnor. Program för kvotahantering finns Debianpaketet <span
            class="pkg pkg">quota</span>.
		</div><div
          class="para">
			För att aktivera kvoter i ett filsystem måste ange flaggorna <code
            class="literal">usrquota</code> och <code
            class="literal">grpquota</code> i <code
            class="filename">/etc/fstab</code> för användar- och gruppkvoter. Att starta om datorn kommer sedan att uppdatera kvoterna i frånvaro av diskaktivitet (ett nödvändigt villkor för korrekt av redan använt diskutrymme).
		</div><div
          class="para">
			Kommandot <code
            class="command">edquota <em
              class="replaceable">användare</em></code> (eller <code
            class="command">edquota -g <em
              class="replaceable">grupp</em></code>) låter dig ändra gränserna medan du utforskar aktuell tdiskutrymme.
		</div><a
          id="id-1.12.12.6"
          class="indexterm"></a><div
          class="sidebar"><div
            class="titlepage"><div><div><p
                  class="title"><strong><span
                      class="emphasis"><em>YTTERLIGARE</em></span> Definiera kvoter med ett skript</strong></p></div></div></div><a
            id="id-1.12.12.7.2"
            class="indexterm"></a><div
            class="para">
			Programmet <code
              class="command">setquota</code> kan användas i ett skript för att automatiskt ändra många kvoter. Dess manuasida Its <span
              class="citerefentry"><span
                class="refentrytitle">setquota</span>(8)</span> visar dess syntax.
		</div></div><div
          class="para">
			Kvotsystemet låter dig ange fyra gränser:
		</div><div
          xmlns:d="http://docbook.org/ns/docbook"
          class="itemizedlist"><ul><li
              class="listitem"><div
                class="para">
					två gränser (”mjuk” och ”hård”) hänvisar till antalet använda block. Om filsystemet skapades med en blockstorlek på 1 kibibyte innehåller ett block 1024 byte från samma fill. Därav slösar ofyllda block med diskutrymme. En kvot på 100 block, vilket teoretiskt tillåter lagring av 102 400 byte kommer att fyllas med endast 100 filer på 500 byte vardera, representerade endast 50 000 byte totalt.
				</div></li><li
              class="listitem"><div
                class="para">
					två gränser (mjuka och hårda) hänvisar till antalet använda inoder. Varje fil tar minst en inode för att lagra information om den (rättigheter, ägare, tidsstämpel för senast åtkomst med mera). Det är därför en gräns för antalet användarfiler.
				</div></li></ul></div><div
          class="para">
			En ”mjuk” gräns kan överskridas tillfälligt; användaren kommer att bli tydligt varnad om att de överskrider kvoten av kommandot <code
            class="command">warnquota</code> som vanligtvis startas av <code
            class="command">cron</code>. En ”hård” gräns kan aldrig överskridas: systemet kommer att vägra åtgärder som skulle orsaka ett en hårdkvot överskrids.
		</div><div
          class="sidebar"><div
            class="titlepage"><div><div><p
                  class="title"><strong><span
                      class="emphasis"><em>ORDFÖRRÅD</em></span> Block och inoder</strong></p></div></div></div><a
            id="id-1.12.12.11.2"
            class="indexterm"></a><a
            id="id-1.12.12.11.3"
            class="indexterm"></a><div
            class="para">
			Filsystemet delar upp hårddisken i block -- små sammanhängande områden. Blockens storlek definieras vid filsystemets skapande, och varierar mellan 1 och 8 kibibyte.
		</div><div
            class="para">
			Ett block kan användas antingen för att lagra riktiga fildata, eller för metadata använt av filsystemet. I denna metadata kommer du specifikt att finna inoderna. En inode använder ett block på hårddisken (men detta block tas det inte hänsyn till i blockvoten, endast i inodekvoten), och innehåller både informationen för filen mot vilken den motsvarar (namn, ägare, rättighet, och fler.) och pekarna till datablocken som verkligen används. För väldigt stora filer som tar hand om flera block än vad som är möjligt att referera till i en enskild inode, finns ett indirekt blocksystem; inoden refererar en lista av block som inte direkt innehåller data, men en annan lista av block.
		</div></div><a
          id="id-1.12.12.12"
          class="indexterm"></a><div
          class="para">
			Med kommandot <code
            class="command">edquota -t</code> kan du definiera en högsta tillåten ”grace period” inom vilken en mjukgräns kan överskridas. Efter denna period kommer den mjuka gränsen att behandlas som en hård gräns, och användaren kommer att behöva minska deras användning av diskutrymme till inom denna gräns för att kunna skriva till hårddisken.
		</div><div
          class="sidebar"><div
            class="titlepage"><div><div><p
                  class="title"><strong><span
                      class="emphasis"><em>NÄSTA STEG</em></span> Ange en standardkvot för nya användare</strong></p></div></div></div><div
            class="para">
			För att automatiskt ange en kvot för nya användare måste du konfigurera en mall (med <code
              class="command">edquota</code> eller <code
              class="command">setquota</code>) och indikera deras användarnamn i variabeln <code
              class="varname">QUOTAUSER</code> i filen <code
              class="filename">/etc/adduser.conf</code>. Denna kvotkonfiguration kommer att tillämpas automatiskt på varje ny användare skapad med kommandot <code
              class="command">adduser</code>.
		</div></div></div><ul
        class="docnav"><li
          class="previous"><a
            accesskey="p"
            href="sect.asynchronous-task-scheduling-anacron.html"><strong>Föregående</strong>9.8. Schemaläggar asynkrona uppgifter: anacron</a></li><li
          class="up"><a
            accesskey="u"
            href="#"><strong>Upp</strong></a></li><li
          class="home"><a
            accesskey="h"
            href="index.html"><strong>Hem</strong></a></li><li
          class="next"><a
            accesskey="n"
            href="sect.backup.html"><strong>Nästa</strong>9.10. Säkerhetskopia</a></li></ul><div
        id="translated_pages"><ul><li><a
              href="../ar-MA/sect.quotas.html">ar-MA</a></li><li><a
              href="../da-DK/sect.quotas.html">da-DK</a></li><li><a
              href="../de-DE/sect.quotas.html">de-DE</a></li><li><a
              href="../el-GR/sect.quotas.html">el-GR</a></li><li><a
              href="../en-US/sect.quotas.html">en-US</a></li><li><a
              href="../es-ES/sect.quotas.html">es-ES</a></li><li><a
              href="../fa-IR/sect.quotas.html">fa-IR</a></li><li><a
              href="../fr-FR/sect.quotas.html">fr-FR</a></li><li><a
              href="../hr-HR/sect.quotas.html">hr-HR</a></li><li><a
              href="../id-ID/sect.quotas.html">id-ID</a></li><li><a
              href="../it-IT/sect.quotas.html">it-IT</a></li><li><a
              href="../ja-JP/sect.quotas.html">ja-JP</a></li><li><a
              href="../ko-KR/sect.quotas.html">ko-KR</a></li><li><a
              href="../nb-NO/sect.quotas.html">nb-NO</a></li><li><a
              href="../pl-PL/sect.quotas.html">pl-PL</a></li><li><a
              href="../pt-BR/sect.quotas.html">pt-BR</a></li><li><a
              href="../ro-RO/sect.quotas.html">ro-RO</a></li><li><a
              href="../ru-RU/sect.quotas.html">ru-RU</a></li><li><a
              href="../tr-TR/sect.quotas.html">tr-TR</a></li><li><a
              href="../vi-VN/sect.quotas.html">vi-VN</a></li><li><a
              href="../zh-CN/sect.quotas.html">zh-CN</a></li><li><a
              href="../zh-TW/sect.quotas.html">zh-TW</a></li></ul></div></body></html>
