<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html
    xmlns="http://www.w3.org/1999/xhtml"><head><meta
        http-equiv="Content-Type"
        content="text/html; charset=UTF-8" /><title
        xmlns:d="http://docbook.org/ns/docbook">9.2. Fjärrinloggning</title><link
        rel="stylesheet"
        type="text/css"
        href="Common_Content/css/default.css" /><link
        rel="stylesheet"
        media="print"
        href="Common_Content/css/print.css"
        type="text/css" /><meta
        xmlns:d="http://docbook.org/ns/docbook"
        name="generator"
        content="publican v4.3.2" /><meta
        xmlns:d="http://docbook.org/ns/docbook"
        name="package"
        content="Debian-debian-handbook-9-sv-SE-1.0-1" /><meta
        name="keywords"
        content="System boot, Initskript, SSH, Telnet, Rättigheter, Behörigheter, Övervakning, Inetd, Cron, Säkerhetskopia, Inpluggninsbara, PCMCIA, APM, ACPI" /><link
        rel="home"
        href="index.html"
        title="Handbok för Debianadministratören" /><link
        rel="up"
        href="unix-services.html"
        title="Kapitel 9. Unixtjänster" /><link
        rel="prev"
        href="unix-services.html"
        title="Kapitel 9. Unixtjänster" /><link
        rel="next"
        href="sect.rights-management.html"
        title="9.3. Hantera behörigheter" /><meta
        name="viewport"
        content="width=device-width, initial-scale=1" /><meta
        name="flattr:id"
        content="4pz9jq" /><link
        rel="canonical"
        href="http://l.github.io/debian-handbook/html/sv-SE/sect.remote-login.html" /></head><body><noscript><iframe
          src="//www.googletagmanager.com/ns.html?id=GTM-5H35QX"
          height="0"
          width="0"
          style="display:none;visibility:hidden"></iframe></noscript><script
        type="text/javascript">(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
j=d.createElement(s),dl=l!='dataLayer'?'&amp;l='+l:'';j.async=true;j.src=
'//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
})(window,document,'script','dataLayer','GTM-5H35QX');</script><div
        id="banner"><a
          href="../../"><span
            class="text">Download the ebook</span></a></div><p
        id="title"><a
          class="left"
          href="http://www.debian.org"><img
            alt="Product Site"
            src="Common_Content/images//image_left.png" /></a><a
          class="right"
          href="index.html"><img
            alt="Documentation Site"
            src="Common_Content/images//image_right.png" /></a></p><ul
        class="docnav top"><li
          class="previous"><a
            accesskey="p"
            href="unix-services.html"><strong>Föregående</strong></a></li><li
          class="home">Handbok för Debianadministratören</li><li
          class="next"><a
            accesskey="n"
            href="sect.rights-management.html"><strong>Nästa</strong></a></li></ul><div
        class="section"><div
          class="titlepage"><div><div><h2
                class="title"><a
                  id="sect.remote-login"></a>9.2. Fjärrinloggning</h2></div></div></div><div
          class="para">
			Det är viktigt för administratörer att kunna ansluta till en fjärrdator. Avskärmade servrar har sällan permanenta tangentbord och skärmar - men de är anslutna till nätverket.
		</div><div
          class="sidebar"><div
            class="titlepage"><div><div><p
                  class="title"><strong><span
                      class="emphasis"><em>GRUNDERNA</em></span> Klient, server</strong></p></div></div></div><a
            id="id-1.12.5.3.2"
            class="indexterm"></a><a
            id="id-1.12.5.3.3"
            class="indexterm"></a><div
            class="para">
			Ett system där flera processer kommunicerar med varandra beskrivs ofta med liknelsen ”klient/server”. Servern är programmet som tar flera begäran från en klient och verkställer dem. Det är klienten som kontrollera händelserna, servern tar inga egna initiativ.
		</div></div><a
          id="id-1.12.5.4"
          class="indexterm"></a><a
          id="id-1.12.5.5"
          class="indexterm"></a><div
          class="section"><div
            class="titlepage"><div><div><h3
                  class="title"><a
                    id="sect.ssh"></a>9.2.1. Säker fjärrinloggning: SSH</h3></div></div></div><a
            id="id-1.12.5.6.2"
            class="indexterm"></a><a
            id="id-1.12.5.6.3"
            class="indexterm"></a><div
            class="para">
				Protokollet <span
              class="emphasis"><em>SSH</em></span> (Secure SHell) togs fram med säkerhet och pålitlighet i åtanke. Anslutningar med SSH är säkra; användaren är autentiserad och all data utbyts krypeterat.
			</div><div
            class="sidebar"><div
              class="titlepage"><div><div><p
                    class="title"><strong><span
                        class="emphasis"><em>KULTUR</em></span> Telnet och RSH är föråldrade</strong></p></div></div></div><a
              id="id-1.12.5.6.5.2"
              class="indexterm"></a><a
              id="id-1.12.5.6.5.3"
              class="indexterm"></a><div
              class="para">
				Innan SSH var huvudverktygen för fjärrinoggning <span
                class="emphasis"><em>Telnet</em></span> och <span
                class="emphasis"><em>RSH</em></span>. De är numer föråldrade och bör inte användas, även om Debian fortfaranden tillhandahåller dem.
			</div></div><div
            class="sidebar"><div
              class="titlepage"><div><div><p
                    class="title"><strong><span
                        class="emphasis"><em>ORDFÖRRÅD</em></span> Autentistering, kryptering</strong></p></div></div></div><div
              class="para">
				När du behöver ge en klient möjlighet att utföra eller utlösa åtgärder på en server är säkerhet viktigt. Att försäkra sig om klientens identitet kallas autentisering. Vanligtvis består identiteten av ett lösenord som måste hemlighållas, annars kan någon annan komma över det. Det är syftet med kryptering, som är en typ av kodning som tillåter två system att kommunicera konfidentiell information över öppna kanaler medan de är skyddade från andras insyn.
			</div><div
              class="para">
				Autentisering och kryptering näms ofta ihop eftersom de vanligtvis används tillsammans, och eftersom de båda implementeras med liknande matematiska koncept.
			</div></div><div
            class="para">
				SSH erbjuder två filöverföringstjänster. <code
              class="command">scp</code> är ett kommandoradsverktyg som kan användas liknande kommandot <code
              class="command">cp</code> förutom att sökvägar till en annan maskin inleds med maskinens namn, följt av kolon.
			</div><pre
            class="screen"><code
              class="computeroutput">$ </code><strong
              class="userinput"><code>scp fil maskin:/tmp/</code></strong></pre><div
            class="para">
				<code
              class="command">sftp</code> är ett interaktivt kommando som liknar <code
              class="command">ftp</code>. <code
              class="command">sftp</code> kan överföra flera filer i en enda session, och det är möjligt att manipulera fjärrfiler med det (ta bort, byta namn, ändra behörigheter och så vidare).
			</div><a
            id="id-1.12.5.6.10"
            class="indexterm"></a><a
            id="id-1.12.5.6.11"
            class="indexterm"></a><div
            class="para">
				Debian använder OpenSSH, en fri version av SSH underhållen av projektet <code
              class="command">OpenBSD</code> (ett fritt operativsystem baserat på BSD-kärnan, fokuserat på säkerhet) och en gren av den ursprungliga SSH-programvaran utvecklad av företaget SSH Communications Security Corp, Finnland. Företaget utvecklade ursprungligen SSH som fri programvara, beslöt sig eventuellt att fortsätta utvecklingen under en sluten licens. OpenBSD-projektet skapade sedan OpenSSH för att bevara en fri version av SSH.
			</div><a
            id="id-1.12.5.6.13"
            class="indexterm"></a><div
            class="sidebar"><div
              class="titlepage"><div><div><p
                    class="title"><strong><span
                        class="emphasis"><em>GRUNDERNA</em></span> <span
                        class="foreignphrase"><em
                          class="foreignphrase">Grenar</em></span></strong></p></div></div></div><a
              id="id-1.12.5.6.14.2"
              class="indexterm"></a><div
              class="para">
				I programvaruvärlden innebär en ”gren” att ett nytt projekt startar som en klon av det ursprunliga, och att det kommer att tävla med det. Därifrån kommer båda program att snabbt divergera vad gäller utveckling. En gren är ofta resultatet av meningsskiljaktigheter inom utvecklingsteamet.
			</div><div
              class="para">
				Valet att grena ett projekt är ett direkt resultat av själva naturen i fri programvara; en gren är hälsosam när det låter projektet fortsätta att vara fri programvara (exempelvis om det sker licensändringar). En gren som tillkommer av tekniska eller personliga skäl är ofta ett slöseri med mänskliga resurser; en annan lösning vore önskvärd. Det händer att två projekt som tidigare delats i flera grenar åter sammanfogas.
			</div></div><div
            class="para">
				OpenSSH är uppdelat i två paket: klientdelen finns i paketet <span
              class="pkg pkg">openssh-client</span> och serverdelen i <span
              class="pkg pkg">openssh-server</span>. Metapaketet <span
              class="pkg pkg">ssh</span> beror på båda delar och underlättar installationen av dem (<code
              class="command">apt install ssh</code>).
			</div><div
            class="section"><div
              class="titlepage"><div><div><h4
                    class="title"><a
                      id="sect.ssh-key-based-auth"></a>9.2.1.1. Nyckelbasera autentisering</h4></div></div></div><div
              class="para">
					Varje gång någon loggar in över SSH, frågar fjärrservern efter ett lösenord för att autentisera användaren. Det kan vara problematiskt om du vill automatisera en anslutning eller om du använder ett verktyg som återkommande kräver anslutningar till SSH. Därför erbjuder SSH ett nyckelbaserad autentiseringssystem.
				</div><div
              class="para">
					Användaren genererar ett nyckepar på klientmaskinen med <code
                class="command">ssh-keygen -t rsa</code>; den öppna nyckeln lagras i <code
                class="filename">~/.ssh/id_rsa.pub</code>, medan motsvarande privata nyckel lagras i <code
                class="filename">~/.ssh/id_rsa</code>. TAnvändaren använder sedan <code
                class="command">ssh-copy-id <em
                  class="replaceable">server</em></code> för att lägga till deras öppna nyckel i filen <code
                class="filename">~/.ssh/authorized_keys</code> på servern. Om den privata nyckeln inte var skyddad av ett ”lösenord” då den skapades kommer inloggningar till servern att fungera utan lösenord. Annars måste den privata nyckeln dekrypteras varje gång genom att skriva in lösenordet. Lyckligtvis låter <code
                class="command">ssh-agent</code> oss undvika att skriva in lösenordet igen och igen genom att spara de privata nycklarna i minnet. För det använder du <code
                class="command">ssh-add</code> (en gång per arbetssession) förutsatt att sessionen redan är associerade med en funktionell instans av <code
                class="command">ssh-agent</code>. Debian activates it by default in graphical sessions, but this can be deactivated by changing <code
                class="filename">/etc/X11/Xsession.options</code>. For a console session, you can manually start it with <code
                class="command">eval $(ssh-agent)</code>.
				</div><div
              class="sidebar"><div
                class="titlepage"><div><div><p
                      class="title"><strong><span
                          class="emphasis"><em>SÄKERHET</em></span>Skydda den privata nyckeln</strong></p></div></div></div><div
                class="para">
					Alla som har den privata nyckeln kan logga in på det inloggade kontot. Det är därför åtkomst till den är skyddad av en ”lösenfras”. Någon som kommer åt en kopia av en privat nyckelfil (exempelvis <code
                  class="filename">~/.ssh/id_rsa</code>) måste fortfarande veta denna fras för att kunna använda den. Detta ytterligare skydd är inte ogenomträngbart, och om du tror att filen har komprometeras är det bäst att inaktivera nyckeln på datorer i vilken den har installerats (genom att ta bort den från <code
                  class="filename">authorized_keys</code>) och ersätta dem med en ny genererad nyckel.
				</div></div><div
              class="sidebar"><div
                class="titlepage"><div><div><p
                      class="title"><strong><span
                          class="emphasis"><em>KULTUR</em></span> OpenSSL-svaghet i Debian <span
                          class="distribution distribution">Etch</span></strong></p></div></div></div><div
                class="para">
					OpenSSL-biblioteket, ursprungligen tillhandahållet i Debian <span
                  class="distribution distribution">Etch</span>, hade ett allvarligt problem med dess slumptalsgenerator (RNG). Debianansvarige hade gjort en ändring så att program som användet det inte längre genererade varningar vid analys utförda av minnestestverktyg som <code
                  class="command">valgrind</code>. Tyvärr innebar ändringen också att RNG endast använde en entropikälla, motsvarande processid (PID) vars 32 000 möjliga värden inte erbjuder nog med slumpmässighet. <div
                  class="url">→ <a
                    href="http://www.debian.org/security/2008/dsa-1571">http://www.debian.org/security/2008/dsa-1571</a></div>
				</div><div
                class="para">
					Mer specifikt så gäller att när OpenSSH användes för att generera en nyckel producerade den alltid en nyckel inom en känd mängd av hundratusentals nycklar (32 000 gånger ett litet antal nyckellängder). Det påverkade SSH-nycklar, SSL-nycklar och X.509-certifikat använda att otaliga program, som OpenVPN. En cracker behövda endast prova alla nycklar för att få obehörig tillgång. För att minska problemets omfattning ändras SSH-demonen till att vägra använda problematiska nycklar som listades i paketen <span
                  class="pkg pkg">openssh-blacklist</span> och <span
                  class="pkg pkg">openssh-blacklist-extra</span>. Utöver det så gör kommandot <code
                  class="command">ssh-vulnkey</code> det möjligt att identifiera möjligen komprometerande nycklar i systemet.
				</div><div
                class="para">
					En noggrannare analys av denna incident visar det är resultatet av flera (mindre) problem, både med OpenSSL-projektet och med Debianpaketets ansvariga. En välanvänt bibliotek som OpenSSL borde -- utan ändringar -- inte generera varningar under testning <code
                  class="command">valgrind</code>. Vidare bör koden (speciellt känsliga delar som RNG) vara bättre kommenterad för att förhindra sådan fel. Vad gäller Debian ville ansvariga validera ändringarna med OpenSSL-utvecklarna, men förklarade ändringarna utan att skicka in en programfix för granskning, och nämnde inte sin roll inom Debian. Slutligen var lösningsvalet inte det bästa: ändringarna gjorde i originalkoden blev inte dokumenterade; alla ändringar lagrades i ett Subversion-förråd, men slutade ihopklumpade in en programfix då källpaketet skapades.
				</div><div
                class="para">
					It is difficult under such conditions to find the corrective measures to prevent such incidents from recurring. The lesson to be learned here is that every divergence Debian introduces to upstream software must be justified, documented, submitted to the upstream project when possible, and widely publicized. It is from this perspective that the new source package format (“3.0 (quilt)”) and the Debian sources webservice were developed. <div
                  class="url">→ <a
                    href="http://sources.debian.org">http://sources.debian.org</a></div>
				</div></div></div><div
            class="section"><div
              class="titlepage"><div><div><h4
                    class="title"><a
                      id="sect.ssh-x11"></a>9.2.1.2. Använda X11-fjärrprogram</h4></div></div></div><div
              class="para">
					SSH-protokollet gör det möjligt att vidarebefordra grafiskt innehåll (”X11-session”, namngiven från det mest välanvända grafiksystemet i Unix); servern håller då reda på en dedikerad kanal för denna data. Det innebär att ett grafiskt program som fjärrexekveras kan visas på X.org-servern lokalt, och att hela sessionen (inmatning och visning) är säker. Eftersom denna egenskap låter fjärrprogram komma åt det lokala systemet är det inaktiverat som standard. Du kan aktivera det genom att ange i serverns konfigurationsfil. Slutligen måste användare också begära den genom att lägga till flaggan <code
                class="literal">-X</code> kommandoraden för <code
                class="command">ssh</code>.
				</div></div><div
            class="section"><div
              class="titlepage"><div><div><h4
                    class="title"><a
                      id="sect.ssh-port-forwarding"></a>9.2.1.3. 'Skapa krypterade tunnlar med portvidarebefordring</h4></div></div></div><a
              id="id-1.12.5.6.18.2"
              class="indexterm"></a><div
              class="para">
					Flaggorna <code
                class="literal">-R</code> och <code
                class="literal">-L</code> gör att <code
                class="command">ssh</code> kan skapa ”krypterade tunnlar” mellan två maskiner och på ett säkert sätt vidarebefodra en lokal TCP-port (se sidopanelen <a
                class="xref"
                href="network-infrastructure.html#sidebar.tcp-udp"><span
                  class="emphasis"><em>BACK TO BASICS</em></span> TCP/UDP</a>) till en en fjärrmaskine och vice versa.
				</div><div
              class="sidebar"><div
                class="titlepage"><div><div><p
                      class="title"><strong><span
                          class="emphasis"><em>ORDFÖRRÅD</em></span> TUNNEL</strong></p></div></div></div><a
                id="id-1.12.5.6.18.4.2"
                class="indexterm"></a><a
                id="id-1.12.5.6.18.4.3"
                class="indexterm"></a><div
                class="para">
					Internet och de flesta LAN som är anslutna till det körs i paketläge och inte i anslutet läge, vilket betyder att ett paket skickat från en dator till en annan kommer att stoppas vid flera mellanliggande routrar för att finna vägen till destinationen. Du kan fortfarande simulera en ansluten operation där strömmen kapslas in i normal IP-paket. Dessa paket följer sina vanliga rutter, men strömmen rekonstrueras oförändrad vid destinationen. Vi kallar detta en ”tunnel”, analogt med en vägtunnel där fordon kör direkt in i ingången (indata) till utgången (utdata) utan att träffa på intersektioner, i motsats till en en sökväg på ytan som skulle involvera intersektioner och ändrade riktningar.
				</div><div
                class="para">
					Du kan ta detta tillfälle i akt till att lägga till kryptering till tunneln: strömmen som flödar genom den kan inte tolkas utifrån; men återfås dekrypterat i slutet av tunneln.
				</div></div><div
              class="para">
					<code
                class="command">ssh -L 8000:server:25 mellanhand</code> etablerar en SSH-session med värden <em
                class="replaceable">mellanhand</em> och lyssnar på lokala porten 8000 ( se <a
                class="xref"
                href="sect.remote-login.html#figure.ssh-L">Figur 9.3, ”Vidarebefordra en lokal port med SSH”</a>). För varje anslutning etablerad på denna på denna port, kommer <code
                class="command">ssh</code> att starta en anslutning från datorn <em
                class="replaceable">mellanhand</em> till port 25 på <em
                class="replaceable">server</em>, och kommer att binda samman alla anslutningar tillsammans.
				</div><div
              class="para">
					<code
                class="command">ssh -R 8000:server:25 mellanhand</code> etablerar också en SSH-session till datorn <em
                class="replaceable">mellanhand</em>, men på denna maskin lyssnar <code
                class="command">ssh</code> till port 8000 (se <a
                class="xref"
                href="sect.remote-login.html#figure.ssh-R">Figur 9.4, ”Vidarebefordra en fjärrport med SSH”</a>). Varje anslutning etablerad på denna port kommer också att få <code
                class="command">ssh</code> att öppna en anslutning från den lokal maskinen till port 75 på <em
                class="replaceable">server</em>, och att binda ihop anslutningarna.
				</div><div
              class="para">
					I båda fallen sker anslutningarna över port 25 på värden <em
                class="replaceable">server</em> som passerar genom SSH-tunneln etablerade mellan den lokala maskinen och maskinen <em
                class="replaceable">mellanhand</em>. I det första fallet är ingången till tunneln lokal port 8000, och datan flyttar mot maskinen <em
                class="replaceable">mellanhand</em> innan den riktas mot <em
                class="replaceable">server</em> på det ”publika” nätvärket. i det andra fallet har indata och utdata för tunneln kastats om; ingången är port 8000 på maskinen <em
                class="replaceable">mellanhand</em>, utgång är på den lokala värden och datan vidarebefordras till server <em
                class="replaceable">server</em>. I praktiken är servern antingen den lokala maskinen eller mellanhanden. På det sättet säkrar SSH anslutningen från en sida till en annan.
				</div><div
              class="figure"><a
                id="figure.ssh-L"></a><div
                class="figure-contents"><div
                  class="mediaobject"><img
                    src="images/ssh-L.png"
                    alt="Vidarebefordra en lokal port med SSH" /></div></div><p
                class="title"><strong>Figur 9.3. Vidarebefordra en lokal port med SSH</strong></p></div><div
              class="figure"><a
                id="figure.ssh-R"></a><div
                class="figure-contents"><div
                  class="mediaobject"><img
                    src="images/ssh-R.png"
                    alt="Vidarebefordra en fjärrport med SSH" /></div></div><p
                class="title"><strong>Figur 9.4. Vidarebefordra en fjärrport med SSH</strong></p></div></div></div><div
          class="section"><div
            class="titlepage"><div><div><h3
                  class="title"><a
                    id="sect.remote-desktops"></a>9.2.2. Använda grafiska fjärrskrivbord</h3></div></div></div><div
            class="para">
				VNC (Virtual Network Computing) tillåter fjärråtkomst till grafiska skrivbord.
			</div><a
            id="id-1.12.5.7.3"
            class="indexterm"></a><a
            id="id-1.12.5.7.4"
            class="indexterm"></a><a
            id="id-1.12.5.7.5"
            class="indexterm"></a><a
            id="id-1.12.5.7.6"
            class="indexterm"></a><a
            id="id-1.12.5.7.7"
            class="indexterm"></a><div
            class="para">
				Detta verktyg används mest för teknisk assistans; administratören kan se felen som användare möter, och visa dem den rätta åtgärden utan att vara fysiskt närvarande.
			</div><a
            id="id-1.12.5.7.9"
            class="indexterm"></a><a
            id="id-1.12.5.7.10"
            class="indexterm"></a><a
            id="id-1.12.5.7.11"
            class="indexterm"></a><div
            class="para">
				First, the user must authorize sharing their session. The GNOME graphical desktop environment in <span
              class="distribution distribution">Jessie</span> includes that option in its configuration panel (contrary to previous versions of Debian, where the user had to install and run <code
              class="command">vino</code>). KDE Plasma still requires using <code
              class="command">krfb</code> to allow sharing an existing session over VNC. For other graphical desktop environments, the <code
              class="command">x11vnc</code> command (from the Debian package of the same name) serves the same purpose; you can make it available to the user with an explicit icon.
			</div><a
            id="id-1.12.5.7.13"
            class="indexterm"></a><a
            id="id-1.12.5.7.14"
            class="indexterm"></a><a
            id="id-1.12.5.7.15"
            class="indexterm"></a><a
            id="id-1.12.5.7.16"
            class="indexterm"></a><div
            class="para">
				When the graphical session is made available by VNC, the administrator must connect to it with a VNC client. GNOME has <code
              class="command">vinagre</code> and <code
              class="command">remmina</code> for that, while the KDE project provides <code
              class="command">krdc</code> (in the menu at <span
              class="guimenu"><strong>K</strong></span> → <span
              class="guisubmenu"><strong>Internet</strong></span> → <span
              class="guimenuitem"><strong>Remote Desktop Client</strong></span>). There are other VNC clients that use the command line, such as <code
              class="command">xvnc4viewer</code> in the Debian package of the same name. Once connected, the administrator can see what is going on, work on the machine remotely, and show the user how to proceed.
			</div><div
            class="sidebar"><div
              class="titlepage"><div><div><p
                    class="title"><strong><span
                        class="emphasis"><em>SÄKERHET</em></span> VNC över SSH</strong></p></div></div></div><a
              id="id-1.12.5.7.18.2"
              class="indexterm"></a><div
              class="para">
				Om du vill ansluta genom VNC, och du inte vill att dina data skickar okrypterade över nätverket så är det möjligt att kapsla in datan i en SSH-tunnel (se <a
                class="xref"
                href="sect.remote-login.html#sect.ssh-port-forwarding">Avsnitt 9.2.1.3, ”'Skapa krypterade tunnlar med portvidarebefordring”</a>). Du behöver endast då veta att VNC använder port 5900 som standardport för den första skärmen (kallad ”localhost:0”), 5901 för den andra (kallad ”localhost:1”) också vidare.
			</div><div
              class="para">
				Kommandot <code
                class="command">ssh -L localhost:5901:localhost:5900 -N -T <em
                  class="replaceable">maskin</em></code> skapar en tunnel mellan lokala porten 5901 och port 5900 hos värd<em
                class="replaceable">maskin</em>. Den första ”localħost” begränsar SSH till att endast lyssnar på det gränssnittet (på den lokala maskinen. Den andra ”localhost” är gränssnittet på fjärrmaskinen som ska ta emot nätverkstrafiken som kommer in från ”localhost:5901”. Sålunda kommer <code
                class="command">vncviewer localhost:1</code> att ansluta VNC-klienten till fjärrskärmen, även fast du bara indikerar namnet på den lokala maskinen.
			</div><div
              class="para">
				När VNC-sessionen stängs, kom ihåg att stänga tunneln genom att också avsluta motsvarande SSH-session.
			</div></div><div
            class="sidebar"><div
              class="titlepage"><div><div><p
                    class="title"><strong><span
                        class="emphasis"><em>Grundläggande</em></span> Displayhanterare</strong></p></div></div></div><a
              id="id-1.12.5.7.19.2"
              class="indexterm"></a><a
              id="id-1.12.5.7.19.3"
              class="indexterm"></a><a
              id="id-1.12.5.7.19.4"
              class="indexterm"></a><a
              id="id-1.12.5.7.19.5"
              class="indexterm"></a><a
              id="id-1.12.5.7.19.6"
              class="indexterm"></a><a
              id="id-1.12.5.7.19.7"
              class="indexterm"></a><div
              class="para">
				<code
                class="command">gdm3</code>, <code
                class="command">kdm</code>, <code
                class="command">lightdm</code>, och <code
                class="command">xdm</code> är fönsterhanterare. De får kontroll över det grafiska gränsnittet kort efter uppstarten för att kunna ge användaren en inloggningsskärm. När användaren väl loggat in kör de programmen som krävs för att kunna starta upp en grafisk arbetessession.
			</div></div><div
            class="para">
				VNC fungerar också för mobilanvändare eller anställda som då och då behöver logga in hemifrån för att kunna komma åt ett fjärrskrivbord liknande det de använder på jobbet. Konfigurationen för en sådan tjänst är komplicerad: först installerar du paketet <span
              class="pkg pkg">vnc4server</span>, ändrar konfigurationen för fönsterhanteraren att acceptera <code
              class="literal">XDMCP Query</code>-begäran (för <code
              class="command">gdm3</code> kan det utföras genom att lägga till <code
              class="literal">Enable=true</code> avsnittet “xdmcp” i filen <code
              class="filename">/etc/gdm3/daemon.conf</code>). Slutligen, starta VNC-servern med <code
              class="command">inetd</code> så att en sessione startas automatiskt när användare försöker att logga in. Du kan till exempel lägga till denna rad i <code
              class="filename">/etc/inetd.conf</code>:
			</div><pre
            class="programlisting">5950  stream  tcp  nowait  nobody.tty  /usr/bin/Xvnc Xvnc -inetd -query localhost -once -geometry 1024x768 -depth 16 securitytypes=none</pre><div
            class="para">
				Att dirigera om inkommande anslutningar till fönsterhanteraren löser autentiseringsproblemet, eftersom endast använda lokala konton kommer att gå vidare förbi <code
              class="command">gdm3</code>-inloggningskärmen (eller motsvarande <code
              class="command">kdm</code>, <code
              class="command">xdm</code>, och så vidare). Eftersom denna åtgärd möjliggör samtidiga inloggningar utan problem (förutsatt att servern är kraftig nog), kan den även användas för att få hela skrivbord för mobilanvändare (eller för mindre kraftiga skrivbordssystem, konfigurerade som tunna klienter). Användare loggar helt enkelt in till servern med <code
              class="command">vncviewer <em
                class="replaceable">server</em>:50</code>, eftersom porten som används är 5950.
			</div><a
            id="id-1.12.5.7.23"
            class="indexterm"></a></div></div><ul
        class="docnav"><li
          class="previous"><a
            accesskey="p"
            href="unix-services.html"><strong>Föregående</strong>Kapitel 9. Unixtjänster</a></li><li
          class="up"><a
            accesskey="u"
            href="#"><strong>Upp</strong></a></li><li
          class="home"><a
            accesskey="h"
            href="index.html"><strong>Hem</strong></a></li><li
          class="next"><a
            accesskey="n"
            href="sect.rights-management.html"><strong>Nästa</strong>9.3. Hantera behörigheter</a></li></ul><div
        id="translated_pages"><ul><li><a
              href="../ar-MA/sect.remote-login.html">ar-MA</a></li><li><a
              href="../da-DK/sect.remote-login.html">da-DK</a></li><li><a
              href="../de-DE/sect.remote-login.html">de-DE</a></li><li><a
              href="../el-GR/sect.remote-login.html">el-GR</a></li><li><a
              href="../en-US/sect.remote-login.html">en-US</a></li><li><a
              href="../es-ES/sect.remote-login.html">es-ES</a></li><li><a
              href="../fa-IR/sect.remote-login.html">fa-IR</a></li><li><a
              href="../fr-FR/sect.remote-login.html">fr-FR</a></li><li><a
              href="../hr-HR/sect.remote-login.html">hr-HR</a></li><li><a
              href="../id-ID/sect.remote-login.html">id-ID</a></li><li><a
              href="../it-IT/sect.remote-login.html">it-IT</a></li><li><a
              href="../ja-JP/sect.remote-login.html">ja-JP</a></li><li><a
              href="../ko-KR/sect.remote-login.html">ko-KR</a></li><li><a
              href="../nb-NO/sect.remote-login.html">nb-NO</a></li><li><a
              href="../pl-PL/sect.remote-login.html">pl-PL</a></li><li><a
              href="../pt-BR/sect.remote-login.html">pt-BR</a></li><li><a
              href="../ro-RO/sect.remote-login.html">ro-RO</a></li><li><a
              href="../ru-RU/sect.remote-login.html">ru-RU</a></li><li><a
              href="../tr-TR/sect.remote-login.html">tr-TR</a></li><li><a
              href="../vi-VN/sect.remote-login.html">vi-VN</a></li><li><a
              href="../zh-CN/sect.remote-login.html">zh-CN</a></li><li><a
              href="../zh-TW/sect.remote-login.html">zh-TW</a></li></ul></div></body></html>
