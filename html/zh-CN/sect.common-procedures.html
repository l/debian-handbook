<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html
    xmlns="http://www.w3.org/1999/xhtml"><head><meta
        http-equiv="Content-Type"
        content="text/html; charset=UTF-8" /><title
        xmlns:d="http://docbook.org/ns/docbook">7.2. 通常步骤</title><link
        rel="stylesheet"
        type="text/css"
        href="Common_Content/css/default.css" /><link
        rel="stylesheet"
        media="print"
        href="Common_Content/css/print.css"
        type="text/css" /><meta
        xmlns:d="http://docbook.org/ns/docbook"
        name="generator"
        content="publican v4.3.2" /><meta
        xmlns:d="http://docbook.org/ns/docbook"
        name="package"
        content="Debian-debian-handbook-8-zh-CN-1.0-1" /><meta
        name="keywords"
        content="文档, 问题的解决, 日志文件, README.Debian文件, 手册, info命令" /><link
        rel="home"
        href="index.html"
        title="Debian 管理员手册" /><link
        rel="up"
        href="solving-problems.html"
        title="第 7 章 问题的解决与相关信息的检索" /><link
        rel="prev"
        href="solving-problems.html"
        title="第 7 章 问题的解决与相关信息的检索" /><link
        rel="next"
        href="basic-configuration.html"
        title="第 8 章 基础配置：网络，账户，打印……" /><meta
        name="viewport"
        content="width=device-width, initial-scale=1" /><link
        rel="canonical"
        href="http://l.github.io/debian-handbook/html/zh-CN/sect.common-procedures.html" /></head><body><noscript><iframe
          src="//www.googletagmanager.com/ns.html?id=GTM-5H35QX"
          height="0"
          width="0"
          style="display:none;visibility:hidden"></iframe></noscript><script
        type="text/javascript">(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
j=d.createElement(s),dl=l!='dataLayer'?'&amp;l='+l:'';j.async=true;j.src=
'//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
})(window,document,'script','dataLayer','GTM-5H35QX');</script><div
        id="banner"><a
          href="../../"><span
            class="text">Download the ebook</span></a></div><p
        id="title"><a
          class="left"
          href="http://www.debian.org"><img
            alt="Product Site"
            src="Common_Content/images//image_left.png" /></a><a
          class="right"
          href="index.html"><img
            alt="Documentation Site"
            src="Common_Content/images//image_right.png" /></a></p><ul
        class="docnav top"><li
          class="previous"><a
            accesskey="p"
            href="solving-problems.html"><strong>上一页</strong></a></li><li
          class="home">Debian 管理员手册</li><li
          class="next"><a
            accesskey="n"
            href="basic-configuration.html"><strong>下一页</strong></a></li></ul><div
        class="section"><div
          class="titlepage"><div><div><h2
                class="title"><a
                  id="sect.common-procedures"></a>7.2. 通常步骤</h2></div></div></div><a
          id="id-1.10.5.2"
          class="indexterm"></a><div
          class="para">
			本节主要向您展示系统管理员经常遇到的通用操作的提示信息。这个过程未必包括所有可能遇到的情况，但可以作为处理更复杂问题的开始点。
		</div><div
          class="sidebar"><div
            class="titlepage"><div><div><p
                  class="title"><strong><span
                      class="emphasis"><em>发现</em></span> 其他语言的文档</strong></p></div></div></div><div
            class="para">
			通常情况下，非英语的文档都会放置在一些与软件包本身对应的独立软件包当中，这些独立的软件包会加上 <code
              class="literal">-<em
                class="replaceable">lang</em></code> 之类的后缀（根据语言的不同，这里的 <em
              class="replaceable">lang</em> 会被替换为 ISO 标准的两字符语言编号）。
		</div><div
            class="para">
			因此，<span
              class="emphasis"><em>apt-howto-fr</em></span> 这个软件包就包含了法文版的 <span
              class="emphasis"><em>APT</em></span> howto文档。与此同时， <span
              class="emphasis"><em>quick-reference-fr</em></span> 和 <span
              class="emphasis"><em>debian-reference-fr</em></span> 都是法文版本的Debian参考指引（最初的英文版本是由 Osamu Aoki 编写的）。
		</div></div><div
          class="section"><div
            class="titlepage"><div><div><h3
                  class="title"><a
                    id="id-1.10.5.5"></a>7.2.1. 配置一个程序</h3></div></div></div><a
            id="id-1.10.5.5.2"
            class="indexterm"></a><a
            id="id-1.10.5.5.3"
            class="indexterm"></a><div
            class="para">
				当你需要配置一个未知的软件包时，你必须按照如下步骤：首先，必须将原维护者所编写的文档通读一遍。阅读完 <code
              class="filename"> /usr/share/doc/<em
                class="replaceable">package</em>/README.Debian </code> 这文件之后，软件的使用将会变得简单。为了要了解程序原本的运作原理与新的版本间的不同之处，阅读文档（如 howtos 类的文档）就显得尤为重要。着些文档甚至会包括一些常见错误的处理办法，这能有效避免你在一些常规问题上多浪费时间。
			</div><div
            class="para">
				然后，你需要阅读软件的官方文档——对应于<a
              class="xref"
              href="solving-problems.html#sect.documentation-sources">第 7.1 节 “文档资源”</a>上一节有提到文档存在于不同的地方。采用命令<code
              class="command">dpkg -L <em
                class="replaceable">包名</em></code> 会给出软件包当中的文件列表；通过这个列表，你能迅速的找到有用的文档（包括位于<code
              class="filename">/etc/</code>目录下的配置文件）。<code
              class="command">dpkg -s <em
                class="replaceable">包名</em></code> 这个命令能生成包的元数据信息以及显示任何对软件包可能的意见与建议；通过这些命令，你就能找到那些让软件配置工作变得容易的文档或者工具。
			</div><div
            class="para">
				最后，上述的配置文件通过注释的方式通常都拥有良好的自定义文档，这些注释对每个变量的取值和设置的方式都用详细的描述。对于想对某行配置开启某些特定功能来说，这种注释文档的方式足以应付。在一些情况下，配置文件的样例，都会在 <code
              class="filename">/usr/share/doc/<em
                class="replaceable">package</em>/examples/</code> 目录。这些样例可以作为基本的配置文件使用。
			</div><div
            class="sidebar"><div
              class="titlepage"><div><div><p
                    class="title"><strong><span
                        class="emphasis"><em>DEBIAN 政策</em></span> 样例文件的位置</strong></p></div></div></div><a
              id="id-1.10.5.5.7.2"
              class="indexterm"></a><div
              class="para">
				所有的配置文件样例必须安装在<code
                class="filename">/usr/share/doc/<em
                  class="replaceable">package</em>/examples/</code> 目录。这些样例文件包括配置文件，程序的源代码（用于展示库的使用方法的代码），或者是给系统管理员在特定情况下（如初始化一个数据库）使用的数据转换脚本。如果这个样例只是针对某个特定的体系架构，则必须被安装在 <code
                class="filename">/usr/lib/<em
                  class="replaceable">package</em>/examples/</code> 这个路径，并且作一个链接到目录 <code
                class="filename">/usr/share/doc/<em
                  class="replaceable">package</em>/examples/</code> 去。
			</div></div></div><div
          class="section"><div
            class="titlepage"><div><div><h3
                  class="title"><a
                    id="id-1.10.5.6"></a>7.2.2. 监控后台进程在做什么</h3></div></div></div><div
            class="para">
				要理解后台进程(Daemon)做了什么通常都更加的复杂，因为系统管理员与进程间并不进行直接交互。要检查后台进程（daemon）的工作状态，需要进行测试。例如：如果要测试Apache（web服务）的daemon是否有效，需要通过生成http请求的方式进行测试。
			</div><div
            class="para">
				为了有效记录测试的结果，，daemon进程通常将其所遇到的所有出错信息报存在一种被成为日志文件或者系统日志的文件中。日志文件通常报存在 <code
              class="filename">/var/log/</code>目录或者其子目录当中。要准确知道日志文件对应的daemon进程，可以查看其文档。需要注意的是，单次测试通常不足以覆盖所有可能的用例；某些问题只在特定的条件下才会产生。
			</div><div
            class="sidebar"><div
              class="titlepage"><div><div><p
                    class="title"><strong><span
                        class="emphasis"><em>工具</em></span>使用<code
                        class="command">rsyslogd</code>后台进程（daemon）</strong></p></div></div></div><a
              id="id-1.10.5.6.4.2"
              class="indexterm"></a><a
              id="id-1.10.5.6.4.3"
              class="indexterm"></a><a
              id="id-1.10.5.6.4.4"
              class="indexterm"></a><div
              class="para">
				<code
                class="command">rsyslogd</code> 很特殊：它收集由其他程序发送给它的日志信息（内部系统消息）。每个日志的入口，都与一个子系统（如电子邮件、内核、授权系统等等）以及一个优先级相联系；<code
                class="command">rsyslod</code>通过这两部分的信息来决定下一步操作。日志消息可能被记录在多个不同的日志文件当中，和/或被发送到管理终端上。具体的定义都被记录在配置文件<code
                class="filename">/etc/rsyslog.conf</code>当中（手册文档页的名称与配置文件名相同）。
			</div><div
              class="para">
				<code
                class="command">rsyslogd</code>有提供特定的C函数用以发送日志信息，这能有效简化其使用的复杂程度。然而，一些后台运行的程序会由其自身来进行对日志文件的管理（<code
                class="command">samba</code>程序就是这样的例子，其作用是实现Windows到Linux系统的文件共享）。
			</div><div
              class="para">
				请注意在使用<code
                class="command">systemd</code>时，日志实际上是由<code
                class="command">systemd</code>进行搜集的，之后才会转发至<code
                class="command">rsyslogd</code>。因此这些日志可经由<code
                class="command">systemd</code>的日志系统，使用<code
                class="command">journalctl</code>进行查阅（参见<a
                class="xref"
                href="unix-services.html#sect.systemd">第 9.1.1 节 “Systemd 启动系统”</a>以了解详细信息）。
			</div></div><div
            class="sidebar"><div
              class="titlepage"><div><div><p
                    class="title"><strong><span
                        class="emphasis"><em>基础知识</em></span> Daemon</strong></p></div></div></div><a
              id="id-1.10.5.6.5.2"
              class="indexterm"></a><div
              class="para">
				一个守护进程是指不直接由用户调用而停留在后台的一类程序，在某些特定条件被满足的时候就会执行一些任务。很多的服务器程序都是守护进程，并且这类程序的命名通常都会以一个字母“d”来结尾（例如 <code
                class="command">sshd</code>、<code
                class="command">smtpd</code>、<code
                class="command">httpd</code>，等等）。
			</div></div><div
            class="para">
				作为一种预防措施，管理员应当定期阅读近期相关的系统日志。如此可以在遇到问题而不高兴的用户报告问题之前便发现问题。的确，用户可能会在数天中等待问题重复发生数次之后才报告问题。在大多数场合下，有一些专门的工具可以分析较大的日志文件的内容。特别地，存在分析网页服务器日志的工具（如<code
              class="command">analog</code>、<code
              class="command">awstats</code>、<code
              class="command">webalizer</code>，它们和 Apache 协同工作），以及针对 FTP 服务器、代理/缓存服务器、防火墙、电子邮件服务器、DNS 服务器甚至是打印服务器的日志分析工具。其中某些工具支持以模块的方式运行，从而可以分析数种不同类型的日志文件，例如 <code
              class="command">lire</code>。还有其它工具，如<code
              class="command">logcheck</code>（该软件在 <a
              class="xref"
              href="security.html">第 14 章 <em>安全</em></a> 部分有所讨论），能够扫描日志文件并搜索需要处理的告警信息。
			</div><a
            id="id-1.10.5.6.7"
            class="indexterm"></a><a
            id="id-1.10.5.6.8"
            class="indexterm"></a><a
            id="id-1.10.5.6.9"
            class="indexterm"></a><a
            id="id-1.10.5.6.10"
            class="indexterm"></a><a
            id="id-1.10.5.6.11"
            class="indexterm"></a></div><div
          class="section"><div
            class="titlepage"><div><div><h3
                  class="title"><a
                    id="id-1.10.5.7"></a>7.2.3. 通过邮件列表寻求帮助</h3></div></div></div><div
            class="para">
				如果经过多番查找仍然没办法找出问题的根源，最可能得到帮助的方法，就是去咨询有经验的人。<code
              class="email"><a
                class="email"
                href="mailto:debian-user@lists.debian.org">debian-user@lists.debian.org</a></code>邮件列表正是为此意图而设立的。如其他社区一样，邮件列表作为一种社区，同样有其需要遵守的规则。在提出任何问题之前，需要再三检查问题是否符合着些规则，你需要确认问题并未包含在近期的讨论话题以及任何的官方文档之中。<div
              class="url">→ <a
                href="https://wiki.debian.org/DebianMailingLists">https://wiki.debian.org/DebianMailingLists</a></div> <div
              class="url">→ <a
                href="https://lists.debian.org/debian-user/">https://lists.debian.org/debian-user/</a></div>"
			</div><a
            id="id-1.10.5.7.3"
            class="indexterm"></a><a
            id="id-1.10.5.7.4"
            class="indexterm"></a><div
            class="sidebar"><div
              class="titlepage"><div><div><p
                    class="title"><strong><span
                        class="emphasis"><em>TIP</em></span> 从网络上浏览列表</strong></p></div></div></div><div
              class="para">
				对于一些高度活跃的邮件列表，如<code
                class="email"><a
                  class="email"
                  href="mailto:debian-user@lists.debian.org">debian-user@lists.debian.org</a></code>，通常都值得将其当作论坛（或新闻组）来浏览。网站Gmane.org 则允许以这种格式对Debian的列表进行咨询。刚提到的邮件列表地址如下：<div
                class="url">→ <a
                  href="http://dir.gmane.org/gmane.linux.debian.user">http://dir.gmane.org/gmane.linux.debian.user</a></div>
			</div></div><div
            class="sidebar"><div
              class="titlepage"><div><div><p
                    class="title"><strong><span
                        class="emphasis"><em>基础知识</em></span> 实用网络礼仪</strong></p></div></div></div><div
              class="para">
				一般来说，对于所有邮件列表上的信件来往，都应当遵守网络礼仪（Netiquette）的相关规则。这个术语（Netiquette）指代一组常识性的规则，从常见礼貌行为到应当避免犯的错误都有所涉及。<div
                class="url">→ <a
                  href="http://tools.ietf.org/html/rfc1855">http://tools.ietf.org/html/rfc1855</a></div><a
                id="id-1.10.5.7.6.2.2"
                class="indexterm"></a>
			</div><div
              class="para">
				此外，Debian项目组提供了沟通的频道。在这里你可以联系上Debian的源代码组织负责人（the Debian Code of Conduct）:<div
                class="url">→ <a
                  href="https://www.debian.org/code_of_conduct">https://www.debian.org/code_of_conduct</a></div>
			</div></div><div
            class="para">
				一旦你遇到的问题满足了以上两个条件，你就可以考虑将你所描述的问题提交到邮件列表。发布的内容尽可能包括如下一些信息：不同的测试条件，所查阅过的文档，诊断问题的方法，相关的依赖包以及其他一切可能包含的信息信息等。检查Debian的Bug跟踪系统（或简称BTS<a
              class="xref"
              href="sect.debian-internals.html#sidebar.bts"><span
                class="emphasis"><em>工具</em></span> 缺陷跟踪系统</a>）上有没类似的问题，向查找出来的bugs链接提交你研究的结果。BTS的地址是<div
              class="url">→ <a
                href="http://www.debian.org/Bugs/index.html">http://www.debian.org/Bugs/index.html</a></div>
			</div><div
            class="para">
				只有当问题描述更加精确且措辞得当，你才能有更大的机会得到答案，或至少能得到一些有用的回应。如果你收到一些与问题相关的私人电邮，不妨考虑将其公布到邮件列表当中，这可以使得其他人受益。同样如果邮件列表能被进行归档，或者能被不同的搜索引擎索引，也能使问题的解决方案更容易被查找到。
			</div></div><div
          class="section"><div
            class="titlepage"><div><div><h3
                  class="title"><a
                    id="id-1.10.5.8"></a>7.2.4. 报告棘手的问题所存在的Bug</h3></div></div></div><a
            id="id-1.10.5.8.2"
            class="indexterm"></a><a
            id="id-1.10.5.8.3"
            class="indexterm"></a><div
            class="para">
				如果所有的努力都不能解决你所遇到的问题，或许得不到解决方法并非你的责任，而更可能是因为程序本身存在缺陷。在这种情况之下，合理的流程就是将缺陷向 Debian 或者直接向上游的开发者进行报告。要做到这一点，你需要对有问题的程序进行有效的隔离，并且创造一个可以使问题重现的最小测试环境。如果你知道是什么原因导致的问题，则可以使用命令 <code
              class="command">dpkg -S <em
                class="replaceable">file_in_question</em></code> 来寻找问题文件对应的软件包。请查阅缺陷跟踪系统（<code
              class="literal">https://bugs.debian.org/<em
                class="replaceable">package</em></code>）以确保该问题尚未被其他人报告。之后，你可以使用命令 <code
              class="command">reportbug</code> 来发送你自己的缺陷报告，其中应当包括尽可能多的信息，特别是关于可用于重现问题的最小测试用例方面的完整描述，以便于其他人重现你所报告的缺陷。
			</div><div
            class="para">
				本章旨在更有效地解决后面章节可能遇到的问题。有需要的话，就经常使用这些方法吧！
			</div></div></div><ul
        class="docnav"><li
          class="previous"><a
            accesskey="p"
            href="solving-problems.html"><strong>上一页</strong>第 7 章 问题的解决与相关信息的检索</a></li><li
          class="up"><a
            accesskey="u"
            href="#"><strong>上一级</strong></a></li><li
          class="home"><a
            accesskey="h"
            href="index.html"><strong>起始页</strong></a></li><li
          class="next"><a
            accesskey="n"
            href="basic-configuration.html"><strong>下一页</strong>第 8 章 基础配置：网络，账户，打印……</a></li></ul><div
        id="translated_pages"><ul><li><a
              href="../ar-MA/sect.common-procedures.html">ar-MA</a></li><li><a
              href="../da-DK/sect.common-procedures.html">da-DK</a></li><li><a
              href="../de-DE/sect.common-procedures.html">de-DE</a></li><li><a
              href="../el-GR/sect.common-procedures.html">el-GR</a></li><li><a
              href="../en-US/sect.common-procedures.html">en-US</a></li><li><a
              href="../es-ES/sect.common-procedures.html">es-ES</a></li><li><a
              href="../fa-IR/sect.common-procedures.html">fa-IR</a></li><li><a
              href="../fr-FR/sect.common-procedures.html">fr-FR</a></li><li><a
              href="../hr-HR/sect.common-procedures.html">hr-HR</a></li><li><a
              href="../id-ID/sect.common-procedures.html">id-ID</a></li><li><a
              href="../it-IT/sect.common-procedures.html">it-IT</a></li><li><a
              href="../ja-JP/sect.common-procedures.html">ja-JP</a></li><li><a
              href="../ko-KR/sect.common-procedures.html">ko-KR</a></li><li><a
              href="../nb-NO/sect.common-procedures.html">nb-NO</a></li><li><a
              href="../pl-PL/sect.common-procedures.html">pl-PL</a></li><li><a
              href="../pt-BR/sect.common-procedures.html">pt-BR</a></li><li><a
              href="../ro-RO/sect.common-procedures.html">ro-RO</a></li><li><a
              href="../ru-RU/sect.common-procedures.html">ru-RU</a></li><li><a
              href="../tr-TR/sect.common-procedures.html">tr-TR</a></li><li><a
              href="../vi-VN/sect.common-procedures.html">vi-VN</a></li><li><a
              href="../zh-CN/sect.common-procedures.html">zh-CN</a></li><li><a
              href="../zh-TW/sect.common-procedures.html">zh-TW</a></li></ul></div></body></html>
