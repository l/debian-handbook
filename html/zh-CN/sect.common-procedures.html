<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html
    xmlns="http://www.w3.org/1999/xhtml"><head><meta
        http-equiv="Content-Type"
        content="text/html; charset=UTF-8" /><title
        xmlns:d="http://docbook.org/ns/docbook">7.2. 通常步骤</title><link
        rel="stylesheet"
        type="text/css"
        href="Common_Content/css/default.css" /><link
        rel="stylesheet"
        media="print"
        href="Common_Content/css/print.css"
        type="text/css" /><meta
        xmlns:d="http://docbook.org/ns/docbook"
        name="generator"
        content="publican v4.3.1" /><meta
        xmlns:d="http://docbook.org/ns/docbook"
        name="package"
        content="Debian-debian-handbook-8-zh-CN-1.0-1" /><meta
        name="keywords"
        content="文档, 问题的解决, 日志文件, README.Debian, 手册, info" /><link
        rel="home"
        href="index.html"
        title="Debian 管理员手册" /><link
        rel="up"
        href="solving-problems.html"
        title="第 7 章 问题的解决与相关信息的检索" /><link
        rel="prev"
        href="solving-problems.html"
        title="第 7 章 问题的解决与相关信息的检索" /><link
        rel="next"
        href="basic-configuration.html"
        title="第 8 章 Basic Configuration: Network, Accounts, Printing..." /><link
        rel="canonical"
        href="http://l.github.io/debian-handbook/html/zh-CN/sect.common-procedures.html" /></head><body
      class="draft "><noscript><iframe
          src="//www.googletagmanager.com/ns.html?id=GTM-5H35QX"
          height="0"
          width="0"
          style="display:none;visibility:hidden"></iframe></noscript><script
        type="text/javascript">(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
j=d.createElement(s),dl=l!='dataLayer'?'&amp;l='+l:'';j.async=true;j.src=
'//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
})(window,document,'script','dataLayer','GTM-5H35QX');</script><div
        id="banner"><a
          href="http://debian-handbook.info/get/"><span
            class="text">Download the ebook</span></a></div><p
        id="title"><a
          class="left"
          href="http://www.debian.org"><img
            alt="Product Site"
            src="Common_Content/images//image_left.png" /></a><a
          class="right"
          href="http://debian-handbook.info"><img
            alt="Documentation Site"
            src="Common_Content/images//image_right.png" /></a></p><ul
        class="docnav top"><li
          class="previous"><a
            accesskey="p"
            href="solving-problems.html"><strong>上一页</strong></a></li><li
          class="home">Debian 管理员手册</li><li
          class="next"><a
            accesskey="n"
            href="basic-configuration.html"><strong>下一页</strong></a></li></ul><div
        class="section"><div
          class="titlepage"><div><div><h2
                class="title"><a
                  id="sect.common-procedures"></a>7.2. 通常步骤</h2></div></div></div><a
          id="idm140492736543120"
          class="indexterm"></a><div
          class="para">
			本节主要向您展示系统管理员经常遇到的通用操作的提示信息。这个过程未必包括所有可能遇到的情况，但可以作为处理更复杂问题的开始点。
		</div><div
          class="sidebar"><div
            class="titlepage"><div><div><p
                  class="title"><strong><span
                      class="emphasis"><em>DISCOVERY</em></span> Documentation in French</strong></p></div></div></div><div
            class="para">
			通常情况下，非英语的文档都会放置在一些与软件包本身对应的独立软件包当中，这些独立的软件包会加上 <code
              class="literal">-<em
                class="replaceable">lang</em></code> 之类的后缀（根据语言的不同，这里的lang会被替代成ISO标准的两字母国家缩写编码）。
		</div><div
            class="para">
			For instance, the <span
              class="emphasis"><em>apt-howto-fr</em></span> package contains the French translation of the howto for <span
              class="emphasis"><em>APT</em></span>. Likewise, the <span
              class="emphasis"><em>quick-reference-fr</em></span> and <span
              class="emphasis"><em>debian-reference-fr</em></span> packages are the French versions of the reference guides for Debian (initially written in English by Osamu Aoki).
		</div></div><div
          class="section"><div
            class="titlepage"><div><div><h3
                  class="title"><a
                    id="idm140492736536288"></a>7.2.1. 配置一个程序</h3></div></div></div><a
            id="idm140492736535488"
            class="indexterm"></a><a
            id="idm140492736534048"
            class="indexterm"></a><div
            class="para">
				当你需要配置一个未知的软件包时，你必须按照如下步骤：首先，必须将原维护者所编写的文档通读一遍。阅读完 <code
              class="filename"> /usr/share/doc/<em
                class="replaceable">package</em>/README.Debian </code> 这文件之后，软件的使用将会变得简单。为了要了解程序原本的运作原理与新的版本间的不同之处，阅读文档（如 howtos 类的文档）就显得尤为重要。着些文档甚至会包括一些常见错误的处理办法，这能有效避免你在一些常规问题上多浪费时间。
			</div><div
            class="para">
				Then, you should look at the software's official documentation — refer to the previous section to identify the various existing documentation sources. The <code
              class="command">dpkg -L <em
                class="replaceable">package</em></code> command gives a list of files included in the package; you can therefore quickly identify the available documentation (as well as the configuration files, located in <code
              class="filename">/etc/</code>). <code
              class="command">dpkg -s <em
                class="replaceable">package</em></code> displays the package meta-data and shows any possible recommended or suggested packages; in there, you can find documentation or a utility that will ease the configuration of the software.
			</div><div
            class="para">
				最后，上述的配置文件通过注释的方式通常都拥有良好的自定义文档，这些注释对每个变量的取值和设置的方式都用详细的描述。对于想对某行配置开启某些特定功能来说，这种注释文档的方式足以应付。在一些情况下，配置文件的样例，都会在 <code
              class="filename">/usr/share/doc/<em
                class="replaceable">package</em>/examples/</code> 目录。这些样例可以作为基本的配置文件使用。
			</div><div
            class="sidebar"><div
              class="titlepage"><div><div><p
                    class="title"><strong><span
                        class="emphasis"><em>DEBIAN 政策</em></span> 样例文件的位置</strong></p></div></div></div><a
              id="idm140492736524832"
              class="indexterm"></a><div
              class="para">
				All examples must be installed in the <code
                class="filename">/usr/share/doc/<em
                  class="replaceable">package</em>/examples/</code> directory. This may be a configuration file, program source code (an example of the use of a library), or a data conversion script that the administrator can use in certain cases (such as to initialize a database). If the example is specific to a particular architecture, it should be installed in <code
                class="filename">/usr/lib/<em
                  class="replaceable">package</em>/examples/</code> and there should be a link pointing to that file in the <code
                class="filename">/usr/share/doc/<em
                  class="replaceable">package</em>/examples/</code> directory.
			</div></div></div><div
          class="section"><div
            class="titlepage"><div><div><h3
                  class="title"><a
                    id="idm140492736519968"></a>7.2.2. 监控后台进程在做什么</h3></div></div></div><div
            class="para">
				Understanding what a daemon does is somewhat more complicated, since it does not interact directly with the administrator. To check that a daemon is actually working, you need to test it. For example, to check the Apache (web server) daemon, test it with an HTTP request.
			</div><div
            class="para">
				为了有效记录测试的结果，，daemon进程通常将其所遇到的所有出错信息报存在一种被成为日志文件或者系统日志的文件中。日志文件通常报存在 <code
              class="filename">/var/log/</code>目录或者其子目录当中。要准确知道日志文件对应的daemon进程，可以查看其文档。需要注意的是，单次测试通常不足以覆盖所有可能的用例；某些问题只在特定的条件下才会产生。
			</div><div
            class="sidebar"><div
              class="titlepage"><div><div><p
                    class="title"><strong><span
                        class="emphasis"><em>TOOL</em></span> The <code
                        class="command">rsyslogd</code> daemon</strong></p></div></div></div><a
              id="idm140492736515488"
              class="indexterm"></a><a
              id="idm140492736514368"
              class="indexterm"></a><a
              id="idm140492736512928"
              class="indexterm"></a><div
              class="para">
				<code
                class="command">rsyslogd</code> is special: it collects logs (internal system messages) that are sent to it by other programs. Each log entry is associated with a subsystem (e-mail, kernel, authentication, etc.) and a priority; <code
                class="command">rsyslogd</code> processes these two pieces of information to decide on what to do. The log message may be recorded in various log files, and/or sent to an administration console. The details are defined in the <code
                class="filename">/etc/rsyslog.conf</code> configuration file (documented in the manual page of the same name).
			</div><div
              class="para">
				<code
                class="command">rsyslogd</code>有提供特定的C函数用以发送日志信息，这能有效简化其使用的复杂程度。然而，一些后台运行的程序会由其自身来进行对日志文件的管理（<code
                class="command">samba</code>程序就是这样的例子，其作用是实现Windows到Linux系统的文件共享）。
			</div></div><div
            class="sidebar"><div
              class="titlepage"><div><div><p
                    class="title"><strong><span
                        class="emphasis"><em>基础知识</em></span> Daemon</strong></p></div></div></div><a
              id="idm140492731676704"
              class="indexterm"></a><div
              class="para">
				一个Daemon（中文直译为魔鬼）程序，是指不直接由用户调用，而运行在后台一类程序，在遇到某些特定条件的时候就会执行一些任务。很多的服务器端都是这类程序，并且这类程序的命名通常都会以一个字母“d”来结尾（例如 <code
                class="command">sshd</code>, <code
                class="command">smtpd</code>, <code
                class="command">httpd</code>等等）
			</div></div><div
            class="para">
				As a preventive operation, the administrator should regularly read the most relevant server logs. They can thus diagnose problems before they are even reported by disgruntled users. Indeed users may sometimes wait for a problem to occur repeatedly over several days before reporting it. In many cases, there are specific tools to analyze the contents of the larger log files. In particular, such utilities exist for web servers (such as <code
              class="command">analog</code>, <code
              class="command">awstats</code>, <code
              class="command">webalizer</code> for Apache), for FTP servers, for proxy/cache servers, for firewalls, for e-mail servers, for DNS servers, and even for print servers. Some of these utilities operate in a modular manner and allow analysis of several types of log files. This is the case of <code
              class="command">lire</code> or also <code
              class="command">modlogan</code>. Other tools, such as <code
              class="command">logcheck</code> (a software discussed in <a
              class="xref"
              href="security.html">第 14 章 <em>安全</em></a>), scan these files in search of alerts to be dealt with.
			</div><a
            id="idm140492731668896"
            class="indexterm"></a><a
            id="idm140492731667776"
            class="indexterm"></a><a
            id="idm140492731666656"
            class="indexterm"></a><a
            id="idm140492731665536"
            class="indexterm"></a><a
            id="idm140492731664416"
            class="indexterm"></a><a
            id="idm140492731663296"
            class="indexterm"></a></div><div
          class="section"><div
            class="titlepage"><div><div><h3
                  class="title"><a
                    id="idm140492731662016"></a>7.2.3. 通过邮件列表寻求帮助</h3></div></div></div><div
            class="para">
				如果经过多番查找仍然没办法找出问题的根源，最可能得到帮助的方法，就是去咨询有经验的人。<code
              class="email"><a
                class="email"
                href="mailto:debian-user@lists.debian.org">debian-user@lists.debian.org</a></code>邮件列表就是为此意图而设立的。如其他社区一样，邮件列表作为一种社区，同样有其需要遵守的规则。在提出任何问题之前，需要再三检查问题是否符合着些规则，你需要确认问题并未包含在近期的讨论话题以及任何的官方文档之中。<div
              class="url">→ <a
                href="http://wiki.debian.org/DebianMailingLists\">http://wiki.debian.org/DebianMailingLists\</a></div> <div
              class="url">→ <a
                href="http://lists.debian.org/debian-user/">http://lists.debian.org/debian-user/</a></div>"
			</div><a
            id="idm140492731658560"
            class="indexterm"></a><a
            id="idm140492731657280"
            class="indexterm"></a><div
            class="sidebar"><div
              class="titlepage"><div><div><p
                    class="title"><strong><span
                        class="emphasis"><em>TIP</em></span> Reading a list on the Web</strong></p></div></div></div><div
              class="para">
				For high volume mailing lists, such as <code
                class="email"><a
                  class="email"
                  href="mailto:debian-user@lists.debian.org">debian-user@lists.debian.org</a></code>, it may be worthwhile to go through them as a discussion forum (or newsgroup). Gmane.org allows consultation of the Debian lists in this format. The list mentioned above is available at: <div
                class="url">→ <a
                  href="http://dir.gmane.org/gmane.linux.debian.user">http://dir.gmane.org/gmane.linux.debian.user</a></div>
			</div></div><div
            class="sidebar"><div
              class="titlepage"><div><div><p
                    class="title"><strong><span
                        class="emphasis"><em>BACK TO BASICS</em></span> Netiquette applies</strong></p></div></div></div><div
              class="para">
				In general, for all correspondence on e-mail lists, the rules of Netiquette should be followed. This term refers to a set of common sense rules, from common courtesy to mistakes that should be avoided. <div
                class="url">→ <a
                  href="http://tools.ietf.org/html/rfc1855">http://tools.ietf.org/html/rfc1855</a></div> <a
                id="idm140492731651024"
                class="indexterm"></a>
			</div></div><div
            class="para">
				Once those two conditions are met, you can think of describing your problem to the mailing list. Include as much relevant information as possible: various tests conducted, documentation consulted, how you attempted to diagnose the problem, the packages concerned or those that may be involved, etc. Check the Debian Bug Tracking System (BTS, described in sidebar <a
              class="xref"
              href="sect.debian-internals.html#sidebar.bts"><span
                class="emphasis"><em>TOOL</em></span> Bug tracking system</a>) for similar problems, and mention the results of that search, providing links to bugs found. BTS starts on: <div
              class="url">→ <a
                href="http://www.debian.org/Bugs/index.html">http://www.debian.org/Bugs/index.html</a></div>
			</div><div
            class="para">
				The more courteous and precise you have been, the greater your chances are of getting an answer, or, at least, some elements of response. If you receive relevant information by private e-mail, think of summarizing this information publicly so that others can benefit. This also allows the list's archives, searched through various search engines, to show the resolution for others who may have the same question.
			</div></div><div
          class="section"><div
            class="titlepage"><div><div><h3
                  class="title"><a
                    id="idm140492731646912"></a>7.2.4. 报告棘手的问题所存在的Bug</h3></div></div></div><a
            id="idm140492731646144"
            class="indexterm"></a><a
            id="idm140492731645184"
            class="indexterm"></a><div
            class="para">
				如果所有的努力都不能解决你所遇到的问题，或许是因为得不到解决方法并非你的责任，而更可能是因为程序本身存在bug。在这种情况之下，更合理的流程就是将bug向Debian或者上游的开发者进行回报。要做到向开发者们报告，你需要对有问题的程序进行有效的隔离，并且创造一个最小的测试环境使得问题可以重现。如果你知道是什么原因导致的问题，则可以使用命令 <code
              class="command">dpkg -S <em
                class="replaceable">file_in_question</em></code> 来查阅Bug跟踪系统，以确保该问题尚未被其他人上报。确认无上报后，使用命令 <code
              class="command">reportbug</code> 来提供尽可能完整的信息，特别是关于可用于重现问题的最小测试用例方面的描述。
			</div><div
            class="para">
				本章旨在更有效的解决后面章节可能遇到的问题，建议上述方法能经常被采用。
			</div></div></div><ul
        class="docnav"><li
          class="previous"><a
            accesskey="p"
            href="solving-problems.html"><strong>上一页</strong>第 7 章 问题的解决与相关信息的检索</a></li><li
          class="up"><a
            accesskey="u"
            href="#"><strong>上一级</strong></a></li><li
          class="home"><a
            accesskey="h"
            href="index.html"><strong>起始页</strong></a></li><li
          class="next"><a
            accesskey="n"
            href="basic-configuration.html"><strong>下一页</strong>第 8 章 Basic Configuration: Network, Accounts, Pri...</a></li></ul><div
        id="translated_pages"><ul><li><a
              href="../ar-MA/sect.common-procedures.html">ar-MA</a></li><li><a
              href="../da-DK/sect.common-procedures.html">da-DK</a></li><li><a
              href="../de-DE/sect.common-procedures.html">de-DE</a></li><li><a
              href="../el-GR/sect.common-procedures.html">el-GR</a></li><li><a
              href="../en-US/sect.common-procedures.html">en-US</a></li><li><a
              href="../es-ES/sect.common-procedures.html">es-ES</a></li><li><a
              href="../fa-IR/sect.common-procedures.html">fa-IR</a></li><li><a
              href="../fr-FR/sect.common-procedures.html">fr-FR</a></li><li><a
              href="../hr-HR/sect.common-procedures.html">hr-HR</a></li><li><a
              href="../id-ID/sect.common-procedures.html">id-ID</a></li><li><a
              href="../it-IT/sect.common-procedures.html">it-IT</a></li><li><a
              href="../ja-JP/sect.common-procedures.html">ja-JP</a></li><li><a
              href="../pl-PL/sect.common-procedures.html">pl-PL</a></li><li><a
              href="../pt-BR/sect.common-procedures.html">pt-BR</a></li><li><a
              href="../ro-RO/sect.common-procedures.html">ro-RO</a></li><li><a
              href="../ru-RU/sect.common-procedures.html">ru-RU</a></li><li><a
              href="../tr-TR/sect.common-procedures.html">tr-TR</a></li><li><a
              href="../zh-CN/sect.common-procedures.html">zh-CN</a></li></ul></div></body></html>
