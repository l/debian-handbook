<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html
    xmlns="http://www.w3.org/1999/xhtml"><head><meta
        http-equiv="Content-Type"
        content="text/html; charset=UTF-8" /><title
        xmlns:d="http://docbook.org/ns/docbook">6.4. 前置：aptitude、synaptic</title><link
        rel="stylesheet"
        type="text/css"
        href="Common_Content/css/default.css" /><link
        rel="stylesheet"
        media="print"
        href="Common_Content/css/print.css"
        type="text/css" /><meta
        xmlns:d="http://docbook.org/ns/docbook"
        name="generator"
        content="publican v4.3.2" /><meta
        xmlns:d="http://docbook.org/ns/docbook"
        name="package"
        content="Debian-debian-handbook-9-zh-CN-1.0-1" /><meta
        name="keywords"
        content="高级包管理工具(Advanced Packaging Tool), apt-get, apt-cache, aptitude 更安全的apt, 新立得包管理器, sources.list, apt-cdrom" /><link
        rel="home"
        href="index.html"
        title="Debian 管理员手册" /><link
        rel="up"
        href="apt.html"
        title="第 6 章 维护和更新：APT 工具" /><link
        rel="prev"
        href="sect.apt-cache.html"
        title="6.3. apt-cache 命令" /><link
        rel="next"
        href="sect.package-authentication.html"
        title="6.5. 检查软件包真伪" /><meta
        name="viewport"
        content="width=device-width, initial-scale=1" /><meta
        name="flattr:id"
        content="4pz9jq" /><link
        rel="canonical"
        href="http://l.github.io/debian-handbook/html/zh-CN/sect.apt-frontends.html" /></head><body><noscript><iframe
          src="//www.googletagmanager.com/ns.html?id=GTM-5H35QX"
          height="0"
          width="0"
          style="display:none;visibility:hidden"></iframe></noscript><script
        type="text/javascript">(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
j=d.createElement(s),dl=l!='dataLayer'?'&amp;l='+l:'';j.async=true;j.src=
'//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
})(window,document,'script','dataLayer','GTM-5H35QX');</script><div
        id="banner"><a
          href="../../"><span
            class="text">Download the ebook</span></a></div><p
        id="title"><a
          class="left"
          href="http://www.debian.org"><img
            alt="Product Site"
            src="Common_Content/images//image_left.png" /></a><a
          class="right"
          href="index.html"><img
            alt="Documentation Site"
            src="Common_Content/images//image_right.png" /></a></p><ul
        class="docnav top"><li
          class="previous"><a
            accesskey="p"
            href="sect.apt-cache.html"><strong>上一页</strong></a></li><li
          class="home">Debian 管理员手册</li><li
          class="next"><a
            accesskey="n"
            href="sect.package-authentication.html"><strong>下一页</strong></a></li></ul><div
        class="section"><div
          class="titlepage"><div><div><h2
                class="title"><a
                  id="sect.apt-frontends"></a>6.4. 前置：<code
                  class="command">aptitude</code>、<code
                  class="command">synaptic</code></h2></div></div></div><a
          id="id-1.9.13.2"
          class="indexterm"></a><a
          id="id-1.9.13.3"
          class="indexterm"></a><a
          id="id-1.9.13.4"
          class="indexterm"></a><div
          class="para">
			APT 是 C++ 写成程序，甚源代码在 <code
            class="command">libapt-pkg</code> 共享程序库内。以此共享程序库创建读者接口 (前置)，因为很容易再利用在程序库内的源代码。过去 <code
            class="command">apt-get</code> 只当做 <code
            class="command">libapt-pkg</code> 的测试前置，但此事实也渐趋模糊。
		</div><div
          class="section"><div
            class="titlepage"><div><div><h3
                  class="title"><a
                    id="sect.aptitude"></a>6.4.1. <code
                    class="command">aptitude</code></h3></div></div></div><div
            class="para">
				<code
              class="command">aptitude</code> 是交互程序，可用于终端机的半图形模式可浏览已安装与可得软件包，搜索所有可用信息，并选择安装或移除的软件包。此程序专为管理者而设计，缺省的对象比 <code
              class="command">apt-get</code> 的对象更聪慧，且其接口更容易理解。
			</div><div
            class="figure"><a
              id="id-1.9.13.6.3"></a><div
              class="figure-contents"><div
                class="mediaobject"><img
                  src="images/aptitude.png"
                  alt="The aptitude 软件包管理者" /></div></div><p
              class="title"><strong>图 6.1. The <code
                  class="command">aptitude</code> 软件包管理者</strong></p></div><div
            class="para">
				When it starts, <code
              class="command">aptitude</code> shows a list of packages sorted by state (installed, non-installed, or installed but not available on the mirrors — other sections display tasks, virtual packages, and new packages that appeared recently on mirrors). To facilitate thematic browsing, other views are available. In all cases, <code
              class="command">aptitude</code> displays a list combining categories and packages on the screen. Categories are organized through a tree structure, whose branches can respectively be unfolded or closed with the <span
              class="keycap"><strong>Enter</strong></span>, <span
              class="keycap"><strong>[</strong></span> and <span
              class="keycap"><strong>]</strong></span> keys. <span
              class="keycap"><strong>+</strong></span> should be used to mark a package for installation, <span
              class="keycap"><strong>-</strong></span> to mark it for removal and <span
              class="keycap"><strong>_</strong></span> to purge it (note that these keys can also be used for categories, in which case the corresponding actions will be applied to all the packages of the category). <span
              class="keycap"><strong>u</strong></span> updates the lists of available packages and <span
              class="keycap"><strong>Shift</strong></span>+<span
              class="keycap"><strong>u</strong></span> prepares a global system upgrade. <span
              class="keycap"><strong>g</strong></span> switches to a summary view of the requested changes (and typing <span
              class="keycap"><strong>g</strong></span> again will apply the changes), and <span
              class="keycap"><strong>q</strong></span> quits the current view. If you are in the initial view, this will effectively close <code
              class="command">aptitude</code>.
			</div><div
            class="sidebar"><div
              class="titlepage"><div><div><p
                    class="title"><strong><span
                        class="emphasis"><em>文档</em></span> <code
                        class="command">aptitude</code></strong></p></div></div></div><div
              class="para">
				此区块不包括使用 <code
                class="command">aptitude</code> 的详情，只专注于提供急救用的工具包。<code
                class="command">aptitude</code> 的文档较完整，建议您使用 <span
                class="pkg pkg">aptitude-doc-en</span> 软件包内的完整手册 (见 <code
                class="filename">/usr/share/doc/aptitude/html/en/index.html</code>)。
			</div></div><div
            class="para">
				键入 <span
              class="keycap"><strong>/</strong></span> 及搜索的键词，就能搜索软件包。键词对应至软件包的名称，也可应用于描述内容 (若前置 <code
              class="literal">~d</code>、区块 (前置 <code
              class="literal">~s</code>) 或文档内的其他字词。同样的键词可以筛选显示软件包的清单：键入 <span
              class="keycap"><strong>l</strong></span> 键 (如同在 <span
              class="foreignphrase"><em
                class="foreignphrase">limit</em></span> 之内) 与其他键词。
			</div><div
            class="para">
				管理 Debian 软件包的 “自动旗标” (见 <a
              class="xref"
              href="sect.apt-get.html#sect.automatic-tracking">第 6.2.7 节 “自动追踪已安装的软件包”</a>)，对 <code
              class="command">aptitude</code> 而言是小事一椿。可以用 <span
              class="keycap"><strong>Shift</strong></span>+<span
              class="keycap"><strong>m</strong></span> 浏览已安装并标示为自动的软件包或以 <span
              class="keycap"><strong>m</strong></span> 键移除标示。在软件包清单内，“自动软件包” 标示为 “A”。此功能也可简单看到机器内正在使用的软件包，不必看那些程序库与相依性繁琐的细节。相关的键词可以与 <span
              class="keycap"><strong>l</strong></span> (启动筛选模式) 一起使用的是 <code
              class="literal">~i!~M</code>。它的作用是只看已安装的软件包 (<code
              class="literal">~i</code>) 不是被标示为自动(<code
              class="literal">!~M</code>) 的软件包。
			</div><div
            class="sidebar"><div
              class="titlepage"><div><div><p
                    class="title"><strong><span
                        class="emphasis"><em>工具</em></span> 在命令行接口使用 <code
                        class="command">aptitude</code></strong></p></div></div></div><div
              class="para">
				经由命令行或交互接口可以近用 <code
                class="command">aptitude</code> 大部分的功能。命令行看来像是 <code
                class="command">apt-get</code> 与 <code
                class="command">apt-cache</code>。
			</div><div
              class="para">
				也能从命令行近用 <code
                class="command">aptitude</code> 的高端功能。使用交互版相同的软件包搜索模式。例如，清除 “手动安装” 软件包、本地安装的程序不再需要程序库或 Perl 模块，就可把对应的软件包标示为自动：
			</div><pre
              class="screen"><code
                class="computeroutput"># </code><strong
                class="userinput"><code>aptitude markauto '~slibs|~sperl'</code></strong></pre><div
              class="para">
				从这里您可看到 <code
                class="command">aptitude</code> 搜索模式系统的威力，即时选取 <code
                class="literal">libs</code> 与 <code
                class="literal">perl</code> 区块的所有软件包。
			</div><div
              class="para">
				小心对应，部分软件包被标记为自动且其他软件包均未相依于它们，该等软件包就会被自动移除 (经过确认程序)。
			</div></div><div
            class="section"><div
              class="titlepage"><div><div><h4
                    class="title"><a
                      id="id-1.9.13.6.9"></a>6.4.1.1. 管理推荐、建议与工作</h4></div></div></div><div
              class="para">
					Another interesting feature of <code
                class="command">aptitude</code> is the fact that it respects recommendations between packages while still giving users the choice not to install them on a case by case basis. For example, the <span
                class="pkg pkg">gnome</span> package recommends <span
                class="pkg pkg">brasero</span> (among others). When you select the former for installation, the latter will also be selected (and marked as automatic if not already installed on the system). Typing <span
                class="keycap"><strong>g</strong></span> will make it obvious: <span
                class="pkg pkg">brasero</span> appears on the summary screen of pending actions in the list of packages installed automatically to satisfy dependencies. However, you can decide not to install it by deselecting it before confirming the operations.
				</div><div
              class="para">
					此推荐追踪功能不适用于更新。例如，若 <span
                class="pkg pkg">gnome</span> 新版建议一个不包括稍前版本的软件包，就不会安装它。然而，还是列在屏幕，管理者仍可点击并安装它。
				</div><div
              class="para">
					Suggestions between packages are also taken into account, but in a manner adapted to their specific status. For example, since <span
                class="pkg pkg">gnome</span> suggests <span
                class="pkg pkg">empathy</span>, the latter will be displayed on the summary screen of pending actions (in the section of packages suggested by other packages). This way, it is visible and the administrator can decide whether to take the suggestion into account or not. Since it is only a suggestion and not a dependency or a recommendation, the package will not be selected automatically — its selection requires a manual intervention from the user (thus, the package will not be marked as automatic).
				</div><div
              class="para">
					在同样的精神下，记得 <code
                class="command">aptitude</code> 以智能的手法使用工作的概念。在屏幕的软件包清单中显示工作，可以安装或移除选定的完整工作，或浏览包括选定较小工作的软件包清单。
				</div></div><div
            class="section"><div
              class="titlepage"><div><div><h4
                    class="title"><a
                      id="id-1.9.13.6.10"></a>6.4.1.2. 较佳的解决算法</h4></div></div></div><div
              class="para">
					总结本段的内容，在解决困难情境时，<code
                class="command">aptitude</code> 的演算较 <code
                class="command">apt-get</code> 更为复杂。需要运行一组工作且可能带领至另个支离的系统，<code
                class="command">aptitude</code> 评估若干可能的状况以递减关联的方式呈现。然而，这些算法不是失败的证明。幸运的是，总有手动选择运行的可能。现在的选择带领至矛盾的地方时，屏幕的上方就指出若干 “破碎” 的软件包 (and you can directly navigate to those packages by pressing <span
                class="keycap"><strong>b</strong></span>)。就可能以人工方式创建解决此问题的方案。尤其是，可以按 <span
                class="keycap"><strong>Enter</strong></span> 键选取近用多个可用的版本。选定的版本可以解决问题，就勇敢不迟疑地使用其功能。破碎软件包渐趋于零后，您可安全地进入待决区的摘要画面，于使用前再次确认。
				</div><div
              class="sidebar"><div
                class="titlepage"><div><div><p
                      class="title"><strong><span
                          class="emphasis"><em>说明</em></span> <code
                          class="command">aptitude</code> 的记录档</strong></p></div></div></div><div
                class="para">
					如同 <code
                  class="command">dpkg</code>，<code
                  class="command">aptitude</code> 追踪运行动作存在其记录档内 (<code
                  class="filename">/var/log/aptitude</code>)。然而，两个命令分别在不同层次工作，各自的记录档有不同的信息。当 <code
                  class="command">dpkg</code> 记录对各别软件包的一步步运作，<code
                  class="command">aptitude</code> 则记录系统更新之类的高端运作。
				</div><div
                class="para">
					小心，记录档只包括 <code
                  class="command">aptitude</code> 工作的摘要。若另个前端 (或即使是 <code
                  class="command">dpkg</code> 自身) 只是偶而用到，则 <code
                  class="command">aptitude</code> 的记录档将只包括工作的部分，所以不能依赖它创建系统的过去。
				</div></div></div></div><div
          class="section"><div
            class="titlepage"><div><div><h3
                  class="title"><a
                    id="id-1.9.13.7"></a>6.4.2. <code
                    class="command">synaptic</code></h3></div></div></div><div
            class="para">
				<code
              class="command">synaptic</code> 是 Debian 的软件包图形管理器，在 GTK+/GNOME 的基础上提供清楚有效的图形接口。它以很多的立即可用筛选器提供快速近用添加的软件包、安装软件包、可升级软件包、过时软件包等。经由这些清单浏览，选定对软件包的工作 (安装、升级、移除、清除)；不会立即运行此等工作，但把它们放入工作清单。单键按下可运行的工作，接着就可运行。
			</div><div
            class="figure"><a
              id="id-1.9.13.7.3"></a><div
              class="figure-contents"><div
                class="mediaobject"><img
                  src="images/synaptic.png"
                  alt="synaptic 软件包管理器" /></div></div><p
              class="title"><strong>图 6.2. <code
                  class="command">synaptic</code> 软件包管理器</strong></p></div></div></div><ul
        class="docnav"><li
          class="previous"><a
            accesskey="p"
            href="sect.apt-cache.html"><strong>上一页</strong>6.3. apt-cache 命令</a></li><li
          class="up"><a
            accesskey="u"
            href="#"><strong>上一级</strong></a></li><li
          class="home"><a
            accesskey="h"
            href="index.html"><strong>起始页</strong></a></li><li
          class="next"><a
            accesskey="n"
            href="sect.package-authentication.html"><strong>下一页</strong>6.5. 检查软件包真伪</a></li></ul><div
        id="translated_pages"><ul><li><a
              href="../ar-MA/sect.apt-frontends.html">ar-MA</a></li><li><a
              href="../da-DK/sect.apt-frontends.html">da-DK</a></li><li><a
              href="../de-DE/sect.apt-frontends.html">de-DE</a></li><li><a
              href="../el-GR/sect.apt-frontends.html">el-GR</a></li><li><a
              href="../en-US/sect.apt-frontends.html">en-US</a></li><li><a
              href="../es-ES/sect.apt-frontends.html">es-ES</a></li><li><a
              href="../fa-IR/sect.apt-frontends.html">fa-IR</a></li><li><a
              href="../fr-FR/sect.apt-frontends.html">fr-FR</a></li><li><a
              href="../hr-HR/sect.apt-frontends.html">hr-HR</a></li><li><a
              href="../id-ID/sect.apt-frontends.html">id-ID</a></li><li><a
              href="../it-IT/sect.apt-frontends.html">it-IT</a></li><li><a
              href="../ja-JP/sect.apt-frontends.html">ja-JP</a></li><li><a
              href="../ko-KR/sect.apt-frontends.html">ko-KR</a></li><li><a
              href="../nb-NO/sect.apt-frontends.html">nb-NO</a></li><li><a
              href="../pl-PL/sect.apt-frontends.html">pl-PL</a></li><li><a
              href="../pt-BR/sect.apt-frontends.html">pt-BR</a></li><li><a
              href="../ro-RO/sect.apt-frontends.html">ro-RO</a></li><li><a
              href="../ru-RU/sect.apt-frontends.html">ru-RU</a></li><li><a
              href="../tr-TR/sect.apt-frontends.html">tr-TR</a></li><li><a
              href="../vi-VN/sect.apt-frontends.html">vi-VN</a></li><li><a
              href="../zh-CN/sect.apt-frontends.html">zh-CN</a></li><li><a
              href="../zh-TW/sect.apt-frontends.html">zh-TW</a></li></ul></div></body></html>
