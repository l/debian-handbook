<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html
    xmlns="http://www.w3.org/1999/xhtml"><head><meta
        http-equiv="Content-Type"
        content="text/html; charset=UTF-8" /><title
        xmlns:d="http://docbook.org/ns/docbook">Глава 6. Обслуживание и обновление: инструменты APT</title><link
        rel="stylesheet"
        type="text/css"
        href="Common_Content/css/default.css" /><link
        rel="stylesheet"
        media="print"
        href="Common_Content/css/print.css"
        type="text/css" /><meta
        xmlns:d="http://docbook.org/ns/docbook"
        name="generator"
        content="publican v4.3.2" /><meta
        xmlns:d="http://docbook.org/ns/docbook"
        name="package"
        content="Debian-debian-handbook-9-ru-RU-1.0-1" /><meta
        name="keywords"
        content="apt, apt-get, apt-cache, aptitude, synaptic, sources.list, apt-cdrom" /><link
        rel="home"
        href="index.html"
        title="Настольная книга администратора Debian" /><link
        rel="up"
        href="index.html"
        title="Настольная книга администратора Debian" /><link
        rel="prev"
        href="sect.coexistence-with-other-packaging-systems.html"
        title="5.5. Сосуществование с другими пакетными системами" /><link
        rel="next"
        href="sect.apt-get.html"
        title="6.2. Команды aptitude, apt-get и apt" /><meta
        name="viewport"
        content="width=device-width, initial-scale=1" /><meta
        name="flattr:id"
        content="4pz9jq" /><link
        rel="canonical"
        href="http://l.github.io/debian-handbook/html/ru-RU/apt.html" /></head><body><noscript><iframe
          src="//www.googletagmanager.com/ns.html?id=GTM-5H35QX"
          height="0"
          width="0"
          style="display:none;visibility:hidden"></iframe></noscript><script
        type="text/javascript">(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
j=d.createElement(s),dl=l!='dataLayer'?'&amp;l='+l:'';j.async=true;j.src=
'//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
})(window,document,'script','dataLayer','GTM-5H35QX');</script><div
        id="banner"><a
          href="../../"><span
            class="text">Download the ebook</span></a></div><p
        id="title"><a
          class="left"
          href="http://www.debian.org"><img
            alt="Product Site"
            src="Common_Content/images//image_left.png" /></a><a
          class="right"
          href="index.html"><img
            alt="Documentation Site"
            src="Common_Content/images//image_right.png" /></a></p><ul
        class="docnav top"><li
          class="previous"><a
            accesskey="p"
            href="sect.coexistence-with-other-packaging-systems.html"><strong>Пред.</strong></a></li><li
          class="home">Настольная книга администратора Debian</li><li
          class="next"><a
            accesskey="n"
            href="sect.apt-get.html"><strong>След.</strong></a></li></ul><div
        xml:lang="ru-RU"
        class="chapter"
        lang="ru-RU"><div
          class="titlepage"><div><div><h1
                class="title"><a
                  id="apt"></a>Глава 6. Обслуживание и обновление: инструменты APT</h1></div></div></div><div
          class="toc"><dl
            class="toc"><dt><span
                class="section"><a
                  href="apt.html#sect.apt-sources.list">6.1. Содержимое файла <code
                    class="filename">sources.list</code></a></span></dt><dd><dl><dt><span
                    class="section"><a
                      href="apt.html#id-1.9.10.6">6.1.1. Синтаксис</a></span></dt><dt><span
                    class="section"><a
                      href="apt.html#id-1.9.10.7">6.1.2. Хранилища для пользователей стабильных версий <span
                        class="distribution distribution">Stable</span></a></span></dt><dt><span
                    class="section"><a
                      href="apt.html#id-1.9.10.8">6.1.3. Хранилища для пользователей версий <span
                        class="distribution distribution">Testing</span>/<span
                        class="distribution distribution">Unstable</span></a></span></dt><dt><span
                    class="section"><a
                      href="apt.html#id-1.9.10.9">6.1.4. Неофициальные ресурсы: <code
                        class="literal">mentors.debian.net</code></a></span></dt><dt><span
                    class="section"><a
                      href="apt.html#id-1.9.10.10">6.1.5. Прокси-кэш для пакетов Debian</a></span></dt></dl></dd><dt><span
                class="section"><a
                  href="sect.apt-get.html">6.2. Команды <code
                    class="command">aptitude</code>, <code
                    class="command">apt-get</code> и <code
                    class="command">apt</code></a></span></dt><dd><dl><dt><span
                    class="section"><a
                      href="sect.apt-get.html#id-1.9.11.7">6.2.1. Инициализация</a></span></dt><dt><span
                    class="section"><a
                      href="sect.apt-get.html#id-1.9.11.8">6.2.2. Установка и удаление</a></span></dt><dt><span
                    class="section"><a
                      href="sect.apt-get.html#sect.apt-upgrade">6.2.3. Обновление системы</a></span></dt><dt><span
                    class="section"><a
                      href="sect.apt-get.html#sect.apt-config">6.2.4. Configuration Options</a></span></dt><dt><span
                    class="section"><a
                      href="sect.apt-get.html#sect.apt.priorities">6.2.5. Managing Package Priorities</a></span></dt><dt><span
                    class="section"><a
                      href="sect.apt-get.html#sect.apt-mix-distros">6.2.6. Working with Several Distributions</a></span></dt><dt><span
                    class="section"><a
                      href="sect.apt-get.html#sect.automatic-tracking">6.2.7. Tracking Automatically Installed Packages</a></span></dt></dl></dd><dt><span
                class="section"><a
                  href="sect.apt-cache.html">6.3. The <code
                    class="command">apt-cache</code> Command</a></span></dt><dt><span
                class="section"><a
                  href="sect.apt-frontends.html">6.4. Frontends: <code
                    class="command">aptitude</code>, <code
                    class="command">synaptic</code></a></span></dt><dd><dl><dt><span
                    class="section"><a
                      href="sect.apt-frontends.html#sect.aptitude">6.4.1. <code
                        class="command">aptitude</code></a></span></dt><dt><span
                    class="section"><a
                      href="sect.apt-frontends.html#id-1.9.13.7">6.4.2. <code
                        class="command">synaptic</code></a></span></dt></dl></dd><dt><span
                class="section"><a
                  href="sect.package-authentication.html">6.5. Checking Package Authenticity</a></span></dt><dt><span
                class="section"><a
                  href="sect.dist-upgrade.html">6.6. Upgrading from One Stable Distribution to the Next</a></span></dt><dd><dl><dt><span
                    class="section"><a
                      href="sect.dist-upgrade.html#id-1.9.15.3">6.6.1. Recommended Procedure</a></span></dt><dt><span
                    class="section"><a
                      href="sect.dist-upgrade.html#id-1.9.15.4">6.6.2. Handling Problems after an Upgrade</a></span></dt></dl></dd><dt><span
                class="section"><a
                  href="sect.regular-upgrades.html">6.7. Keeping a System Up to Date</a></span></dt><dt><span
                class="section"><a
                  href="sect.automatic-upgrades.html">6.8. Automatic Upgrades</a></span></dt><dd><dl><dt><span
                    class="section"><a
                      href="sect.automatic-upgrades.html#id-1.9.17.5">6.8.1. Configuring <code
                        class="command">dpkg</code></a></span></dt><dt><span
                    class="section"><a
                      href="sect.automatic-upgrades.html#id-1.9.17.6">6.8.2. Configuring APT</a></span></dt><dt><span
                    class="section"><a
                      href="sect.automatic-upgrades.html#id-1.9.17.7">6.8.3. Configuring <code
                        class="command">debconf</code></a></span></dt><dt><span
                    class="section"><a
                      href="sect.automatic-upgrades.html#id-1.9.17.8">6.8.4. Handling Command Line Interactions</a></span></dt><dt><span
                    class="section"><a
                      href="sect.automatic-upgrades.html#id-1.9.17.9">6.8.5. The Miracle Combination</a></span></dt></dl></dd><dt><span
                class="section"><a
                  href="sect.searching-packages.html">6.9. Searching for Packages</a></span></dt></dl></div><div
          class="highlights"><div
            class="para">
		Debian популярен среди администраторов благодаря лёгкости установки программного обеспечения и простоте обновления всей системы. Это уникальное преимущество обусловлено, главным образом, программой <span
              class="emphasis"><em>APT</em></span>, которую администраторы Falcot Corp изучают с энтузиазмом.
	</div></div><div
          class="para">
		<a
            id="id-1.9.4.1"
            class="indexterm"></a> <a
            id="id-1.9.4.2"
            class="indexterm"></a>APT — это аббревиатура от Advanced Package Tool (англ. улучшенный инструмент для работы с пакетами). «Улучшенной» её делает подход к работе с пакетами. APT не обрабатывает их по отдельности, а рассматривает их множество как единое целое и обеспечивает наилучшую из возможных комбинаций пакетов из тех, что доступны и совместимы (в соответствии с зависимостями).
	</div><div
          class="sidebar"><div
            class="titlepage"><div><div><p
                  class="title"><strong><span
                      class="emphasis"><em>СЛОВАРЬ</em></span> Источник пакета и исходник пакета</strong></p></div></div></div><div
            class="para">
		Слово <span
              class="emphasis"><em>источник (source)</em></span> может быть истолковано неоднозначно. Исходник пакета(source package) — пакет, содержащий исходный код программы — не стоит путать с источником пакетов (package source) — репозиторием (веб-сайтом, FTP-сервером, CD-ROM, локальным каталогом и т. д.) в котором хранятся пакеты.
	</div></div><div
          class="para">
		APT требует “список источников пакетов”: в файле <code
            class="filename">/etc/apt/sources.list</code> представлены различные хранилища (или “источники”), на которых размещены пакеты Debian. Затем APT импортирует перечень пакетов, размещённых на каждом из этих источников. Это производится путём загрузки файла <code
            class="filename">Packages.xz</code> или файла с другим методом сжатия (такие как <code
            class="filename">Packages.gz</code> или <code
            class="filename">.bz2</code>) (в случае источника двоичного пакета), и файла <code
            class="filename">Sources.xz</code> (в случае источника пакетов с исходным кодами). После загрузки производится анализ содержания данных файлов. Если старая копия этих файлов уже имеется, APT может обновить её, загрузив только отличающиеся части (смотри <a
            class="xref"
            href="sect.apt-get.html#sidebar.apt-pdiff"><span
              class="emphasis"><em>СОВЕТ</em></span> Инкрементальное обновление</a>).
	</div><a
          id="id-1.9.7"
          class="indexterm"></a><a
          id="id-1.9.8"
          class="indexterm"></a><div
          class="sidebar"><div
            class="titlepage"><div><div><p
                  class="title"><strong><span
                      class="emphasis"><em>ОСНОВЫ</em></span> Форматы сжатия <code
                      class="command">gzip</code>, <code
                      class="command">bzip2</code>, <code
                      class="command">LZMA</code> and <code
                      class="command">XZ</code></strong></p></div></div></div><a
            id="id-1.9.9.2"
            class="indexterm"></a><a
            id="id-1.9.9.3"
            class="indexterm"></a><a
            id="id-1.9.9.4"
            class="indexterm"></a><a
            id="id-1.9.9.5"
            class="indexterm"></a><div
            class="para">
		Расширение <code
              class="filename">.gz</code> относится к файлам, сжатым утилитой <code
              class="command">gzip</code>. <code
              class="command">gzip</code> является быстрой и эффективной традиционной Unix утилитой для сжатия файлов. Новый инструменты позволяют достичь большей степени сжатия, но требуют больших ресурсов (времени вычисления и памяти) для сжатия а распаковки файлов. Среди них, по порядку появления, можно выделить <code
              class="command">bzip2</code> (формирует файлы с расширением <code
              class="filename">.bz2</code>), <code
              class="command">lzma</code> (формирует файлы <code
              class="filename">.lzma</code>) и <code
              class="command">xz</code> (формирует файлы <code
              class="filename">.xz</code>).
	</div></div><div
          class="section"><div
            class="titlepage"><div><div><h2
                  class="title"><a
                    id="sect.apt-sources.list"></a>6.1. Содержимое файла <code
                    class="filename">sources.list</code></h2></div></div></div><a
            id="id-1.9.10.2"
            class="indexterm"></a><a
            id="id-1.9.10.3"
            class="indexterm"></a><a
            id="id-1.9.10.4"
            class="indexterm"></a><a
            id="id-1.9.10.5"
            class="indexterm"></a><div
            class="section"><div
              class="titlepage"><div><div><h3
                    class="title"><a
                      id="id-1.9.10.6"></a>6.1.1. Синтаксис</h3></div></div></div><div
              class="para">
				Каждая используемая строка файла <code
                class="filename">/etc/apt/sources.list</code>содержит описание источника, которое состоит из 3 частей, разделённых пробелами.
			</div><div
              class="para">
				Первое поле показывает тип источника:
			</div><div
              xmlns:d="http://docbook.org/ns/docbook"
              class="itemizedlist"><ul><li
                  class="listitem"><div
                    class="para">
						“<code
                      class="literal">deb</code>” для двоичных пакетов,
					</div></li><li
                  class="listitem"><div
                    class="para">
						“<code
                      class="literal">deb-src</code>” для пакетов с исходными кодами.
					</div></li></ul></div><div
              class="para">
				Второе поле содержит основной URL источника (если включены имена файлов, представленных в <code
                class="filename">Packages.gz</code>, необходим полный и корректный URL): здесь может быть источник с зеркалом Debian или любой другой архив пакетов, поставляемых третьей стороной. URL может начинаться с <code
                class="literal">file://</code>, чтобы показать локальный источник из файловой системы ЭВМ, с <code
                class="literal">http://</code> чтобы показать источник, доступный на веб-сервере, или с <code
                class="literal">ftp://</code> для источников, доступных на ftp-сервере. URL также может начинаться с <code
                class="literal">cdrom:</code> для дистрибутивов на дисках CD-ROM/DVD-ROM/Blu-ray, хотя это встречается не так часто, поскольку методы установки по сети становятся всё более и более распространёнными.
			</div><div
              class="para">
				Синтаксис последнего поля зависит от структуры хранилища. В простейших случаях здесь может быть проста показана подпапка (с требуемыми конечными слэшами) требуемого источника (часто это просто “<code
                class="filename">./</code>”, которое показывает отсутствие подпапки — пакет расположен прямо на указанном URL). Но в общем случае хранилища структурированы как зеркальные сайты Debian, с множеством дистрибутивов, каждый из которых имеет множество компонент. В этих случае поле содержит имя выбранного дистибутива (по его “кодовому имени” — смотри перечень на вставке <a
                class="xref"
                href="sect.foundation-documents.html#sidebar.bruce-perens"><span
                  class="emphasis"><em>СООБЩЕСТВО</em></span> Брюс Перенс, скандальный лидер</a> — или по соответствующему “выпуску” — <code
                class="literal">stable</code>, <code
                class="literal">testing</code>, <code
                class="literal">unstable</code>), затем следуют доступные компоненты (или разделы) (выбранные из <code
                class="literal">main</code>, <code
                class="literal">contrib</code>, и <code
                class="literal">non-free</code> на обычном зеркальном сайте Debian).
			</div><div
              class="sidebar"><a
                id="sidebar.sections"></a><div
                class="titlepage"><div><div><p
                      class="title"><strong><span
                          class="emphasis"><em>СЛОВАРЬ</em></span> Архивы <code
                          class="literal">main</code>, <code
                          class="literal">contrib</code> и <code
                          class="literal">non-free</code></strong></p></div></div></div><a
                id="id-1.9.10.6.7.2"
                class="indexterm"></a><a
                id="id-1.9.10.6.7.3"
                class="indexterm"></a><a
                id="id-1.9.10.6.7.4"
                class="indexterm"></a><a
                id="id-1.9.10.6.7.5"
                class="indexterm"></a><a
                id="id-1.9.10.6.7.6"
                class="indexterm"></a><a
                id="id-1.9.10.6.7.7"
                class="indexterm"></a><a
                id="id-1.9.10.6.7.8"
                class="indexterm"></a><div
                class="para">
				Дебиан использует три раздела для разделения пакетов согласно лицензиям, выбранным авторами каждой разработки. <code
                  class="literal">Main</code> объединяет все пакеты, который полностью совместимы с "Критериями Debian по определению Свободного ПО".
			</div><div
                class="para">
				Архив <code
                  class="literal">non-free</code> расположен отдельно, поскольку он содержит программное обеспечение, которое в целом не соответствует этим принципам и которое всё-таки может распространяться без ограничений. Этот архив, который не является официальной частью Debian, является услугой для пользователей, которым необходимо использование некоторых из этих программ — однако Debian всегда рекомендует отдавать предпочтение свободному ПО. Существование данного раздела создаёт существенную проблему для Ричарда Столлмана и не даёт Движению за Свободное ПО рекомендовать Debian пользователям.
			</div><div
                class="para">
				<code
                  class="literal">Contrib</code> (от contributions - взносы) - это набор ПО с открытым кодом, которое не может работать без некоторых несвободных элементов. Этими элементами может быть ПО из раздела <code
                  class="literal">non-free</code>, или несвободные файлы, такие как игровые ROMs, BIOS консолей и т.д. <code
                  class="literal">Contrib</code> также включает свободное программное обеспечение, компиляция которых требует элементов, имеющих собственников. Изначально это был пакет офисных программ OpenOffice.org, который требовал окружение Java (имеющее собственника) для своей работы.
			</div></div><div
              class="sidebar"><div
                class="titlepage"><div><div><p
                      class="title"><strong><span
                          class="emphasis"><em>СОВЕТ</em></span> Файлы <code
                          class="filename">/etc/apt/sources.list.d/*.list</code></strong></p></div></div></div><div
                class="para">
				Если имеются ссылки на множество источников пакетов, может быть полезным разделение их на несколько файлов. Каждая часть хранится в файлах типа <code
                  class="filename">/etc/apt/sources.list.d/<em
                    class="replaceable">имя файла</em>.list</code> (смотри вставку <a
                  class="xref"
                  href="sect.apt-get.html#sidebar.directory.d"><span
                    class="emphasis"><em>BACK TO BASICS</em></span> Directories ending in <code
                    class="filename">.d</code></a>).
			</div></div><a
              id="id-1.9.10.6.9"
              class="indexterm"></a><div
              class="para">
				Записи <code
                class="literal">cdrom</code> описывают CD/DVD-ROMs, которые у вас есть. В противоположность другим записям, CD-ROM не всегда доступны, поскольку диск должен быть вставлен в привод и поскольку только один диск может быть прочитан за раз. Поэтому эти источники управляются несколько другим путём и добавляются с помощью программы <code
                class="command">apt-cdrom</code>, которая обычно выполняется с параметром <code
                class="literal">add</code>. После запуска данная программа просит пользователя вставить диск в привод, а затем просматривает содержимое диска, ища файлы <code
                class="filename">Packages</code>. Затем она использует эти файлы для обновления база данных доступных пактов (подобная операция обычно выполняется с помощью команды <code
                class="command">apt update</code>). После этого APT может просить вставить диск, если ей требуется один из этих пакетов.
			</div></div><div
            class="section"><div
              class="titlepage"><div><div><h3
                    class="title"><a
                      id="id-1.9.10.7"></a>6.1.2. Хранилища для пользователей стабильных версий <span
                      class="distribution distribution">Stable</span></h3></div></div></div><div
              class="para">
				Здесь представлен стандартный файл <code
                class="filename">sources.list</code> для <span
                class="distribution distribution">Stable</span> версии Debian:
			</div><div
              class="example"><a
                id="example.stable-sources-list"></a><p
                class="title"><strong>Пример 6.1. Файл <code
                    class="filename">/etc/apt/sources.list</code> для пользователей Debian Stable</strong></p><div
                class="example-contents"><pre
                  class="programlisting"># Security updates (обновления безопасности)
deb http://security.debian.org/ jessie/updates main contrib non-free
deb-src http://security.debian.org/ jessie/updates main contrib non-free

## Debian mirror (Зеркало Debian)

# Base repository (Основное хранилище)
deb http://ftp.debian.org/debian jessie main contrib non-free
deb-src http://ftp.debian.org/debian jessie main contrib non-free

# Stable updates (Стабильные обновления я)
deb http://ftp.debian.org/debian jessie-updates main contrib non-free
deb-src http://ftp.debian.org/debian jessie-updates main contrib non-free

# Stable backports (Стабильное ПО с обратной совместимостью)
deb http://ftp.debian.org/debian jessie-backports main contrib non-free
deb-src http://ftp.debian.org/debian jessie-backports main contrib non-free</pre></div></div><div
              class="para">
				В этом файле перечислены все источники пакетов, связанные с версией Debian <span
                class="distribution distribution">Jessie</span> (текущей <span
                class="distribution distribution">Stable</span> в соответствии с данной записью). Мы предпочли явное название “jessie” вместо соответствующего обозначения “stable“ (<code
                class="literal">stable</code>, <code
                class="literal">stable-updates</code>, <code
                class="literal">stable-backports</code>), потому что мы не хотим столкнуться с ситуацией изменения основного дистрибутива не под нашим управлением после выхода следующей стабильной версии.
			</div><div
              class="para">
				Большинство пакетов может быть получено из "основного хранилища”, которое содержит все пакеты, но обновляется не часто (около раза в 2 месяца в “точке выпуска”). Остальные хранилища являются частичными (они не содержат все пакеты) и могут содержать обновления (пакеты с новыми версиями), которые APT может установить. В следующих разделах будут объяснены назначение и правила управлением каждым из этих хранилищ.
			</div><div
              class="para">
				Обратите внимание, что когда требуемая версия пакета доступна на нескольких хранилищах, первый из списка в файле <code
                class="filename">sources.list</code> будет использован. Из-за этого неофициальные источники обычно добавляют в конец файла.
			</div><div
              class="para">
				В качестве примечания следует отметить, что большая часть сказанного в этом разделе о версии <span
                class="distribution distribution">Stable</span> также относится и к версии <span
                class="distribution distribution">Oldstable</span>, которая является просто более старой версией <span
                class="distribution distribution">Stable</span>, поддерживаемой параллельно текущей.
			</div><div
              class="section"><div
                class="titlepage"><div><div><h4
                      class="title"><a
                        id="sect.security-updates"></a>6.1.2.1. Обновления безопасности</h4></div></div></div><a
                id="id-1.9.10.7.8.2"
                class="indexterm"></a><a
                id="id-1.9.10.7.8.3"
                class="indexterm"></a><a
                id="id-1.9.10.7.8.4"
                class="indexterm"></a><div
                class="para">
					Обновления безопасности размещаются не в обычной сети зеркальных сайтов Debian, а на <code
                  class="literal">security.debian.org</code> (на небольшом наборе машин, управляемых <a
                  class="link"
                  href="sect.debian-internals.html#dsa-team">Системными администраторами Debian</a>). Этот архив содержит обновления безопасности (подготовленные Командой Безопасности Debian и/или сопровождающими пакетов) для дистрибутива <span
                  class="distribution distribution">Stable</span>.
				</div><div
                class="para">
					На сервере также могут быть размещены обновления безопасности для версии <span
                  class="distribution distribution">Testing</span>, но это случается не очень часто, поскольку эти обновления попадают в <span
                  class="distribution distribution">Testing</span> через постоянный поток обновления, приходящий от <span
                  class="distribution distribution">Unstable</span>.
				</div></div><div
              class="section"><div
                class="titlepage"><div><div><h4
                      class="title"><a
                        id="sect.stable-updates"></a>6.1.2.2. Стабильные обновления</h4></div></div></div><a
                id="id-1.9.10.7.9.2"
                class="indexterm"></a><a
                id="id-1.9.10.7.9.3"
                class="indexterm"></a><a
                id="id-1.9.10.7.9.4"
                class="indexterm"></a><div
                class="para">
					Стабильные обновления не являются необходимыми для обеспечения безопасности, но считаются достаточно важными, чтобы довести их до пользователей до выхода следующей стабильной версии.
				</div><div
                class="para">
					В этом хранилище обычно содержаться исправления критических ошибок, которые не были исправлены до выпуска версии или появились из-за последующих обновлений. При необходимости здесь также могут содержаться обновления для пакетов, которые постоянно изменяются … таких как правила определения спама <span
                  class="pkg pkg">spamassassin</span>, база вирусов <span
                  class="pkg pkg">clamav</span>, или правила перехода на летнее-зимнее время для всех часовых поясов (<span
                  class="pkg pkg">tzdata</span>).
				</div><div
                class="para">
					На деле, это хранилище является частью хранилища <code
                  class="literal">proposed-updates</code>, прошедшего тщательный отбор Управляющими Стабильного Выпуска.
				</div></div><div
              class="section"><div
                class="titlepage"><div><div><h4
                      class="title"><a
                        id="sect.proposed-updates"></a>6.1.2.3. Предполагаемые обновления</h4></div></div></div><a
                id="id-1.9.10.7.10.2"
                class="indexterm"></a><a
                id="id-1.9.10.7.10.3"
                class="indexterm"></a><div
                class="para">
					После выхода дистрибутив <span
                  class="distribution distribution">Stable</span> обновляется примерно раз в 2 месяца. В хранилище <code
                  class="literal">proposed-updates</code> производится подготовка ожидаемых обновлений (под наблюдением Управляющих Стабильного Выпуска).
				</div><div
                class="para">
					Обновления безопасности и стабильные обновления, документально фиксируемые в официальном разделе, всегда включаются в состав хранилища, но здесь сопровождающие пакетов также имеют возможность исправить значимые ошибки, которые не требуют немедленного выпуска.
				</div><div
                class="para">
					Каждый может использовать это хранилище для проверки обновлений перед их официальным выпуском. В следующей выписке используется обозначение <code
                  class="literal">jessie-proposed-updates</code>, которое является и более ясным, и более содержательным, поскольку также существует и <code
                  class="literal">wheezy-proposed-updates</code> also exists (для обновлений <span
                  class="distribution distribution">Oldstable</span>):
				</div><pre
                class="programlisting">deb http://ftp.debian.org/debian jessie-proposed-updates main contrib non-free</pre></div><div
              class="section"><div
                class="titlepage"><div><div><h4
                      class="title"><a
                        id="sect.backports"></a>6.1.2.4. Стабильное ПО с обратной совместимостью</h4></div></div></div><a
                id="id-1.9.10.7.11.2"
                class="indexterm"></a><a
                id="id-1.9.10.7.11.3"
                class="indexterm"></a><a
                id="id-1.9.10.7.11.4"
                class="indexterm"></a><div
                class="para">
					В хранилище <code
                  class="literal">stable-backports</code> расположены “пакеты с обратной совместимостью”. Это определение относится к пакетом какого-то существующего программного обеспечения, которые были перекомпилированы для устаревшего дистрибутива, обычно для <span
                  class="distribution distribution">Stable</span>.
				</div><div
                class="para">
					Когда дистрибутив немного устаревает, множество проектов разработки ПО выпускает новые версии, которые уже не совместимы с текущей версией <span
                  class="distribution distribution">Stable</span> (которая дорабатывается только чтобы решить наиболее важные проблемы, такие как проблемы безопасности ). Поскольку выпуски <span
                  class="distribution distribution">Testing</span> и <span
                  class="distribution distribution">Unstable</span> могут быть более опасными, сопровождающие пакетов иногда предлагают перекомпилированное для версии <span
                  class="distribution distribution">Stable</span> программное обеспечение, которое полезно тем, что ограничивает потенциальную неустойчивость при небольшом числе выбранных пакетов. <div
                  class="url">→ <a
                    href="http://backports.debian.org">http://backports.debian.org</a></div>
				</div><div
                class="para">
					Хранилище <code
                  class="literal">stable-backports</code> теперь доступно на обычных зеркалах Debian. Но ПО с обратной совместимостью для <span
                  class="distribution distribution">Squeeze</span> до сих пор размещены на отдельном сервере (<code
                  class="literal">backports.debian.org</code>) и требуют следующей записи в файле <code
                  class="filename">sources.list</code>:
				</div><a
                id="id-1.9.10.7.11.8"
                class="indexterm"></a><pre
                class="programlisting">deb http://backports.debian.org/debian-backports squeeze-backports main contrib non-free</pre><div
                class="para">
					ПО с обратной совместимостью из <code
                  class="literal">stable-backports</code> всегда создаётся из пакетов, доступных в <span
                  class="distribution distribution">Testing</span>. Этим обеспечивается то, что все установленное ПО с обратной совместимостью будет доступно для обновления для соответствующей стабильной версии при одновременной доступности следующего стабильного выпуска Debian.
				</div><div
                class="para">
					Несмотря на то, что данное хранилище предоставляет новые версии пакетов, APT не будет устанавливать их, пока вы не дадите для этого конкретных инструкций (или пока вы уже не сделали это с официальной версией данного ПО с обратной совместимостью):
				</div><pre
                class="screen"><code
                  class="computeroutput">$ </code><strong
                  class="userinput"><code>sudo apt-get install <em
                      class="replaceable">package</em>/jessie-backports
</code></strong><code
                  class="computeroutput">$ </code><strong
                  class="userinput"><code>sudo apt-get install -t jessie-backports <em
                      class="replaceable">package</em>
</code></strong></pre></div></div><div
            class="section"><div
              class="titlepage"><div><div><h3
                    class="title"><a
                      id="id-1.9.10.8"></a>6.1.3. Хранилища для пользователей версий <span
                      class="distribution distribution">Testing</span>/<span
                      class="distribution distribution">Unstable</span></h3></div></div></div><div
              class="para">
				Здесь представлен стандартный <code
                class="filename">sources.list</code> для системы, выполняющей версию <span
                class="distribution distribution">Testing</span> или <span
                class="distribution distribution">Unstable</span> Debian:
			</div><div
              class="example"><a
                id="example.testing-sources-list"></a><p
                class="title"><strong>Пример 6.2. Файл <code
                    class="filename">/etc/apt/sources.list</code> для пользователей Debian <span
                    class="distribution distribution">Testing</span>/<span
                    class="distribution distribution">Unstable</span></strong></p><div
                class="example-contents"><pre
                  class="programlisting">
# Unstable
deb http://ftp.debian.org/debian unstable main contrib non-free
deb-src http://ftp.debian.org/debian unstable main contrib non-free

# Testing
deb http://ftp.debian.org/debian testing main contrib non-free
deb-src http://ftp.debian.org/debian testing main contrib non-free

# Stable
deb http://ftp.debian.org/debian stable main contrib non-free
deb-src http://ftp.debian.org/debian stable main contrib non-free

# Security updates
deb http://security.debian.org/ stable/updates main contrib non-free
deb http://security.debian.org/ testing/updates main contrib non-free
deb-src http://security.debian.org/ stable/updates main contrib non-free
deb-src http://security.debian.org/ testing/updates main contrib non-free</pre></div></div><div
              class="para">
				С таким файлом <code
                class="filename">sources.list</code> APT будет устанавливать пакеты из <span
                class="distribution distribution">Unstable</span>. Если вам это не требуется, используйте настройку <code
                class="literal">APT::Default-Release</code> (смотри <a
                class="xref"
                href="sect.apt-get.html#sect.apt-upgrade">Раздел 6.2.3, «Обновление системы»</a>), чтобы сообщить APT о необходимости брать пакеты из другого дистрибутива (наиболее вероятно <span
                class="distribution distribution">Testing</span> в данном случае).
			</div><div
              class="para">
				Совершенно обоснованным является включение всех этих хранилищ, даже когда достаточно только одного. Пользователи <span
                class="distribution distribution">Testing</span> оценят возможность выбрать хороший исправленный пакет из <span
                class="distribution distribution">Unstable</span>, в случае когда версия <span
                class="distribution distribution">Testing</span> содержит надоевшую ошибку. И наоборот, пользователи <span
                class="distribution distribution">Unstable</span>, пострадавшие от неожиданных сбоев в пакетах, имеют возможность откатить пакеты до их (предположительно рабочей) версии <span
                class="distribution distribution">Testing</span>.
			</div><div
              class="para">
				С включением <span
                class="distribution distribution">Stable</span> имеется больше вопросов, но часто это даёт возможность доступа к некоторым пакетам, которые были удалены из разрабатываемых версий. Также это даёт уверенность. что вы получаете самые свежие обновления для пакетов, которые не изменялись с выпуска последней стабильной версии.
			</div><div
              class="section"><div
                class="titlepage"><div><div><h4
                      class="title"><a
                        id="id-1.9.10.8.7"></a>6.1.3.1. <span
                        class="distribution distribution">Экспериментальное</span> хранилище</h4></div></div></div><a
                id="id-1.9.10.8.7.2"
                class="indexterm"></a><div
                class="para">
					Архив <span
                  class="distribution distribution">Experimental</span> (экспериментальных) пакетов представлен на всех зеркалах Debian и содержит пакет, которые до сих пор не вошли в версию <span
                  class="distribution distribution">Unstable</span> из-за их качества, не отвечающего стандарту — это зачастую версии разрабатываемого ПО или предварительные версии (альфа, бета, кандидат для выпуска…). Пакет также может быть отправлен сюда после последующих доработок, которые могут привести к проблемам. После этого сопровождающий пытается разрешить эти проблемы, пользуясь помощью продвинутых пользователей, которые могут подсказать правильное решение. После этой первой стадии пакет перемещается в <span
                  class="distribution distribution">Unstable</span>, где он получает гораздо большую аудиторию и где он будет протестирован гораздо более детально.
				</div><div
                class="para">
					<span
                  class="distribution distribution">Experimental</span> в целом используется теми, кто не собирается ломать свои системы, а затем восстанавливать их. Этот дистрибутив даёт возможность импортировать пакет, с которым пользователь хочет попробовать поработать или для работы с которым у него возникла необходимость. Это как раз показывает подход Debian к таким пакетам, поскольку добавление этого хранилища в файл APT <code
                  class="filename">sources.list</code> не приводит к постоянному использованию этих пакетов. Вот строк, которая должна быть добавлена:
				</div><div
                class="informalexample"><pre
                  class="programlisting">deb http://ftp.debian.org/debian experimental main contrib non-free</pre></div></div></div><div
            class="section"><div
              class="titlepage"><div><div><h3
                    class="title"><a
                      id="id-1.9.10.9"></a>6.1.4. Неофициальные ресурсы: <code
                      class="literal">mentors.debian.net</code></h3></div></div></div><a
              id="id-1.9.10.9.2"
              class="indexterm"></a><div
              class="para">
				Существуют многочисленные ресурсы пакетовDebian, созданных продвинутыми пользователями, которые перекомпилируют некоторые программы (Ubuntu сделала эту вещь популярной с помощью их службы Персонального Архива Пакетов), by программистами, которые делают свои творения доступными для всех и даже разработчиками Debian, которые предлагают предварительные версии своих пакетов онлайн.
			</div><div
              class="para">
				Сайт <code
                class="literal">mentors.debian.net</code> интересен тем (хотя он только предоставляет пакеты с исходными кодами), что нам нем собираются пакеты, созданный кандидатами на статус официальных разработчиков Debian или добровольцами, которые хотят создавать пакеты Debian без прохождения через этот процесс интеграции в сообщество разработчиков. Эти пакеты сделаны доступным без каких-либо гарантий относительно их качества;будьте уверены, что вы проверили их происхождение и целостность, а затем тестируйте их перед тем, как рассматривать вопрос их использования в работе.
			</div><div
              class="sidebar"><div
                class="titlepage"><div><div><p
                      class="title"><strong><span
                          class="emphasis"><em>СООБЩЕСТВО</em></span> Сайты <code
                          class="literal">debian.net</code></strong></p></div></div></div><a
                id="id-1.9.10.9.5.2"
                class="indexterm"></a><div
                class="para">
				Домен <span
                  class="emphasis"><em>debian.net</em></span> не является официальным ресурсом проекта Debian. Каждый разработчик Debian может использовать это имя домена для своих собственных целей. Эти сайты может содержать неофициальные службы (иногда персональные сайты), размещённые на машинах, которые не связаны с проектом и которые поддерживаются разработчиками Debian, или прототипы того, что может быть перемещено на <span
                  class="emphasis"><em>debian.org</em></span>. Существует две причины, по которым некоторые из этих прототипов остаются на <span
                  class="emphasis"><em>debian.net</em></span>: или никто не приложил достаточно усилий, чтобы преобразовать их в официальную службу (размещённую на домене <span
                  class="emphasis"><em>debian.org</em></span> с определённой гарантией по сопровождению), или служба является слишком спорной, чтобы стать официальной.
			</div></div><div
              class="para">
				Устанавливая пакет, вы даёте права администратора (root) его создателю, поскольку содержимое сценариев инициализации выполняется под этим пользователем. Официальные пакеты Debian создаются добровольцами, которые были прошли рассмотрение и включение в сообщество, и которые могут подписывать свои пакеты, так что их происхождение и целостность могут быть проверены.
			</div><div
              class="para">
				В целом, будьте осторожны с пакетами, происхождение которых вам не известно, и которые на размещены на официальных серверах Debain: оцените степень доверия к их создателю и проверьте целостность пакета. <div
                class="url">→ <a
                  href="http://mentors.debian.net/">http://mentors.debian.net/</a></div>
			</div><div
              class="sidebar"><a
                id="sidebar.snapshot.debian.org"></a><div
                class="titlepage"><div><div><p
                      class="title"><strong><span
                          class="emphasis"><em>УГЛУБЛЯЕМСЯ</em></span> Старые версии пакетов: <code
                          class="literal">snapshot.debian.org</code></strong></p></div></div></div><a
                id="id-1.9.10.9.8.2"
                class="indexterm"></a><div
                class="para">
				Служба <code
                  class="literal">snapshot.debian.org</code>, запущенная в апреле 2010, может быть использована для того, чтобы “вернуться назад во времени” и найти старую версию пакета. Это может быть полезно, например, чтобы определить, какая в какой версии пакета была внесена ошибка, или более точно,чтобы вернуть к старой версии в ожидании исправления ошибки.
			</div></div></div><div
            class="section"><div
              class="titlepage"><div><div><h3
                    class="title"><a
                      id="id-1.9.10.10"></a>6.1.5. Прокси-кэш для пакетов Debian</h3></div></div></div><a
              id="id-1.9.10.10.2"
              class="indexterm"></a><a
              id="id-1.9.10.10.3"
              class="indexterm"></a><div
              class="para">
				В случае, когда целая сеть машин настроена на использование одного удалённого сервера для загрузки одних и тех же пакетов, каждый администратор знает, что полезно иметь промежуточный прокси -сервер, работающий как локальный кэш для данной сети (смотри вставку <a
                class="xref"
                href="sect.apt-cache.html#sidebar.cache"><span
                  class="emphasis"><em>VOCABULARY</em></span> Cache</a>).
			</div><div
              class="para">
				Вы можете использовать APT на использование "стандартного" прокси (смотри <a
                class="xref"
                href="sect.apt-get.html#sect.apt-config">Раздел 6.2.4, «Configuration Options»</a> для APT и <a
                class="xref"
                href="sect.http-ftp-proxy.html">Раздел 11.6, «HTTP/FTP Proxy»</a> для прокси), но экосистема Debian предлагает лучшие настройки для решения этой проблемы. Специальные программы, представленные в этом разделе, является более быстрыми, чем простой прокси-кэш, поскольку они зависят от специальных структур хранилищ APT(например, им известно, когда отдельные файлы становятся устаревшими, и таким образом устанавливают время, в течение которого они хранятся).
			</div><a
              id="id-1.9.10.10.6"
              class="indexterm"></a><a
              id="id-1.9.10.10.7"
              class="indexterm"></a><div
              class="para">
				<span
                class="pkg pkg">apt-cacher</span> и <span
                class="pkg pkg">apt-cacher-ng</span> работают как обычные прокси-кэш серверы. Файл APT<code
                class="filename">sources.list</code> остаётся неизменным, но APT настраивается для использования их как прокси для исходящих запросов.
			</div><a
              id="id-1.9.10.10.9"
              class="indexterm"></a><div
              class="para">
				<span
                class="pkg pkg">approx</span>, с другой стороны, действует как HTTP сервер, который “отражает” любое число хранилищ на своих URL верхнего уровня . Пути между теми директориями верхнего уровня и удалёнными URL хранилищ находятся в файле <code
                class="filename">/etc/approx/approx.conf</code>:
			</div><pre
              class="programlisting">
# &lt;name&gt; &lt;repository-base-url&gt;
debian   http://ftp.debian.org/debian
security http://security.debian.org</pre><div
              class="para">
				<span
                class="pkg pkg">approx</span> по-умолчанию работает с портом 9999 через inetd (see <a
                class="xref"
                href="sect.inetd.html">Раздел 9.6, «Суперсервер <code
                  class="command">inetd</code>»</a>) и требуют, что бы пользователи указали в своём файле <code
                class="filename">sources.list</code> точку подключения к серверу approx:
			</div><pre
              class="programlisting"># Sample sources.list pointing to a local approx server
deb http://apt.falcot.com:9999/security jessie/updates main contrib non-free
deb http://apt.falcot.com:9999/debian jessie main contrib non-free
</pre></div></div></div><ul
        class="docnav"><li
          class="previous"><a
            accesskey="p"
            href="sect.coexistence-with-other-packaging-systems.html"><strong>Пред.</strong>5.5. Сосуществование с другими пакетными системами</a></li><li
          class="up"><a
            accesskey="u"
            href="#"><strong>Наверх</strong></a></li><li
          class="home"><a
            accesskey="h"
            href="index.html"><strong>Начало</strong></a></li><li
          class="next"><a
            accesskey="n"
            href="sect.apt-get.html"><strong>След.</strong>6.2. Команды aptitude, apt-get и apt</a></li></ul><div
        id="translated_pages"><ul><li><a
              href="../ar-MA/apt.html">ar-MA</a></li><li><a
              href="../da-DK/apt.html">da-DK</a></li><li><a
              href="../de-DE/apt.html">de-DE</a></li><li><a
              href="../el-GR/apt.html">el-GR</a></li><li><a
              href="../en-US/apt.html">en-US</a></li><li><a
              href="../es-ES/apt.html">es-ES</a></li><li><a
              href="../fa-IR/apt.html">fa-IR</a></li><li><a
              href="../fr-FR/apt.html">fr-FR</a></li><li><a
              href="../hr-HR/apt.html">hr-HR</a></li><li><a
              href="../id-ID/apt.html">id-ID</a></li><li><a
              href="../it-IT/apt.html">it-IT</a></li><li><a
              href="../ja-JP/apt.html">ja-JP</a></li><li><a
              href="../ko-KR/apt.html">ko-KR</a></li><li><a
              href="../nb-NO/apt.html">nb-NO</a></li><li><a
              href="../pl-PL/apt.html">pl-PL</a></li><li><a
              href="../pt-BR/apt.html">pt-BR</a></li><li><a
              href="../ro-RO/apt.html">ro-RO</a></li><li><a
              href="../ru-RU/apt.html">ru-RU</a></li><li><a
              href="../tr-TR/apt.html">tr-TR</a></li><li><a
              href="../vi-VN/apt.html">vi-VN</a></li><li><a
              href="../zh-CN/apt.html">zh-CN</a></li><li><a
              href="../zh-TW/apt.html">zh-TW</a></li></ul></div></body></html>
