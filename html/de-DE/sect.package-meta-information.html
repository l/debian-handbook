<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html
    xmlns="http://www.w3.org/1999/xhtml"><head><meta
        http-equiv="Content-Type"
        content="text/html; charset=UTF-8" /><title
        xmlns:d="http://docbook.org/ns/docbook">5.2. Paket-Meta-Information</title><link
        rel="stylesheet"
        type="text/css"
        href="Common_Content/css/default.css" /><link
        rel="stylesheet"
        media="print"
        href="Common_Content/css/print.css"
        type="text/css" /><meta
        xmlns:d="http://docbook.org/ns/docbook"
        name="generator"
        content="publican v4.3.1" /><meta
        xmlns:d="http://docbook.org/ns/docbook"
        name="package"
        content="Debian-debian-handbook-8-de-DE-1.0-1" /><meta
        name="keywords"
        content="Binärpaket, Quellpaket, dpkg, Abhängigkeiten, Konflikt" /><link
        rel="home"
        href="index.html"
        title="Das Debian Administrationshandbuch" /><link
        rel="up"
        href="packaging-system.html"
        title="Kapitel 5. Paketierungssystem: Hilfsprogramme und grundlegende Prinzipien" /><link
        rel="prev"
        href="packaging-system.html"
        title="Kapitel 5. Paketierungssystem: Hilfsprogramme und grundlegende Prinzipien" /><link
        rel="next"
        href="sect.source-package-structure.html"
        title="5.3. Struktur eines Quellpakets" /><link
        rel="canonical"
        href="http://l.github.io/debian-handbook/html/de-DE/sect.package-meta-information.html" /></head><body
      class="draft "><noscript><iframe
          src="//www.googletagmanager.com/ns.html?id=GTM-5H35QX"
          height="0"
          width="0"
          style="display:none;visibility:hidden"></iframe></noscript><script
        type="text/javascript">(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
j=d.createElement(s),dl=l!='dataLayer'?'&amp;l='+l:'';j.async=true;j.src=
'//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
})(window,document,'script','dataLayer','GTM-5H35QX');</script><div
        id="banner"><a
          href="http://debian-handbook.info/get/"><span
            class="text">Download the ebook</span></a></div><p
        id="title"><a
          class="left"
          href="http://www.debian.org"><img
            alt="Product Site"
            src="Common_Content/images//image_left.png" /></a><a
          class="right"
          href="http://debian-handbook.info"><img
            alt="Documentation Site"
            src="Common_Content/images//image_right.png" /></a></p><ul
        class="docnav top"><li
          class="previous"><a
            accesskey="p"
            href="packaging-system.html"><strong>Zurück</strong></a></li><li
          class="home">Das Debian Administrationshandbuch</li><li
          class="next"><a
            accesskey="n"
            href="sect.source-package-structure.html"><strong>Weiter</strong></a></li></ul><div
        class="section"><div
          class="titlepage"><div><div><h2
                class="title"><a
                  id="sect.package-meta-information"></a>5.2. Paket-Meta-Information</h2></div></div></div><a
          id="idm139908622991104"
          class="indexterm"></a><a
          id="idm139908622990144"
          class="indexterm"></a><div
          class="para">
			The Debian package is not only an archive of files intended for installation. It is part of a larger whole, and it describes its relationship with other Debian packages (dependencies, conflicts, suggestions). It also provides scripts that enable the execution of commands at different stages in the package's lifecycle (installation, removal, upgrades). These data are used by the package management tools but are not part of the packaged software; they are, within the package, what is called its “meta-information” (information about other information).
		</div><div
          class="section"><div
            class="titlepage"><div><div><h3
                  class="title"><a
                    id="sect.control"></a>5.2.1. Beschreibung: Die <code
                    class="filename">control</code>-Datei</h3></div></div></div><a
            id="idm139908634707824"
            class="indexterm"></a><a
            id="idm139908634706864"
            class="indexterm"></a><a
            id="idm139908634705424"
            class="indexterm"></a><div
            class="para">
				This file uses a structure similar to email headers (as defined by RFC 2822). For example, for <span
              class="pkg pkg">apt</span>, the <code
              class="filename">control</code> file looks like the following:
			</div><pre
            class="screen">
<code
              class="computeroutput">$ </code><strong
              class="userinput"><code>apt-cache show apt</code></strong>
<code
              class="computeroutput">Package: apt
Version: 1.0.9.6
Installed-Size: 3788
Maintainer: APT Development Team &lt;deity@lists.debian.org&gt;
Architecture: amd64
Replaces: manpages-it (&lt;&lt; 2.80-4~), manpages-pl (&lt;&lt; 20060617-3~), openjdk-6-jdk (&lt;&lt; 6b24-1.11-0ubuntu1~), sun-java5-jdk (&gt;&gt; 0), sun-java6-jdk (&gt;&gt; 0)
Depends: libapt-pkg4.12 (&gt;= 1.0.9.6), libc6 (&gt;= 2.15), libgcc1 (&gt;= 1:4.1.1), libstdc++6 (&gt;= 4.9), debian-archive-keyring, gnupg
Suggests: aptitude | synaptic | wajig, dpkg-dev (&gt;= 1.17.2), apt-doc, python-apt
Conflicts: python-apt (&lt;&lt; 0.7.93.2~)
Breaks: manpages-it (&lt;&lt; 2.80-4~), manpages-pl (&lt;&lt; 20060617-3~), openjdk-6-jdk (&lt;&lt; 6b24-1.11-0ubuntu1~), sun-java5-jdk (&gt;&gt; 0), sun-java6-jdk (&gt;&gt; 0)
Description-en: commandline package manager
 This package provides commandline tools for searching and
 managing as well as querying information about packages
 as a low-level access to all features of the libapt-pkg library.
 .
 These include:
  * apt-get for retrieval of packages and information about them
    from authenticated sources and for installation, upgrade and
    removal of packages together with their dependencies
  * apt-cache for querying available information about installed
    as well as installable packages
  * apt-cdrom to use removable media as a source for packages
  * apt-config as an interface to the configuration settings
  * apt-key as an interface to manage authentication keys
Description-md5: 9fb97a88cb7383934ef963352b53b4a7
Tag: admin::package-management, devel::lang:ruby, hardware::storage,
 hardware::storage:cd, implemented-in::c++, implemented-in::perl,
 implemented-in::ruby, interface::commandline, network::client,
 protocol::ftp, protocol::http, protocol::ipv6, role::program,
 role::shared-lib, scope::application, scope::utility, sound::player,
 suite::debian, use::downloading, use::organizing, use::searching,
 works-with::audio, works-with::software:package, works-with::text
Section: admin
Priority: important
Filename: pool/main/a/apt/apt_1.0.9.6_amd64.deb
Size: 1107560
MD5sum: a325ccb14e69fef2c50da54e035a4df4
SHA1: 635d09fcb600ec12810e3136d51e696bcfa636a6
SHA256: 371a559ce741394b59dbc6460470a9399be5245356a9183bbeea0f89ecaabb03</code></pre><div
            class="sidebar"><div
              class="titlepage"><div><div><p
                    class="title"><strong><span
                        class="emphasis"><em>ZURÜCK ZU DEN GRUNDLAGEN</em></span> RFC — Internet-Standards</strong></p></div></div></div><a
              id="idm139908634697936"
              class="indexterm"></a><a
              id="idm139908634696976"
              class="indexterm"></a><div
              class="para">
				RFC ist die Abkürzung für „Request For Comments“ (Bitte um Kommentare). Ein RFC ist üblicherweise ein technisches Dokument, das einen zukünftigen Internet-Standard beschreibt. Bevor sie standardisiert und für Veränderungen gesperrt werden, werden diese Standards einer öffentlichen Überprüfung unterworfen (daher der Name). Die IETF (Internet Engineering Task Force) entscheidet über die Statusentwicklung dieser Dokumente (vorgeschlagener Standard, Standardentwurf oder Standard).
			</div><div
              class="para">
				RFC 2026 definiert den Prozess der Standardisierung von Internet-Protokollen. <div
                class="url">→ <a
                  href="http://www.faqs.org/rfcs/rfc2026.html">http://www.faqs.org/rfcs/rfc2026.html</a></div>
			</div></div><div
            class="section"><div
              class="titlepage"><div><div><h4
                    class="title"><a
                      id="idm139908634693760"></a>5.2.1.1. Abhängigkeiten: die<code
                      class="literal">Depends</code>-Zeile</h4></div></div></div><a
              id="idm139908634692480"
              class="indexterm"></a><a
              id="idm139908634691520"
              class="indexterm"></a><a
              id="idm139908620968304"
              class="indexterm"></a><div
              class="para">
					The dependencies are defined in the <code
                class="literal">Depends</code> field in the package header. This is a list of conditions to be met for the package to work correctly — this information is used by tools such as <code
                class="command">apt</code> in order to install the required libraries, in appropriate versions fulfilling the dependencies of the package to be installed. For each dependency, it is possible to restrict the range of versions that meet that condition. In other words, it is possible to express the fact that we need the package <span
                class="pkg pkg">libc6</span> in a version equal to or greater than “2.15” (written “<code
                class="command">libc6 (&gt;= 2.15)</code>”). Version comparison operators are as follows:
				</div><div
              xmlns:d="http://docbook.org/ns/docbook"
              class="itemizedlist"><ul><li
                  class="listitem"><div
                    class="para">
							<code
                      class="command">&lt;&lt;</code>: kleiner als;
						</div></li><li
                  class="listitem"><div
                    class="para">
							<code
                      class="command">&lt;=</code>: kleiner als oder gleich;
						</div></li><li
                  class="listitem"><div
                    class="para">
							<code
                      class="command">=</code>: gleich (man beachte, „<code
                      class="literal">2.6.1</code>“ ist nicht gleich „<code
                      class="literal">2.6.1-1</code>“);
						</div></li><li
                  class="listitem"><div
                    class="para">
							<code
                      class="command">&gt;=</code>: größer als oder gleich;
						</div></li><li
                  class="listitem"><div
                    class="para">
							<code
                      class="command">&gt;&gt;</code>: größer als.
						</div></li></ul></div><div
              class="para">
					In einer Liste der zu erfüllenden Bedingungen dient das Komma als Trennzeichen. Logisch wird es als „UND“ interpretiert. In den Bedingungen drückt der vertikale Strich („|“) ein logisches „ODER“ aus (es ist ein nicht ausschließendes bzw. inklusives „ODER“, im Gegensatz zum exklusiven „ODER“, bei dem nur eine der Aussagen wahr ist). Es hat einen höheren Rang als „UND“ und kann so oft aneinandergereiht werden wie nötig. So wird die Abhängigkeit „(A ODER B) UND C“ geschrieben als <code
                class="command">A | B, C</code>. Dagegen sollte der Ausdruck „A ODER (B UND C)“ geschrieben werden als „(A ODER B) UND (A ODER C)“, da die <code
                class="literal">Depends</code>-Zeilen keine Klammern zulassen, die die Rangordnung zwischen den logischen Operatoren „ODER“ und „UND“ verändern. Es würde daher als <code
                class="command">A | B, A | C</code> geschrieben. <div
                class="url">→ <a
                  href="http://www.debian.org/doc/debian-policy/ch-relationships.html">http://www.debian.org/doc/debian-policy/ch-relationships.html</a></div>
				</div><a
              id="idm139908620951952"
              class="indexterm"></a><div
              class="para">
					Das Abhängigkeitensystem ist eine gute Vorrichtung um das Funktionieren eines Programms sicherzustellen, aber es hat mit den „Meta-Paketen“ noch eine weitere Funktion. Dies sind leere Pakete, die lediglich Abhängigkeiten beschreiben. Sie erleichtern die Installation einer zusammenhängenden Gruppe von Programmen, die vom Betreuer des Meta-Pakets ausgewählt wurden. So installiert <code
                class="command">apt-get install <em
                  class="replaceable">Meta-Paket</em></code> automatisch alle Programme unter Verwendung der Abhängigkeiten des Meta-Pakets. Die Pakete <span
                class="pkg pkg">gnome</span>, <span
                class="pkg pkg">kde-full</span> und <span
                class="pkg pkg">linux-image-amd64</span> sind Beispiele solcher Meta-Pakete.
				</div><div
              class="sidebar"><div
                class="titlepage"><div><div><p
                      class="title"><strong><span
                          class="emphasis"><em>DEBIAN-RICHTLINIEN</em></span> <code
                          class="literal">Pre-Depends</code>, ein anspruchsvolleres <code
                          class="literal">Depends</code></strong></p></div></div></div><a
                id="idm139908620945488"
                class="indexterm"></a><a
                id="idm139908620944208"
                class="indexterm"></a><div
                class="para">
					„Vorabhängigkeiten“, die in der „<code
                  class="literal">Pre-Depends</code>“-Zeilen des Paketkopfes aufgeführt sind, vervollständigen die normalen Abhängigkeiten; ihre Syntax ist identisch. Eine normale Abhängigkeit bedeutet, dass das betreffende Paket vor dem Paket, das die Abhängigkeit dokumentiert, entpackt und konfiguriert werden muss. Eine Vorabhängigkeit schreibt vor, dass das betreffende Paket entpackt und konfiguriert werden muss, bevor das Skript zur Auflösung der "normalemn" Abhängigkeiten des Paketes, das die Vorabhängigkeit definiert, ausgeführt wird, also vor dessen Installation.
				</div><div
                class="para">
					Eine Vorabhängigkeit ist für <code
                  class="command">apt</code> sehr schwierig, da es der Reihenfolge der zu installierenden Pakete eine strenge Restriktion auferlegt. Deshalb wird von Vorabhängigkeiten abgeraten, es sei denn, sie sind unbedingt erforderlich. Es wird sogar empfohlen, andere Entwickler auf <code
                  class="email"><a
                    class="email"
                    href="mailto:debian-devel@lists.debian.org">debian-devel@lists.debian.org</a></code> zu Rate zu ziehen, bevor eine Vorabhängigkeit eingefügt wird. Es ist normalerweise möglich eine andere Lösung zur Umgehung des Problems zu finden.
				</div></div><div
              class="sidebar"><div
                class="titlepage"><div><div><p
                      class="title"><strong><span
                          class="emphasis"><em>DEBIAN-RICHTLINIEN</em></span> <code
                          class="literal">Recommends</code>-, <code
                          class="literal">Suggests</code>- und <code
                          class="literal">Enhances</code>-Zeilen</strong></p></div></div></div><a
                id="idm139908620937328"
                class="indexterm"></a><a
                id="idm139908620936048"
                class="indexterm"></a><div
                class="para">
					Die <code
                  class="literal">Recommends</code>- und <code
                  class="literal">Suggests</code>-Zeilen bezeichnen Abhängigkeiten, die nicht vorgeschrieben sind. Die „empfohlenen“ (recommended) Abhängigkeiten sind wichtig und verbessern die Funktionen des Pakets wesentlich, sind für seinen Einsatz aber nicht unabdingbar. Die „vorgeschlagenen“ (suggested) Abhängigkeiten sind weniger wichtig und deuten darauf hin, dass bestimmte Pakete die Funktionalität ergänzen oder verbessern können; es ist jedoch völlig zulässig, es ohne diese zu installieren.
				</div><div
                class="para">
					Sie sollten immer die „empfohlenen“ (recommended) Pakete installieren, es sei denn, Sie wissen genau warum Sie sie nicht benötigen. Dagegen ist es nicht erforderlich, die „vorgeschlagenen“ (suggested) Pakete zu installieren, es sei denn, Sie wissen warum Sie sie benötigen.
				</div><a
                id="idm139908620932112"
                class="indexterm"></a><div
                class="para">
					Die <code
                  class="literal">Enhances</code>-Zeilen beschreibt auch eine Empfehlung, aber in einem anderen Zusammenhang. Und zwar befindet sie sich in dem vorgeschlagenen Paket, nicht in dem Paket, dem der Vorschlag zugute kommt. Sie ist deshalb interessant, weil man auf diese Weise eine Empfehlung hinzufügen kann, ohne das betroffene Paket zu verändern. So können alle Add-ons, Plug-ins und sonstigen Erweiterungen in der Liste der Empfehlungen für ein Programm erscheinen. Obwohl es sie bereits seit mehreren Jahren gibt, werden diese Zeilen noch weitgehend von Programmen wie <code
                  class="command">apt-get</code> oder <code
                  class="command">synaptic</code> ignoriert. Ihr Zweck besteht darin, dem Nutzer einen von der <code
                  class="literal">Enhances</code>-Zeile gemachten Vorschlag zusätzlich zu den herkömmlichen Vorschlägen - in der <code
                  class="literal">Suggests</code>-Zeile - anzuzeigen.
				</div></div></div><div
            class="section"><div
              class="titlepage"><div><div><h4
                    class="title"><a
                      id="idm139908620927120"></a>5.2.1.2. Konflikte: die <code
                      class="literal">Conflicts</code>-Zeilen</h4></div></div></div><a
              id="idm139908620925840"
              class="indexterm"></a><a
              id="idm139908620924880"
              class="indexterm"></a><a
              id="idm139908620923600"
              class="indexterm"></a><div
              class="para">
					Die <code
                class="literal">Conflicts</code>-Zeilen zeigen an, dass ein Paket nicht gleichzeitig mit einem anderen installiert sein kann. Die häufigsten Gründe hierfür sind, dass beide Pakete eine Datei gleichen Namens enthalten, dass sie den gleichen Dienst am selben TCP-Port anbieten oder dass sie sich gegenseitig im Betrieb behindern würden.
				</div><div
              class="para">
					<code
                class="command">dpkg</code> wird sich weigern, ein Paket zu installieren, falls es einen Konflikt mit einem bereits installierten Paket auslöst, es sei denn das neue Paket gibt an, dass es die installierten Pakete „ersetzen“ wird. In diesem Fall wird sich <code
                class="command">dpkg</code> dafür entscheiden, das alte Paket durch das neue zu ersetzen. <code
                class="command">apt-get</code> folgt immer Ihren Anweisungen: wenn Sie es vorziehen ein neues Paket zu installieren, wird es automatisch anbieten das Paket, das ein Problem darstellt, zu deinstallieren.
				</div></div><div
            class="section"><div
              class="titlepage"><div><div><h4
                    class="title"><a
                      id="idm139908620918400"></a>5.2.1.3. Inkompatibilitäten: die <code
                      class="literal">Breaks</code>-Zeilen</h4></div></div></div><a
              id="idm139908620917152"
              class="indexterm"></a><a
              id="idm139908620916192"
              class="indexterm"></a><a
              id="idm139908620914912"
              class="indexterm"></a><div
              class="para">
					Die <code
                class="literal">Breaks</code>-Zeilen haben einen ähnlichen Effekt wie die <code
                class="literal">Conflicts</code>-Zeilen, jedoch mit einer besonderen Bedeutung. Sie deutet darauf hin, dass die Installation eines Paketes ein anderes Paket (oder bestimmte Versionen davon) „brechen“ wird. Normalerweise ist die Inkompatibilität zwischen zwei Paketen vorübergehend, und die <code
                class="literal">Breaks</code>-Beziehung bezieht sich auf die inkompatiblen Versionen.
				</div><div
              class="para">
					<code
                class="command">dpkg</code> wird sich weigern, ein Paket zu installieren das ein bereits installiertes Paket beschädigen würde, und <code
                class="command">apt-get</code> wird versuchen das Problem dadurch zu lösen, dass es das Paket das beschädigt würde auf eine neuere Version zu aktualisieren (von der angenommen wird, dass sie korrigiert und damit wieder kompatibel ist).
				</div><div
              class="para">
					Diese Situation kann bei Aktualisierungen ohne rückwärtige Kompatibilität auftreten: dies ist der Fall, wenn eine neue Version nicht mehr zusammen mit der älteren Version funktioniert und eine Fehlfunktion in einem anderen Programm verursacht ohne dass dafür besondere Vorkehrungen getroffen worden sind. Die <code
                class="literal">Breaks</code>-Zeilen verhindern, dass der Nutzer in diese Schwierigkeiten gerät.
				</div></div><div
            class="section"><div
              class="titlepage"><div><div><h4
                    class="title"><a
                      id="idm139908620908160"></a>5.2.1.4. Bereitgestellte Elemente: die <code
                      class="literal">Provides</code>-Zeilen</h4></div></div></div><a
              id="idm139908620906912"
              class="indexterm"></a><div
              class="para">
					Diese Zeile führt das sehr interessante Konzept eines „virtuellen Pakets“ ein. Sie hat viele Aufgaben, aber zwei sind von besonderer Bedeutung. Die erste Aufgabe besteht darin, ein virtuelles Paket dazu zu benutzen, ihm einen allgemeinen Dienst zuzuordnen (das Paket „stellt“ den Dienst „bereit“). Die zweite zeigt an, dass ein Paket ein anderes vollständig ersetzt, und dass es daher auch die Abhängigkeiten erfüllen kann, die das andere erfüllen würde. Auf diese Weise kann ein Ersatzpaket erstellt werden, ohne denselben Paketnamen verwenden zu müssen.
				</div><div
              class="sidebar"><div
                class="titlepage"><div><div><p
                      class="title"><strong><span
                          class="emphasis"><em>WÖRTERVERZEICHNIS</em></span> Meta-Pakete und virtuelle Pakete</strong></p></div></div></div><a
                id="idm139908632188384"
                class="indexterm"></a><a
                id="idm139908632187424"
                class="indexterm"></a><a
                id="idm139908632185984"
                class="indexterm"></a><div
                class="para">
					Es ist unerlässlich, zwischen Meta-Paketen und virtuellen Paketen zu unterscheiden. Erstere sind wirkliche Pakete (einschließlich wirklicher <code
                  class="filename">.deb</code>-Dateien), deren einziger Zweck darin besteht, Abhängigkeiten aufzuzeigen.
				</div><div
                class="para">
					Dagegen existieren virtuelle Pakete nicht wirklich; sie dienen lediglich dazu, wirkliche Pakete auf der Basis gemeinsamer, logischer Kriterien (des bereitgestellten Dienstes, der Kompatibilität mit einem Standardprogramm oder einem schon vorher bestehenden Paket usw.) zu identifizieren.
				</div></div><div
              class="section"><div
                class="titlepage"><div><div><h5
                      class="title"><a
                        id="idm139908632183040"></a>5.2.1.4.1. Einen „Dienst“ bereitstellen</h5></div></div></div><div
                class="para">
						Let us discuss the first case in greater detail with an example: all mail servers, such as <span
                  class="pkg pkg">postfix</span> or <span
                  class="pkg pkg">sendmail</span> are said to “provide” the <span
                  class="pkg pkg">mail-transport-agent</span> virtual package. Thus, any package that needs this service to be functional (e.g. a mailing list manager, such as <span
                  class="pkg pkg">smartlist</span> or <span
                  class="pkg pkg">sympa</span>) simply states in its dependencies that it requires a <span
                  class="pkg pkg">mail-transport-agent</span> instead of specifying a large yet incomplete list of possible solutions (e.g. <code
                  class="command">postfix | sendmail | exim4 | …</code>). Furthermore, it is useless to install two mail servers on the same machine, which is why each of these packages declares a conflict with the <span
                  class="pkg pkg">mail-transport-agent</span> virtual package. A conflict between a package and itself is ignored by the system, but this technique will prohibit the installation of two mail servers side by side.
					</div><div
                class="sidebar"><div
                  class="titlepage"><div><div><p
                        class="title"><strong><span
                            class="emphasis"><em>DEBIAN-RICHTLINIEN</em></span> Liste virtueller Pakete</strong></p></div></div></div><a
                  id="idm139908632175296"
                  class="indexterm"></a><div
                  class="para">
						Damit virtuelle Pakete verwndet werden können, müssen alle sich über ihre Namen einig sein. Daher sind diese in den Debian-Richtlinien standardisiert. Die Liste enthält unter anderem <span
                    class="pkg pkg">mail-transport-agent</span> für Mailserver, <span
                    class="pkg pkg">c-compiler</span> für Kompilierer der Programmiersprache C, <span
                    class="pkg pkg">www-browser</span> für Webbrowser, <span
                    class="pkg pkg">httpd</span> für Webserver, <span
                    class="pkg pkg">ftp-server</span> für FTP-Server, <span
                    class="pkg pkg">x-terminal-emulator</span> für Terminal-Emulatoren im Grafikmodus (<code
                    class="command">xterm</code>) sowie <span
                    class="pkg pkg">x-window-manager</span> für Fenstermanager.
					</div><div
                  class="para">
						Die vollständige Liste ist im Internet zu finden. <div
                    class="url">→ <a
                      href="http://www.debian.org/doc/packaging-manuals/virtual-package-names-list.txt">http://www.debian.org/doc/packaging-manuals/virtual-package-names-list.txt</a></div>
					</div></div></div><div
              class="section"><div
                class="titlepage"><div><div><h5
                      class="title"><a
                        id="idm139908632166592"></a>5.2.1.4.2. Austauschbarkeit mit einem anderen Paket</h5></div></div></div><div
                class="para">
						The <code
                  class="literal">Provides</code> field is also interesting when the content of a package is included in a larger package. For example, the <span
                  class="pkg pkg">libdigest-md5-perl</span> Perl module was an optional module in Perl 5.6, and has been integrated as standard in Perl 5.8 (and later versions, such as 5.20 present in <span
                  class="distribution distribution">Jessie</span>). As such, the package <span
                  class="pkg pkg">perl</span> has since version 5.8 declared <code
                  class="literal">Provides: libdigest-md5-perl</code> so that the dependencies on this package are met if the user has Perl 5.8 (or newer). The <span
                  class="pkg pkg">libdigest-md5-perl</span> package itself has eventually been deleted, since it no longer had any purpose when old Perl versions were removed.
					</div><div
                class="figure"><a
                  id="idm139908632161488"></a><div
                  class="figure-contents"><div
                    class="mediaobject"><img
                      src="images/virtual-package.png"
                      alt="Verwendung einer Provides-Zeile zur Vermeidung des Brechens von Abhängigkeiten" /></div></div><p
                  class="title"><strong>Abbildung 5.1. Verwendung einer <code
                      class="literal">Provides</code>-Zeile zur Vermeidung des Brechens von Abhängigkeiten</strong></p></div><div
                class="para">
						Dieses Merkmal ist sehr nützlich, da es nie möglich ist, die Wechselfälle der Entwicklung vorherzusehen, und es erforderlich ist, sich auf die Umbenennung oder einen anderen automatischen Ersatz einer veralteten Software einzustellen.
					</div><div
                class="sidebar"><div
                  class="titlepage"><div><div><p
                        class="title"><strong><span
                            class="emphasis"><em>ZURÜCK ZU DEN GRUNDLAGEN</em></span> Perl, eine Programmiersprache</strong></p></div></div></div><a
                  id="idm139908632156480"
                  class="indexterm"></a><a
                  id="idm139908632155520"
                  class="indexterm"></a><div
                  class="para">
						Perl (Practical Extraction and Report Language) ist eine sehr populäre Programmiersprache. Sie hat zahlreiche gebrauchsfertige Module, die ein weites Spektrum von Anwendungen abdecken und die durch die Server des CPAN (Comprehensive Perl Archive Network) verteilt werden, ein vollständiges Netzwerk von Perl-Paketen. <div
                    class="url">→ <a
                      href="http://www.perl.org/">http://www.perl.org/</a></div> <div
                    class="url">→ <a
                      href="http://www.cpan.org/">http://www.cpan.org/</a></div>
					</div><div
                  class="para">
						Da es eine interpretierte Sprache ist, brauchen in Perl geschriebene Programme vor ihrer Ausführung nicht kompiliert zu werden. Daher werden sie „Perl-Skripte“ genannt.
					</div></div></div><div
              class="section"><div
                class="titlepage"><div><div><h5
                      class="title"><a
                        id="idm139908632151392"></a>5.2.1.4.3. Past Limitations</h5></div></div></div><div
                class="para">
						Virtual packages used to suffer from some limitations, the most significant of which was the absence of a version number. To return to the previous example, a dependency such as <code
                  class="literal">Depends: libdigest-md5-perl (&gt;= 1.6)</code>, despite the presence of Perl 5.10, would never be considered as satisfied by the packaging system — while in fact it most likely is satisfied. Unaware of this, the package system chose the least risky option, assuming that the versions do not match.
					</div><div
                class="para">
						This limitation has been lifted in <span
                  class="pkg pkg">dpkg</span> 1.17.11, and is no longer relevant in Jessie.
					</div></div></div><div
            class="section"><div
              class="titlepage"><div><div><h4
                    class="title"><a
                      id="idm139908632147840"></a>5.2.1.5. Dateien ersetzen: Die <code
                      class="literal">Replaces</code>-Zeile</h4></div></div></div><a
              id="idm139908632146560"
              class="indexterm"></a><a
              id="idm139908632145600"
              class="indexterm"></a><a
              id="idm139908632144320"
              class="indexterm"></a><div
              class="para">
					The <code
                class="literal">Replaces</code> field indicates that the package contains files that are also present in another package, but that the package is legitimately entitled to replace them. Without this specification, <code
                class="command">dpkg</code> fails, stating that it can not overwrite the files of another package (technically, it is possible to force it to do so with the <code
                class="literal">--force-overwrite</code> option, but that's not considered standard operation). This allows identification of potential problems and requires the maintainer to study the matter prior to choosing whether to add such a field.
				</div><div
              class="para">
					Die Verwendung dieser Zeile ist gerechtfertigt, wenn sich Paketnamen ändern oder wenn ein Paket in einem anderen enthalten ist. Dies kommt auch vor, wenn der Betreuer sich entschließt, Dateien in unterschiedlicher Weise auf mehrere Binärpakete zu verteilen, die vom selben Quellpaket erstellt werden: eine ersetzte Datei ist nicht mehr Teil des alten Pakets, sondern nur noch des neuen.
				</div><div
              class="para">
					Sobald alle Dateien eines installierten Pakets ersetzt wurden, gilt das Paket als entfernt. Ausserdem veranlasst dieses Feld <code
                class="command">dpkg</code>, das ersetzte Paket zu entfernen, wenn ein Konflikt auftritt.
				</div><div
              class="sidebar"><a
                id="sidebar.debtags"></a><div
                class="titlepage"><div><div><p
                      class="title"><strong><span
                          class="emphasis"><em>WEITERE SCHRITTE</em></span> Die <code
                          class="literal">Tag</code>-Zeile</strong></p></div></div></div><div
                class="para">
					In obenstehendem <span
                  class="pkg pkg">apt</span>-Beispiel sehen wir eine Zeile, die wir noch nicht erläutert haben: die <code
                  class="literal">Tag</code>-Zeile. Diese Zeile beschreibt keine Beziehung zwischen Paketen, sondern ist eine einfache Möglichkeit, ein Paket in einer thematischen Taxonomie zu kategorisieren. Diese Einordnung von Paketen aufgrund verschiedener Kriterien (Art der Schnittstelle, Programmiersprache, Verwendungsbereich usw.) ist schon seit längerem möglich. Aber nicht alle Pakte enthalten korrekte Tags und es ist noch nicht in alle Debian-Hilfsprogramme integriert; <code
                  class="command">aptitude</code> zeigt diese Kennzeichnungen an und erlaubt es, sie als Suchkriterien zu verwenden. Für diejenigen, denen <code
                  class="command">aptitude</code>'s Suchkriterien nicht gefallen, ermöglicht folgende Webseite das Nvigieren durch die Kennzeichen-Datenbank: <div
                  class="url">→ <a
                    href="http://debtags.alioth.debian.org/">http://debtags.alioth.debian.org/</a></div>
				</div></div></div></div><div
          class="section"><div
            class="titlepage"><div><div><h3
                  class="title"><a
                    id="idm139908632132320"></a>5.2.2. Konfigurationsskripte</h3></div></div></div><a
            id="idm139908632131520"
            class="indexterm"></a><a
            id="idm139908632130400"
            class="indexterm"></a><a
            id="idm139908632129280"
            class="indexterm"></a><a
            id="idm139908632128160"
            class="indexterm"></a><a
            id="idm139908632127040"
            class="indexterm"></a><div
            class="para">
				Zusätzlich zur <code
              class="filename">control</code>-Datei kann das <code
              class="filename">control.tar.gz</code>-Archiv jeden Debian-Pakets eine Anzahl von Skripten enthalten, die von <code
              class="command">dpkg</code> in verschiedenen Phasen der Paketverarbeitung aufgerufen werden. Die Debian-Richtlinien beschreiben ausführlich die möglichen Fälle mit Benennung der aufgerufenen Skripte und der Parameter, die sie entgegennehmen. Diese Abläufe können kompliziert sein, da <code
              class="command">dpkg</code> im Falle des Scheiterns eines Skripts versucht, zu einem zufriedenstellenden Zustand zurückzukehren, indem es die Installation oder die gerade stattfindende Entfernung (insofern möglich) abbricht.
			</div><div
            class="sidebar"><div
              class="titlepage"><div><div><p
                    class="title"><strong><span
                        class="emphasis"><em>WEITERE SCHRITTE</em></span> <code
                        class="command">dpkg</code>-Datenbank</strong></p></div></div></div><a
              id="idm139908632121520"
              class="indexterm"></a><a
              id="idm139908632120400"
              class="indexterm"></a><div
              class="para">
				Alle Konfigurationsskripte für installierte Pakete sind im Verzeichnis <code
                class="filename">/var/lib/dpkg/info/</code> in Form einer Datei gespeichert, der der Dateiname des Pakets vorangestellt ist. In diesem Verzeichnis befindet sich für jedes Paket auch eine Datei mit der Erweiterung <code
                class="filename">.list</code>, die eine Liste der zu dem jeweiligen Paket gehörenden Dateien enthält.
			</div><div
              class="para">
				Die Datei <code
                class="filename">/var/lib/dpkg/status</code> enthält eine Reihe von Datenblöcken (im Format der bekannten Mail-Kopfzeilen, RFC 2822), die den Status jedes Pakets beschreiben. Die Information aus der <code
                class="filename">control</code>-Datei der installierten Pakete ist hier ebenfalls wiedergegeben.
			</div></div><div
            class="para">
				Im Allgemeinen wird das Skript <code
              class="filename">preinst</code> vor der Installation eines Pakets ausgeführt, <code
              class="filename">postinst</code> danach. In gleicher Weise wird <code
              class="filename">prerm</code> vor dem Entfernen eines Pakets aufgerufen und <code
              class="filename">postrm</code> danach. Die Aktualisierung eines Pakets ist gleichbedeutend mit dem Entfernen der vorhergehenden Version und einer Installation der neuen. Alle möglichen Szenarien können hier nicht ausführlich beschrieben werden, aber wir werden die zwei häufigsten erörtern: eine Installation/Aktualisierung und ein Entfernen.
			</div><div
            class="sidebar"><div
              class="titlepage"><div><div><p
                    class="title"><strong><span
                        class="emphasis"><em>VORSICHT</em></span> Symbolische Skriptnamen</strong></p></div></div></div><div
              class="para">
				Die in diesem Abschnitt beschriebenen Schritte bezeichnen Konfigurationsskripte mit spezifischen Namen wie <code
                class="command">old-prerm</code> oder <code
                class="command">new-postinst</code>. Dies sind zum einen das in der alten Version des Pakets enthaltene Skript <code
                class="command">prerm</code> (das vor der Aktualisierung installiert worden war) und zum anderen das in der neuen Version enthaltene Skript <code
                class="command">postinst</code> (das durch die Aktualisierung installiert wird).
			</div></div><div
            class="sidebar"><div
              class="titlepage"><div><div><p
                    class="title"><strong><span
                        class="emphasis"><em>TIP</em></span> Zustandsdiagramme</strong></p></div></div></div><div
              class="para">
				Manoj Srivastava hat diese Diagramme erstellt, die erklären, wie die Konfigurationsskripte von <code
                class="command">dpkg</code> aufgerufen werden. Ähnliche Diagramme wurden auch vom Projekt „Debian Women“ entwickelt; sie sind etwas einfacher zu verstehen, aber weniger vollständig. <div
                class="url">→ <a
                  href="http://people.debian.org/~srivasta/MaintainerScripts.html">http://people.debian.org/~srivasta/MaintainerScripts.html</a></div> <div
                class="url">→ <a
                  href="http://wiki.debian.org/MaintainerScripts">http://wiki.debian.org/MaintainerScripts</a></div>
			</div></div><div
            class="section"><div
              class="titlepage"><div><div><h4
                    class="title"><a
                      id="idm139908632105504"></a>5.2.2.1. Installation und Aktualisierung</h4></div></div></div><a
              id="idm139908632104736"
              class="indexterm"></a><div
              class="para">
					Folgendes geschieht während einer Installation (oder einer Aktualisierung):
				</div><div
              xmlns:d="http://docbook.org/ns/docbook"
              class="orderedlist"><ol><li
                  class="listitem"><div
                    class="para">
							Für eine Aktualisierung ruft <code
                      class="command">dpkg</code> das Skript <code
                      class="command">old-prerm upgrade <em
                        class="replaceable">neue-version</em></code> auf.
						</div></li><li
                  class="listitem"><div
                    class="para">
							Ebenfalls für eine Aktualisierung führt <code
                      class="command">dpkg</code> dann <code
                      class="command">new-preinst upgrade<em
                        class="replaceable">alte-version</em></code> aus; bei einer erstmaligen Installation führt es stattdessen <code
                      class="command">new-preinst install</code> aus. Möglicherweise fügt es im letzten Parameter die alte Version hinzu, falls das Paket früher schon einmal installiert war und seither entfernt wurde (aber nicht vollständig gelöscht, da die Konfigurationsdateien noch zurückbehalten wurden).
						</div></li><li
                  class="listitem"><div
                    class="para">
							Die neuen Paketdateien werden dann entpackt. Falls eine Datei bereits vorhanden ist, wird sie ersetzt, wobei aber vorübergehend eine Sicherheitskopie erstellt wird.
						</div></li><li
                  class="listitem"><div
                    class="para">
							Für eine Aktualisierung führt <code
                      class="command">dpkg</code> das Skript <code
                      class="command">old-postrm upgrade <em
                        class="replaceable">neue-version</em></code> aus.
						</div></li><li
                  class="listitem"><div
                    class="para">
							<code
                      class="command">dpkg</code> aktualisiert alle internen Daten (Dateiliste, Konfigurationsskripte usw.) und entfernt die Sicherheitskopien der ersetzten Dateien. Dies ist der Punkt, an dem es kein Zurück mehr gibt: <code
                      class="command">dpkg</code> hat keinen Zugang zu all den Elementen mehr, die für eine Rückkehr zum vorherigen Zustand erforderlich wären.
						</div></li><li
                  class="listitem"><div
                    class="para">
							<code
                      class="command">dpkg</code> aktualisiert dann die Konfigurationsdateien, wobei es den Nutzer auffordert, Entscheidungen zu treffen, falls es diese Aufgabe nicht selbsttätig erledigen kann. Die Einzelheiten dieses Vorgangs sind in <a
                      class="xref"
                      href="sect.package-meta-information.html#sect.conffiles">Abschnitt 5.2.3, „Checksummen, Liste der Konfigurationsdateien“</a> erläutert.
						</div></li><li
                  class="listitem"><div
                    class="para">
							Schließlich konfiguriert <code
                      class="command">dpkg</code> das Paket, indem es <code
                      class="command">new-postinst configure <em
                        class="replaceable">vorherige-konfigurierte-version</em></code> ausführt.
						</div></li></ol></div></div><div
            class="section"><div
              class="titlepage"><div><div><h4
                    class="title"><a
                      id="idm139908632087008"></a>5.2.2.2. Paketentfernung</h4></div></div></div><div
              class="para">
					Folgendes geschieht, wenn ein Paket entfernt wird:
				</div><div
              xmlns:d="http://docbook.org/ns/docbook"
              class="orderedlist"><ol><li
                  class="listitem"><div
                    class="para">
							<code
                      class="command">dpkg</code> ruft <code
                      class="command">prerm remove</code> auf.
						</div></li><li
                  class="listitem"><div
                    class="para">
							<code
                      class="command">dpkg</code> entfernt alle Dateien des Pakets bis auf die Konfigurationsdateien und die Konfigurationsskripte.
						</div></li><li
                  class="listitem"><div
                    class="para">
							<code
                      class="command">dpkg</code> führt <code
                      class="command">postrm remove</code> aus. Hierdurch werden alle Konfigurationsskripte bis auf <code
                      class="filename">postrm</code> entfernt. Falls der Nutzer nicht die Option „purge“ benutzt hat, wird der Ablauf hier beendet.
						</div></li><li
                  class="listitem"><div
                    class="para">
							Bei einer vollständigen Entfernung des Paketes (durch den Befehl <code
                      class="command">dpkg --purge</code> oder <code
                      class="command">dpkg -P</code>) werden sowohl die Konfigurationsdateien entfernt, als auch eine Anzahl von Kopien (<code
                      class="filename">*.dpkg-tmp</code>, <code
                      class="filename">*.dpkg-old</code>, <code
                      class="filename">*.dpkg-new</code>) und temporären Dateien; <code
                      class="command">dpkg</code> führt dann abschließend <code
                      class="command">postrm purge</code> aus.
						</div></li></ol></div><div
              class="sidebar"><div
                class="titlepage"><div><div><p
                      class="title"><strong><span
                          class="emphasis"><em>WÖRTERVERZEICHNIS</em></span> „Purge“, vollständig Entfernen</strong></p></div></div></div><a
                id="idm139908632073920"
                class="indexterm"></a><div
                class="para">
					Wenn ein Debian-Paket entfernt wird, bleiben die Konfigurationsdateien erhalten, um eine mögliche Re-Installation zu erleichtern. In gleicher Weise bleiben die von einem Hintergrundprogramm erzeugten Daten (wie der Inhalt eines LDAP-Server-Verzeichnisses oder der Inhalt einer SQL-Server-Datenbank) normalerweise erhalten.
				</div><div
                class="para">
					Um alle mit einem Paket in Verbindung stehenden Daten zu entfernen, muss das Paket mit dem Befehl <code
                  class="command">dpkg -P <em
                    class="replaceable">paket</em></code>, <code
                  class="command">apt-get remove --purge <em
                    class="replaceable">paket</em></code> oder <code
                  class="command">aptitude purge <em
                    class="replaceable">paket</em></code> gelöscht werden.
				</div><div
                class="para">
					Given the definitive nature of such data removals, a purge should not be taken lightly.
				</div></div><a
              id="idm139908632068496"
              class="indexterm"></a><div
              class="para">
					Die vier oben beschriebenen Skripte werden durch ein <code
                class="filename">config</code>-Skript ergänzt, das von Paketen bereitgestellt wird, die <code
                class="command">debconf</code> verwenden, um vom Nutzer Informationen für die Konfigurierung zu bekommen. Während der Installation bestimmt dieses Skript im Einzelnen die Fragen, die von <code
                class="command">debconf</code> gestellt werden. Die Antworten werden zur späteren Verwendung in der <code
                class="command">debconf</code>-Datenbank aufgezeichnet. Das Skript wird von <code
                class="command">apt</code> normalerweise ausgeführt, bevor es ein Paket nach dem anderen installiert, um so alle Fragen zu gliedern und sie dem Nutzer vollständig zu Beginn des Vorgangs zu stellen. Die Vor- und Nachinstallationsskripte können dann diese Information verwenden, um den Wünschen des Nutzers entsprechend zu agieren.
				</div><div
              class="sidebar"><div
                class="titlepage"><div><div><p
                      class="title"><strong><span
                          class="emphasis"><em>HILFSPROGRAMM</em></span> <code
                          class="command">debconf</code></strong></p></div></div></div><a
                id="idm139908632061856"
                class="indexterm"></a><div
                class="para">
					<code
                  class="command">debconf</code> wurde entwickelt, um ein in Debian immer wiederkehrendes Problem zu lösen. Debian-Pakete, die zumindest ein Minimum an Konfiguration benötigen, benutzten die Befehle <code
                  class="command">echo</code> und <code
                  class="command">read</code> in <code
                  class="filename">postinst</code> (und anderen ähnlichen Shell-Skripten), um die Antworten abzufragen. Dies bedeutete jedoch, dass der Nutzer während einer umfangreichen Installation oder Aktualisierung beim Rechner bleiben musste, um diverse Fragen, die sich jederzeit ergeben konnten, zu beantworten. Auf dieses manuelle Zusammenwirken kann inzwischen dank <code
                  class="command">debconf</code> fast vollständig verzichtet werden.
				</div><div
                class="para">
					<code
                  class="command">debconf</code> hat zahlreiche interessante Merkmale: es verlangt vom Entwickler, die Interaktionen mit dem Anwender festzulegen; es erlaubt die Lokalisierung aller angezeigten Texte (alle Übersetzungen der Interaktionsbezeichnungen sind in der <code
                  class="filename">Template</code>-Datei gespeichert); es verfügt über verschiedene Frontends zur Interaktion mit dem Anwender (Textmodus, Grafikmodus, nicht interaktiv); und es ermöglicht die Erstellung einer zentralen Datenbank von Antworten, um so dieselbe Konfiguration mit verschiedenen Rechnern zu teilen... aber das Wichtigste ist, dass es jetzt möglich ist, dem Nutzer vor Beginn einer langen Installation oder Aktualisierung alle Fragen in einem Block zu stellen. Der Nutzer kann dann andere Aufgaben erledigen, während das System die Installation selbstständig erledigt, und er braucht nicht mehr vor Ort zu bleiben und in Erwartung möglicher Fragen auf den Bildschirm zu starren.
				</div></div></div></div><div
          class="section"><div
            class="titlepage"><div><div><h3
                  class="title"><a
                    id="sect.conffiles"></a>5.2.3. Checksummen, Liste der Konfigurationsdateien</h3></div></div></div><a
            id="idm139908632053488"
            class="indexterm"></a><a
            id="idm139908632052368"
            class="indexterm"></a><a
            id="idm139908632051248"
            class="indexterm"></a><a
            id="idm139908632050288"
            class="indexterm"></a><a
            id="idm139908632048848"
            class="indexterm"></a><div
            class="para">
				Zusätzlich zu den in den vorherigen Kapiteln genannten Verwaltungsskripten und Kontrolldaten enthält das Archiv <code
              class="filename">control.tar.gz</code> eines Debian-Pakets weitere interessante Dateien. Die erste, <code
              class="filename">md5sums</code>, enthält die MD5-Prüfsumme aller Dateien des Pakets. Ihr Hauptvorteil besteht darin, dass sie es einem Programm wie <code
              class="command">debsums</code> (auf das wir in <a
              class="xref"
              href="sect.supervision.html#sect.debsums">Abschnitt 14.3.3.1, „Pakete auditieren: <code
                class="command">debsums</code> und seine Grenzen“</a> noch näher eingehen werden) ermöglicht, zu überprüfen, ob diese Dateien seit ihrer Installation verändert worden sind. Man beachte, dass der Befehl <code
              class="command">dpkg</code> diese Datei dynamisch zur Installationszeit erzeugt, falls sie nicht vorhanden ist (und in der dpkg-Datenbank speichert wie die anderen Kontrolldateien).
			</div><div
            class="para">
				<code
              class="filename">conffiles</code> führt Paketdateien auf, die als Konfigurationsdateien behandelt werden müssen. Konfigurationsdateien können durch den Administrator angepasst werden und <code
              class="command">dpkg</code> wird versuchen, diese Anpassungen bei einer Paketaktualisierung zu erhalten.
			</div><div
            class="para">
				Im Ergebnis verhält sich <code
              class="command">dpkg</code> in dieser Situation möglichst intelligent: falls die Standard-Konfigurationsdatei zwischen zwei Versionen nicht verändert worden ist, tut es gar nichts. Falls die Datei jedoch verändert wurde, wird es versuchen, sie zu aktualisieren. Zwei Fälle sind möglich: entweder hat der Administrator diese Konfigurationsdatei nicht angerührt, dann installiert <code
              class="command">dpkg</code> automatisch die neue Version; oder die Datei ist verändert worden, dann fragt <code
              class="command">dpkg</code> den Administrator, welche Version er verwenden möchte (die alte mit den Veränderungen oder die neue, die mit dem Paket bereitgestellt wird). Um diese Entscheidung zu erleichtern, bietet <code
              class="command">dpkg</code> an, ein „<code
              class="command">diff</code>“ anzuzeigen, das die Unterschiede zwischen den beiden Versionen aufführt. Falls der Nutzer sich entscheidet, die alte Version zu behalten, wird die neue am selben Ort in einer Datei mit dem Zusatz <code
              class="filename">.dpkg-dist</code> abgespeichert. Wenn der Anwender die neue Version auswählt, wird die alte in einer Datei mit dem Suffix <code
              class="filename">.dpkg-old</code> suffix gespeichert. Eine weitere mögliche Maßnahme besteht darin, <code
              class="command">dpkg</code> vorübergehend anzuhalten und dann die Datei zu editieren, und dabei zu versuchen, die relevanten Veränderungen (die zuvor durch <code
              class="command">diff</code> identifiziert worden sind) wieder einzusetzen.
			</div><div
            class="sidebar"><a
              id="sidebar.questions-conffiles"></a><div
              class="titlepage"><div><div><p
                    class="title"><strong><span
                        class="emphasis"><em>WEITERE SCHRITTE</em></span> Die Fragen zur Konfigurationsdatei vermeiden</strong></p></div></div></div><div
              class="para">
				<code
                class="command">dpkg</code> erledigt die Aktualisierung von Konfigurationsdateien, unterbricht aber regelmäßig diese Aktionen, um vom Administrator Eingaben zu verlangen. Dies ist für diejenigen, die Aktualisierungen in einer nicht-interaktiven Weise ablaufen lassen möchten, weniger erfreulich. Daher bietet dieses Programm auch Optionen an, die Fragen selbstständig gemäß dieser Logik zu entscheiden: <code
                class="command">--force-confold</code> behält die alte Dateiversion; <code
                class="command">--force-confnew</code> verwendet die neue (diese Auswahl wird selbst dann eingehalten, wenn die Datei vom Administrator gar nicht verändert wurde, was nur manchmal den gewünschten Effekt hat). Durch Hinzufügen der Option <code
                class="command">--force-confdef</code> wird <code
                class="command">dpkg</code> mitgeteilt, dass es wenn möglich selbst entscheiden soll (anders ausgedrückt, wenn die ursprüngliche Konfigurationsdatei nicht angerührt worden ist), und dass es die Optionen <code
                class="command">--force-confnew</code> oder <code
                class="command">--force-confold</code> nur in den anderen Fällen verwenden soll.
			</div><div
              class="para">
				Diese Optionen gelten für <code
                class="command">dpkg</code>, aber meistens wird der Administrator direkt mit den Programmen <code
                class="command">aptitude</code> oder <code
                class="command">apt-get</code> arbeiten. Es ist daher erforderlich, die Syntax zu kennen, die zur Bezeichnung der Optionen verwendet wird, die an <code
                class="command">dpkg</code> weitergeleitet werden (ihre Befehlszeilen-Schnittstellen sind sehr ähnlich).
			</div><pre
              class="screen">
<code
                class="computeroutput"># </code><strong
                class="userinput"><code>apt-get -o DPkg::options::="--force-confdef" -o DPkg::options::="--force-confold" dist-upgrade</code></strong></pre><div
              class="para">
				Diese Optionen können direkt in der Konfiguration von <code
                class="command">apt</code> gespeichert werden. Dazu schreibt man einfach die folgende Zeile in die Datei <code
                class="filename">/etc/apt/apt.conf.d/local</code>:
			</div><div
              class="informalexample"><pre
                class="programlisting">
DPkg::options { "--force-confdef"; "--force-confold"; }
</pre></div><div
              class="para">
				Die Aufnahme dieser Option in die Konfigurationsdatei hat zur Folge, dass sie auch in einer grafischen Schnittstelle wie <code
                class="command">aptitude</code> verwendet wird.
			</div></div><div
            class="sidebar"><a
              id="sidebar.questions-conffiles-bis"></a><div
              class="titlepage"><div><div><p
                    class="title"><strong><span
                        class="emphasis"><em>WEITERE SCHRITTE</em></span> Zwinge dpkg, Fragen zur Konfigurationsdatei zu stellen</strong></p></div></div></div><div
              class="para">
				Die Option <code
                class="command">--force-confask</code> zwingt <code
                class="command">dpkg</code> dazu, die Fragen zu den Konfigurationsdateien selbst dann zu stellen, wenn sie nicht notwendig wären. Deshalb wird <code
                class="command">dpkg</code> bei der Re-Installation eines Pakets mit dieser Option erneut die Fragen aus allen Konfigurationsdateien stellen, die vom Administrator verändert worden sind. Dies ist vor allem sehr praktisch für das erneute Installieren der ursprünglichen Konfigurationsdatei, falls sie gelöscht worden ist oder keine andere Kopie verfügbar ist: eine normale Re-Installation würde nicht funktionieren, weil <code
                class="command">dpkg</code> das Entfernen als eine zulässige Form der Veränderung ansieht und daher die gewünschte Konfigurationsdatei nicht installiert.
			</div></div></div></div><ul
        class="docnav"><li
          class="previous"><a
            accesskey="p"
            href="packaging-system.html"><strong>Zurück</strong>Kapitel 5. Paketierungssystem: Hilfsprogramme und...</a></li><li
          class="up"><a
            accesskey="u"
            href="#"><strong>Nach oben</strong></a></li><li
          class="home"><a
            accesskey="h"
            href="index.html"><strong>Zum Anfang</strong></a></li><li
          class="next"><a
            accesskey="n"
            href="sect.source-package-structure.html"><strong>Weiter</strong>5.3. Struktur eines Quellpakets</a></li></ul><div
        id="translated_pages"><ul><li><a
              href="../ar-MA/sect.package-meta-information.html">ar-MA</a></li><li><a
              href="../da-DK/sect.package-meta-information.html">da-DK</a></li><li><a
              href="../de-DE/sect.package-meta-information.html">de-DE</a></li><li><a
              href="../el-GR/sect.package-meta-information.html">el-GR</a></li><li><a
              href="../en-US/sect.package-meta-information.html">en-US</a></li><li><a
              href="../es-ES/sect.package-meta-information.html">es-ES</a></li><li><a
              href="../fa-IR/sect.package-meta-information.html">fa-IR</a></li><li><a
              href="../fr-FR/sect.package-meta-information.html">fr-FR</a></li><li><a
              href="../hr-HR/sect.package-meta-information.html">hr-HR</a></li><li><a
              href="../id-ID/sect.package-meta-information.html">id-ID</a></li><li><a
              href="../it-IT/sect.package-meta-information.html">it-IT</a></li><li><a
              href="../ja-JP/sect.package-meta-information.html">ja-JP</a></li><li><a
              href="../pl-PL/sect.package-meta-information.html">pl-PL</a></li><li><a
              href="../pt-BR/sect.package-meta-information.html">pt-BR</a></li><li><a
              href="../ro-RO/sect.package-meta-information.html">ro-RO</a></li><li><a
              href="../ru-RU/sect.package-meta-information.html">ru-RU</a></li><li><a
              href="../tr-TR/sect.package-meta-information.html">tr-TR</a></li><li><a
              href="../zh-CN/sect.package-meta-information.html">zh-CN</a></li></ul></div></body></html>
