<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html
    xmlns="http://www.w3.org/1999/xhtml"><head><meta
        http-equiv="Content-Type"
        content="text/html; charset=UTF-8" /><title
        xmlns:d="http://docbook.org/ns/docbook">9.9. سهمیه‌بندی</title><link
        rel="stylesheet"
        type="text/css"
        href="Common_Content/css/default.css" /><link
        rel="stylesheet"
        media="print"
        href="Common_Content/css/print.css"
        type="text/css" /><meta
        xmlns:d="http://docbook.org/ns/docbook"
        name="generator"
        content="publican v4.3.2" /><meta
        xmlns:d="http://docbook.org/ns/docbook"
        name="package"
        content="Debian-debian-handbook-9-fa-IR-1.0-1" /><meta
        name="keywords"
        content="راه‌اندازی سیستم, اسکریپت‌های init, SSH, Telnet, حقوق, مجوزها, نظارت, Inetd, Cron, پشتیبان‌گیری, Hotplug, PCMCIA, APM, ACPI" /><link
        rel="home"
        href="index.html"
        title="راهنمای جامع دبیان" /><link
        rel="up"
        href="unix-services.html"
        title="فصل 9. سرویس‌های یونیکس" /><link
        rel="prev"
        href="sect.asynchronous-task-scheduling-anacron.html"
        title="9.8. زمان‌بندی وظیفه‌های غیرهمزمان: anacron" /><link
        rel="next"
        href="sect.backup.html"
        title="9.10. پشتیبان‌گیری" /><meta
        name="viewport"
        content="width=device-width, initial-scale=1" /><meta
        name="flattr:id"
        content="4pz9jq" /><link
        rel="canonical"
        href="http://l.github.io/debian-handbook/html/fa-IR/sect.quotas.html" /></head><body
      dir="rtl"><noscript><iframe
          src="//www.googletagmanager.com/ns.html?id=GTM-5H35QX"
          height="0"
          width="0"
          style="display:none;visibility:hidden"></iframe></noscript><script
        type="text/javascript">(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
j=d.createElement(s),dl=l!='dataLayer'?'&amp;l='+l:'';j.async=true;j.src=
'//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
})(window,document,'script','dataLayer','GTM-5H35QX');</script><div
        id="banner"><a
          href="../../"><span
            class="text">Download the ebook</span></a></div><p
        id="title"><a
          class="left"
          href="http://www.debian.org"><img
            alt="Product Site"
            src="Common_Content/images//image_left.png" /></a><a
          class="right"
          href="index.html"><img
            alt="Documentation Site"
            src="Common_Content/images//image_right.png" /></a></p><ul
        class="docnav top"><li
          class="previous"><a
            accesskey="p"
            href="sect.asynchronous-task-scheduling-anacron.html"><strong>قبلی</strong></a></li><li
          class="home">راهنمای جامع دبیان</li><li
          class="next"><a
            accesskey="n"
            href="sect.backup.html"><strong>بعدی</strong></a></li></ul><div
        class="section"><div
          class="titlepage"><div><div><h2
                class="title"><a
                  id="sect.quotas"></a>9.9. سهمیه‌بندی</h2></div></div></div><a
          id="id-1.12.12.2"
          class="indexterm"></a><div
          class="para">
			سیستم سهمیه‌بندی امکان محدودسازی فضای دیسک موجود را برای کاربران و گروه‌ها فراهم می‌سازد. برای تنظیم آن، باید کرنلی داشته باشید که آن را پشتیبانی کند (با گزینه <code
            class="varname">CONFIG_QUOTA</code> کامپایل شده باشد) - که در مورد کرنل‌های دبیان صادق است. نرم‌افزار مدیریت سهمیه در بسته دبیان <span
            class="pkg pkg">quota</span> پیدا می‌شود.
		</div><div
          class="para">
			برای فعال‌سازی سهمیه‌بندی در یک فایل‌سیستم، باید گزینه‌های <code
            class="literal">usrquota</code> و <code
            class="literal">grpquota</code> در فایل <code
            class="filename">/etc/fstab</code> را برای سهمیه‌بندی کاربران و گروه‌ها مشخص کنید. راه‌اندازی مجدد رایانه منجر به بروزرسانی این سهمیه‌بندی در غیاب فعالیت دیسک می‌شود (یک شرایط لازم برای محاسبه دقیق فضای مصرفی دیسک).
		</div><div
          class="para">
			دستور <code
            class="command">edquota <em
              class="replaceable">user</em></code> یا <code
            class="command">edquota -g<em
              class="replaceable">group</em></code> امکان ویرایش سهمیه‌بندی فعلی بر اساس ظرفیت موجود در دیسک را فراهم می‌سازد.
		</div><a
          id="id-1.12.12.6"
          class="indexterm"></a><div
          class="sidebar"><div
            class="titlepage"><div><div><p
                  class="title"><strong><span
                      class="emphasis"><em>مطالعه بیشتر</em></span> تعیین سهمیه‌بندی با اسکریپت</strong></p></div></div></div><a
            id="id-1.12.12.7.2"
            class="indexterm"></a><div
            class="para">
			برنامه <code
              class="command">setquota</code> می‌تواند به منظور تغییر سهمیه‌بندی‌ها در اسکریپت‌ها استفاده گردد. صفحه راهنمای <span
              class="citerefentry"><span
                class="refentrytitle">setquota</span>(8)</span> به توضیح شیوه استفاده از آن می‌پردازد.
		</div></div><div
          class="para">
			سیستم سهمیه‌بندی به شما امکان تنظیم چهار محدودیت را می‌دهد؛
		</div><div
          xmlns:d="http://docbook.org/ns/docbook"
          class="itemizedlist"><ul><li
              class="listitem"><div
                class="para">
					دو محدودیت “soft” و “hard” به تعداد بلاک‌های مصرفی اشاره دارند. اگر فایل‌سیستم با اندازه بلاک ۱ کیلوبایت ایجاد شده باشد، یک بلاک شامل ۱۰۲۴ بایت از آن فایل است. بلاک‌های اشباع‌نشده منجر به از بین رفتن فضای دیسک می‌شوند. سهمیه‌ای با ۱۰۰ بلاک، که به صورت نظری قابلیت ذخیره‌سازی ۱۰۲،۴۰۰ بایت را دارد، تنها به ذخیره ۱۰۰ فایل ۵۰۰ بایتی محدود می‌شود، که فقط ۵۰،۰۰۰ بایت در مجموع را شامل می‌شود.
				</div></li><li
              class="listitem"><div
                class="para">
					دو محدویت “soft” و “hard” به تعداد inodeهای مصرفی اشاره دارند. هر فایل حداقل یک inode مربوط به خود به منظور ذخیره‌سازی اطلاعات جانبی را دارد (مجوزها، مالک، برچسب‌زمانی از آخرین دسترسی و از این قبیل). این یک محدودیت در فایل‌های مورد استفاده کاربر است.
				</div></li></ul></div><div
          class="para">
			یک حد “soft” به صورت موقت می‌تواند تجاوز کند؛ در این حالت با استفاده از دستور <code
            class="command">warnquota</code> که معمولا توسط <code
            class="command">cron</code> فراخوانی می‌شود به کاربر اخطار ظرفیت دیسک داده می‌شود. یک حد “hard” هیچگاه نمی‌تواند تجاوز کند: سیستم به رد تمام عملیاتی می‌پردازد که منجر به گذشتن از سهمیه مجاز “hard” باشد.
		</div><div
          class="sidebar"><div
            class="titlepage"><div><div><p
                  class="title"><strong><span
                      class="emphasis"><em>واژگان</em></span> block و inode</strong></p></div></div></div><a
            id="id-1.12.12.11.2"
            class="indexterm"></a><a
            id="id-1.12.12.11.3"
            class="indexterm"></a><div
            class="para">
			فایل‌سیستم، هارد درایو را به بلاک - ناحیه‌های کوچک پیوسته - تقسیم می‌کند. اندازه این بلاک‌ها هنگام ایجاد فایل‌سیستم تعیین می‌شود که معمولا بین ۱ تا ۸ کیلوبایت هستند.
		</div><div
            class="para">
			هر بلاک می‌تواند به منظور ذخیره‌سازی داده‌های حفیقی یک فایل یا اطلاعات-جانبی مربوط به آن استفاده شود. در میان این اطلاعات-جانبی، معمولا inode را پیدا می‌کنید. یک inode از بلاک موجود در هارد درایو استفاده کرده (اما این بلاک در سهمیه‌بندی بلاک لحاظ نمی‌شود بلکه در سهمیه‌بندی inode قرار می‌گیرد) و شامل اطلاعات جانبی درباره فایل (نام، مالک، مجوزها و از این قبیل) همچنین نشانگرها به بلاک‌های داده‌ای واقعی این فایل می‌شود. برای فایل‌های بسیار بزرگ که به بلاک‌های بیشتری برای ذخیره‌سازی اطلاعات inode نیاز دارد، یک سیستم غیرمستقیم بلاک وجود دارد؛ inode شامل فهرستی از بلاک‌ها می‌باشد که داده واقعی را شامل نمی‌شوند، بلکه آن‌ها نیز شامل فهرستی از بلاک‌های دیگر هستند.
		</div></div><a
          id="id-1.12.12.12"
          class="indexterm"></a><div
          class="para">
			با استفاده از دستور <code
            class="command">edquota -t</code>، می‌توانید یک “بازه محدود” حداکثری که حد نرم از آن عبور کند را تعریف کنید. پس از این بازه، یک حد نرم مانند یک حد سخت در نظر گرفته می‌شود و کاربر مجبور است فضای دیسک را کاهش دهد تا بتواند اطلاعات جدید روی آن ذخیره کند.
		</div><div
          class="sidebar"><div
            class="titlepage"><div><div><p
                  class="title"><strong><span
                      class="emphasis"><em>مطالعه بیشتر</em></span> تنظیم سهمیه پیش‌فرض برای کاربران جدید</strong></p></div></div></div><div
            class="para">
			به منظور خودکارسازی تنظیم سهمیه برای کاربران جدید، باید یک قالب کاربری جدید (با <code
              class="command">edquota</code> یا <code
              class="command">setquota</code>) ایجاد کرده و نام کاربری را در متغیر <code
              class="varname">QUOTAUSER</code> موجود در فایل <code
              class="filename">/etc/adduser.conf</code> مشخص سازید. این پیکربندی سهمیه به صورت خودکار با هر بار فراخوانی دستور <code
              class="command">adduser</code> به منظور ایجاد کاربر جدید اعمال می‌شود.
		</div></div></div><ul
        class="docnav"><li
          class="previous"><a
            accesskey="p"
            href="sect.asynchronous-task-scheduling-anacron.html"><strong>قبلی</strong>9.8. زمان‌بندی وظیفه‌های غیرهمزمان: anacron</a></li><li
          class="up"><a
            accesskey="u"
            href="#"><strong>بالا</strong></a></li><li
          class="home"><a
            accesskey="h"
            href="index.html"><strong>خانه</strong></a></li><li
          class="next"><a
            accesskey="n"
            href="sect.backup.html"><strong>بعدی</strong>9.10. پشتیبان‌گیری</a></li></ul><div
        id="translated_pages"><ul><li><a
              href="../ar-MA/sect.quotas.html">ar-MA</a></li><li><a
              href="../da-DK/sect.quotas.html">da-DK</a></li><li><a
              href="../de-DE/sect.quotas.html">de-DE</a></li><li><a
              href="../el-GR/sect.quotas.html">el-GR</a></li><li><a
              href="../en-US/sect.quotas.html">en-US</a></li><li><a
              href="../es-ES/sect.quotas.html">es-ES</a></li><li><a
              href="../fa-IR/sect.quotas.html">fa-IR</a></li><li><a
              href="../fr-FR/sect.quotas.html">fr-FR</a></li><li><a
              href="../hr-HR/sect.quotas.html">hr-HR</a></li><li><a
              href="../id-ID/sect.quotas.html">id-ID</a></li><li><a
              href="../it-IT/sect.quotas.html">it-IT</a></li><li><a
              href="../ja-JP/sect.quotas.html">ja-JP</a></li><li><a
              href="../ko-KR/sect.quotas.html">ko-KR</a></li><li><a
              href="../nb-NO/sect.quotas.html">nb-NO</a></li><li><a
              href="../pl-PL/sect.quotas.html">pl-PL</a></li><li><a
              href="../pt-BR/sect.quotas.html">pt-BR</a></li><li><a
              href="../ro-RO/sect.quotas.html">ro-RO</a></li><li><a
              href="../ru-RU/sect.quotas.html">ru-RU</a></li><li><a
              href="../tr-TR/sect.quotas.html">tr-TR</a></li><li><a
              href="../vi-VN/sect.quotas.html">vi-VN</a></li><li><a
              href="../zh-CN/sect.quotas.html">zh-CN</a></li><li><a
              href="../zh-TW/sect.quotas.html">zh-TW</a></li></ul></div></body></html>
