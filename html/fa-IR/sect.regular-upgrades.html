<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html
    xmlns="http://www.w3.org/1999/xhtml"><head><meta
        http-equiv="Content-Type"
        content="text/html; charset=UTF-8" /><title
        xmlns:d="http://docbook.org/ns/docbook">6.7. Keeping a System Up to Date</title><link
        rel="stylesheet"
        type="text/css"
        href="Common_Content/css/default.css" /><link
        rel="stylesheet"
        media="print"
        href="Common_Content/css/print.css"
        type="text/css" /><meta
        xmlns:d="http://docbook.org/ns/docbook"
        name="generator"
        content="publican v4.3.1" /><meta
        xmlns:d="http://docbook.org/ns/docbook"
        name="package"
        content="Debian-debian-handbook-8-fa-IR-1.0-1" /><meta
        name="keywords"
        content="apt-get, apt-cache, aptitude, synaptic, sources.list, apt-cdrom" /><link
        rel="home"
        href="index.html"
        title="The Debian Administrator's Handbook" /><link
        rel="up"
        href="apt.html"
        title="فصل 6. Maintenance and Updates: The APT Tools" /><link
        rel="prev"
        href="sect.dist-upgrade.html"
        title="6.6. Upgrading from One Stable Distribution to the Next" /><link
        rel="next"
        href="sect.automatic-upgrades.html"
        title="6.8. Automatic Upgrades" /><link
        rel="canonical"
        href="http://l.github.io/debian-handbook/html/fa-IR/sect.regular-upgrades.html" /></head><body
      dir="rtl"
      class="draft "><noscript><iframe
          src="//www.googletagmanager.com/ns.html?id=GTM-5H35QX"
          height="0"
          width="0"
          style="display:none;visibility:hidden"></iframe></noscript><script
        type="text/javascript">(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
j=d.createElement(s),dl=l!='dataLayer'?'&amp;l='+l:'';j.async=true;j.src=
'//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
})(window,document,'script','dataLayer','GTM-5H35QX');</script><div
        id="banner"><a
          href="http://debian-handbook.info/get/"><span
            class="text">Download the ebook</span></a></div><p
        id="title"><a
          class="left"
          href="http://www.debian.org"><img
            alt="Product Site"
            src="Common_Content/images//image_left.png" /></a><a
          class="right"
          href="http://debian-handbook.info"><img
            alt="Documentation Site"
            src="Common_Content/images//image_right.png" /></a></p><ul
        class="docnav top"><li
          class="previous"><a
            accesskey="p"
            href="sect.dist-upgrade.html"><strong>قبلی</strong></a></li><li
          class="home">The Debian Administrator's Handbook</li><li
          class="next"><a
            accesskey="n"
            href="sect.automatic-upgrades.html"><strong>بعدی</strong></a></li></ul><div
        class="section"><div
          class="titlepage"><div><div><h2
                class="title"><a
                  id="sect.regular-upgrades"></a>6.7. Keeping a System Up to Date</h2></div></div></div><div
          class="para">
			The Debian distribution is dynamic and changes continually. Most of the changes are in the <span
            class="distribution distribution">Testing</span> and <span
            class="distribution distribution">Unstable</span> versions, but even <span
            class="distribution distribution">Stable</span> is updated from time to time, mostly for security-related fixes. Whatever version of Debian a system runs, it is generally a good idea to keep it up to date, so that you can get the benefit of recent evolutions and bug fixes.
		</div><div
          class="para">
			While it is of course possible to periodically run a tool to check for available updates and run the upgrades, such a repetitive task is tedious, especially when it needs to be performed on several machines. Fortunately, like many repetitive tasks, it can be partly automated, and a set of tools have already been developed to that effect.
		</div><div
          class="para">
			The first of these tools is <code
            class="command">apticron</code>, in the package of the same name. Its main effect is to run a script daily (via <code
            class="command">cron</code>). The script updates the list of available packages, and, if some installed packages are not in the latest available version, it sends an email with a list of these packages along with the changes that have been made in the new versions. Obviously, this package mostly targets users of Debian <span
            class="distribution distribution">Stable</span>, since the daily emails would be very long for the faster paced versions of Debian. When updates are available, <code
            class="command">apticron</code> automatically downloads them. It does not install them — the administrator will still do it — but having the packages already downloaded and available locally (in APT's cache) makes the job faster.
		</div><div
          class="para">
			Administrators in charge of several computers will no doubt appreciate being informed of pending upgrades, but the upgrades themselves are still as tedious as they used to be, which is where the <code
            class="filename">/etc/cron.daily/apt</code> script (in the <span
            class="pkg pkg">apt</span> package) comes in handy. This script is also run daily (and non-interactively) by <code
            class="command">cron</code>. To control its behavior, use APT configuration variables (which are therefore stored in a file under <code
            class="filename">/etc/apt/apt.conf.d/</code>). The main variables are:
		</div><div
          class="variablelist"><dl
            class="variablelist"><dt><span
                class="term"> <code
                  class="literal">APT::Periodic::Update-Package-Lists</code> </span></dt><dd><div
                class="para">
						This option allows you to specify the frequency (in days) at which the package lists are refreshed. <code
                  class="command">apticron</code> users can do without this variable, since <code
                  class="command">apticron</code> already does this task.
					</div></dd><dt><span
                class="term"> <code
                  class="literal">APT::Periodic::Download-Upgradeable-Packages</code> </span></dt><dd><div
                class="para">
						Again, this option indicates a frequency (in days), this time for the downloading of the actual packages. Again, <code
                  class="command">apticron</code> users won't need it.
					</div></dd><dt><span
                class="term"> <code
                  class="literal">APT::Periodic::AutocleanInterval</code> </span></dt><dd><div
                class="para">
						This option covers a feature that <code
                  class="command">apticron</code> doesn't have. It controls how often obsolete packages (those not referenced by any distribution anymore) are removed from the APT cache. This keeps the APT cache at a reasonable size and means that you don't need to worry about that task.
					</div></dd><dt><span
                class="term"> <code
                  class="literal">APT::Periodic::Unattended-Upgrade</code> </span></dt><dd><a
                id="idm140008673651392"
                class="indexterm"></a><div
                class="para">
						When this option is enabled, the daily script will execute <code
                  class="command">unattended-upgrade</code> (from the <span
                  class="pkg pkg">unattended-upgrades</span> package) which — as its name suggest — can automatize the upgrade process for some packages (by default it only takes care of security updates, but this can be customized in <code
                  class="filename">/etc/apt/apt.conf.d/50unattended-upgrades</code>). Note that this option can be set with the help of debconf by running <code
                  class="command">dpkg-reconfigure -plow unattended-upgrades</code>.
					</div></dd></dl></div><div
          class="para">
			Other options can allow you to control the cache cleaning behavior with more precision. They are not listed here, but they are described in the <code
            class="filename">/etc/cron.daily/apt</code> script.
		</div><a
          id="idm140008673645904"
          class="indexterm"></a><div
          class="para">
			These tools work very well for servers, but desktop users generally prefer a more interactive system. That is why the “Graphical desktop environment” task installs <span
            class="pkg pkg">gnome-packagekit</span>. It provides an icon in the notification area of desktop environments when updates are available; clicking on this icon then runs <code
            class="command">gpk-update-viewer</code>, a simplified interface to perform updates. You can browse through available updates, read the short description of the relevant packages and the corresponding <code
            class="filename">changelog</code> entries, and select whether to apply the update or not on a case-by-case basis.
		</div><div
          class="figure"><a
            id="idm140008673641872"></a><div
            class="figure-contents"><div
              class="mediaobject"><img
                src="images/gnome-packagekit.png"
                alt="Upgrading with gpk-update-viewer" /></div></div><p
            class="title"><strong>
      شكل 6.3. Upgrading with <code
                class="command">gpk-update-viewer</code></strong></p></div></div><ul
        class="docnav"><li
          class="previous"><a
            accesskey="p"
            href="sect.dist-upgrade.html"><strong>قبلی</strong>6.6. Upgrading from One Stable Distribution to th...</a></li><li
          class="up"><a
            accesskey="u"
            href="#"><strong>بالا</strong></a></li><li
          class="home"><a
            accesskey="h"
            href="index.html"><strong>خانه</strong></a></li><li
          class="next"><a
            accesskey="n"
            href="sect.automatic-upgrades.html"><strong>بعدی</strong>6.8. Automatic Upgrades</a></li></ul><div
        id="translated_pages"><ul><li><a
              href="../ar-MA/sect.regular-upgrades.html">ar-MA</a></li><li><a
              href="../da-DK/sect.regular-upgrades.html">da-DK</a></li><li><a
              href="../de-DE/sect.regular-upgrades.html">de-DE</a></li><li><a
              href="../el-GR/sect.regular-upgrades.html">el-GR</a></li><li><a
              href="../en-US/sect.regular-upgrades.html">en-US</a></li><li><a
              href="../es-ES/sect.regular-upgrades.html">es-ES</a></li><li><a
              href="../fa-IR/sect.regular-upgrades.html">fa-IR</a></li><li><a
              href="../fr-FR/sect.regular-upgrades.html">fr-FR</a></li><li><a
              href="../hr-HR/sect.regular-upgrades.html">hr-HR</a></li><li><a
              href="../id-ID/sect.regular-upgrades.html">id-ID</a></li><li><a
              href="../it-IT/sect.regular-upgrades.html">it-IT</a></li><li><a
              href="../ja-JP/sect.regular-upgrades.html">ja-JP</a></li><li><a
              href="../pl-PL/sect.regular-upgrades.html">pl-PL</a></li><li><a
              href="../pt-BR/sect.regular-upgrades.html">pt-BR</a></li><li><a
              href="../ro-RO/sect.regular-upgrades.html">ro-RO</a></li><li><a
              href="../ru-RU/sect.regular-upgrades.html">ru-RU</a></li><li><a
              href="../tr-TR/sect.regular-upgrades.html">tr-TR</a></li><li><a
              href="../zh-CN/sect.regular-upgrades.html">zh-CN</a></li></ul></div></body></html>
