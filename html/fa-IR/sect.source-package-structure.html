<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html
    xmlns="http://www.w3.org/1999/xhtml"><head><meta
        http-equiv="Content-Type"
        content="text/html; charset=UTF-8" /><title
        xmlns:d="http://docbook.org/ns/docbook">5.3. ساختار یک بسته سورس</title><link
        rel="stylesheet"
        type="text/css"
        href="Common_Content/css/default.css" /><link
        rel="stylesheet"
        media="print"
        href="Common_Content/css/print.css"
        type="text/css" /><meta
        xmlns:d="http://docbook.org/ns/docbook"
        name="generator"
        content="publican v4.3.2" /><meta
        xmlns:d="http://docbook.org/ns/docbook"
        name="package"
        content="Debian-debian-handbook-9-fa-IR-1.0-1" /><meta
        name="keywords"
        content="بسته باینری, بسته سورس, dpkg, وابستگی‌ها, تداخل" /><link
        rel="home"
        href="index.html"
        title="راهنمای جامع دبیان" /><link
        rel="up"
        href="packaging-system.html"
        title="فصل 5. سیستم بسته‌بندی: اصول و ابزارهای بنیادین" /><link
        rel="prev"
        href="sect.package-meta-information.html"
        title="5.2. اطلاعات-جانبی بسته" /><link
        rel="next"
        href="sect.manipulating-packages-with-dpkg.html"
        title="5.4. مدیریت بسته‌ها با استفاده از dpkg" /><meta
        name="viewport"
        content="width=device-width, initial-scale=1" /><meta
        name="flattr:id"
        content="4pz9jq" /><link
        rel="canonical"
        href="http://l.github.io/debian-handbook/html/fa-IR/sect.source-package-structure.html" /></head><body
      dir="rtl"><noscript><iframe
          src="//www.googletagmanager.com/ns.html?id=GTM-5H35QX"
          height="0"
          width="0"
          style="display:none;visibility:hidden"></iframe></noscript><script
        type="text/javascript">(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
j=d.createElement(s),dl=l!='dataLayer'?'&amp;l='+l:'';j.async=true;j.src=
'//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
})(window,document,'script','dataLayer','GTM-5H35QX');</script><div
        id="banner"><a
          href="../../"><span
            class="text">Download the ebook</span></a></div><p
        id="title"><a
          class="left"
          href="http://www.debian.org"><img
            alt="Product Site"
            src="Common_Content/images//image_left.png" /></a><a
          class="right"
          href="index.html"><img
            alt="Documentation Site"
            src="Common_Content/images//image_right.png" /></a></p><ul
        class="docnav top"><li
          class="previous"><a
            accesskey="p"
            href="sect.package-meta-information.html"><strong>قبلی</strong></a></li><li
          class="home">راهنمای جامع دبیان</li><li
          class="next"><a
            accesskey="n"
            href="sect.manipulating-packages-with-dpkg.html"><strong>بعدی</strong></a></li></ul><div
        class="section"><div
          class="titlepage"><div><div><h2
                class="title"><a
                  id="sect.source-package-structure"></a>5.3. ساختار یک بسته سورس</h2></div></div></div><a
          id="id-1.8.7.2"
          class="indexterm"></a><a
          id="id-1.8.7.3"
          class="indexterm"></a><div
          class="section"><div
            class="titlepage"><div><div><h3
                  class="title"><a
                    id="id-1.8.7.4"></a>5.3.1. قالب</h3></div></div></div><a
            id="id-1.8.7.4.2"
            class="indexterm"></a><a
            id="id-1.8.7.4.3"
            class="indexterm"></a><a
            id="id-1.8.7.4.4"
            class="indexterm"></a><a
            id="id-1.8.7.4.5"
            class="indexterm"></a><div
            class="para">
				یک بسته سورس معمولاً از سه فایل تشکیل شده است، یک فایل <code
              class="filename">.dsc</code>، یک فایل <code
              class="filename">.orig.tar.gz</code> و یک فایل <code
              class="filename">.debian.tar.gz</code> (یا <code
              class="filename">.diff.gz</code>). این فایل‌ها امکان ایجاد فایل باینری (فایل‌های <code
              class="filename">.deb</code> مورد بحث قرار گرفتند) از سورس کد برنامه را می‌دهد، که در قالب یک زبان برنامه‌نویسی نوشته شده است.
			</div><div
            class="para">
				فایل <code
              class="filename">.dsc</code> یا Debian Source Control فایل کوتاهی است مبتنی بر استاندارد RFC 2822 (درست مانند فایل <code
              class="filename">control</code> که در قسمت <a
              class="xref"
              href="sect.package-meta-information.html#sect.control">
      قسمت 5.2.1, “توضیح: فایل <code
                class="filename">control</code>”
    </a> بررسی شد) که بسته سورس و محتویات آن را مشخص می‌نماید. این فایل توسط توسعه‌دهنده آن امضا شده است که صحت آن را نمایش می‌دهد. برای مطالعه بیشتر در این زمینه به <a
              class="xref"
              href="sect.package-authentication.html">
      قسمت 6.5, “بررسی صحت بسته‌ها”
    </a> مراجعه کنید.
			</div><div
            class="example"><a
              id="id-1.8.7.4.8"></a><p
              class="title"><strong>
      مثال 5.1. یک فایل <code
                  class="filename">.dsc</code></strong></p><div
              class="example-contents"><pre
                class="programlisting">
-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA256

Format: 3.0 (quilt)
Source: zim
Binary: zim
Architecture: all
Version: 0.62-3
Maintainer: Emfox Zhou &lt;emfox@debian.org&gt;
Uploaders: Raphaël Hertzog &lt;hertzog@debian.org&gt;
Homepage: http://zim-wiki.org
Standards-Version: 3.9.6
Vcs-Browser: http://anonscm.debian.org/gitweb/?p=collab-maint/zim.git
Vcs-Git: git://anonscm.debian.org/collab-maint/zim.git
Build-Depends: debhelper (&gt;= 9), xdg-utils, python (&gt;= 2.6.6-3~), libgtk2.0-0 (&gt;= 2.6), python-gtk2, python-xdg
Package-List:
 zim deb x11 optional arch=all
Checksums-Sha1:
 ad8de170826682323c10195b65b9f1243fd75637 1772246 zim_0.62.orig.tar.gz
 a4f70d6f7fb404022c9cc4870a4e62ea3ca08388 14768 zim_0.62-3.debian.tar.xz
Checksums-Sha256:
 19d62aebd2c1a92d84d80720c6c1dcdb779c39a2120468fed01b7f252511bdc2 1772246 zim_0.62.orig.tar.gz
 fc2e827e83897d5e33f152f124802c46c3c01c5158b75a8275a27833f1f6f1de 14768 zim_0.62-3.debian.tar.xz
Files:
 43419efba07f7086168442e3d698287a 1772246 zim_0.62.orig.tar.gz
 725a69663a6c2961f07673ae541298e4 14768 zim_0.62-3.debian.tar.xz

-----BEGIN PGP SIGNATURE-----
Version: GnuPG v2
Comment: Signed by Raphael Hertzog

iQEcBAEBCAAGBQJUR2jqAAoJEAOIHavrwpq5WFcH/RsdzCHc1oXXxHitU23hEqMj
T6ok29M1UFDJDowMXW75jQ1nT4WPUtvEGygkCHeoO/PvjEvB0sjU8GQlX+N9ddSB
aHfqfAYmVhADNGxrXQT5inZXUa8qGeeq2Sqf6YcWtsnuD56lDbvxkyf/XYopoIEl
oltfl05z/AI+vYsW482YrCz0fxNAKAvkyuPhDebYI8jnKWeAANoqmKpsNc/HYyvT
+ZiA5o57OiGdOKT6XGy3/FiF3dkHiRY8lXW7xdr1BbIgulwl9UmiUNwuxwOYbQO7
edtjiTJqOaFUA0x1zB/XGv5tHr1MjP8naT+kfVoVHTOox51CDbeu5D3DZY4imcY=
=Wtoa
-----END PGP SIGNATURE-----</pre></div></div><a
            id="id-1.8.7.4.9"
            class="indexterm"></a><div
            class="para">
				نکته اینکه بسته‌های سورس نیز وابستگی‌های مربوط به خود را دارند (<code
              class="literal">Build-Depends</code>) که کاملاً با وابستگی‌های موجود در بسته‌های باینری تفاوت دارد، چرا که شامل ابزاری جهت کامپایل کردن نرم‌افزار مورد نظر و ایجاد فایل باینری آن هستند.
			</div><div
            class="sidebar"><div
              class="titlepage"><div><div><p
                    class="title"><strong><span
                        class="emphasis"><em>احتیاط</em></span> فضای‌نامگذاری منحصربفرد</strong></p></div></div></div><div
              class="para">
				نکته حائر اهمیت در اینجا این است که ممکن است هیچ انطباقی بین نام بسته سورس و بسته باینری آن وجود نداشته باشد. درک این نکته ساده است که بدانید هر بسته سورس می‌تواند چندین بسته باینری ایجاد کند. این همان دلیلی است که فایل <code
                class="filename">.dsc</code> فیلدهای جداگانه‌ای برای <code
                class="literal">Source</code> و <code
                class="literal">Binary</code> دارد که به ازای هر بسته سورس، نام بسته باینری آن را تعیین کند.
			</div></div><div
            class="sidebar"><div
              class="titlepage"><div><div><p
                    class="title"><strong><span
                        class="emphasis"><em>فرهنگ</em></span> علت تقسیم به چند بسته</strong></p></div></div></div><div
              class="para">
				تقریباً در اکثر اوقات، یک بسته سورس (برای یک نرم‌افزار مورد نظر) می‌تواند چندین بسته باینری ایجاد کند. این تقسیم‌بندی به منظور احتمال استفاده (قسمتی از) نرم‌افزار در شرایط گوناگون در نظر گرفته می‌شود. یک کتابخانه اشتراکی را در نظر بگیرید، ممکن است به منظور اجرای یک برنامه نصب شده باشد (برای نمونه <span
                class="pkg pkg">libc6</span>) یا ممکن است به منظور ایجاد یک برنامه جدید نصب شده باشد (در این حالت <span
                class="pkg pkg">libc6-dev</span> بسته مورد نظر خواهد بود). این منطق در سرویس‌های client/server نیز وجود دارد که می‌خواهیم قسمت server را در یک ماشین و قسمت client را در ماشین دیگر نصب کنیم (برای نمونه، <span
                class="pkg pkg">openssh-server</span> و <span
                class="pkg pkg">openssh-client</span> برای سرویس OpenSSH).
			</div><div
              class="para">
				درست مانند نرم‌افزار، مستندات هر نرم‌افزار نیز در بسته مربوط به خود قرار دارند: کاربر ممکن است جدای از نرم‌افزار اقدام به نصب آن کند و در هر لحظه که بخواهد برای دستیابی به فضای دیسک بیشتر، آن‌ها را حذف کند. به علاوه، این کار موجب صرفه‌جویی در فضای دیسک موجود در سرورهای دبیان می‌گردد، چرا که بسته مستندسازی‌شده در تمام معماری‌های یکسان بکارگرفته می‌شود (بجای اینکه برای هر معماری یک مستندات مربوط به بسته باینری آن موجود باشد).
			</div></div><div
            class="sidebar"><div
              class="titlepage"><div><div><p
                    class="title"><strong><span
                        class="emphasis"><em>چشم‌انداز</em></span> قالب‌های متفاوت بسته سورس</strong></p></div></div></div><div
              class="para">
				در ابتدا تنها یک قالب برای بسته سورس وجود داشت. این قالب <code
                class="literal">1.0</code> است که ارتباط بین یک آرشیو <code
                class="filename">.orig.tar.gz</code> با <code
                class="filename">.diff.gz</code> که فایل پچ “مخصوص دبیان” است را برقرار می‌کند (همچنین یک نسخه <code
                class="filename">.tar.gz</code> وجود دارد در صورتی که فایل <code
                class="filename">.orig.tar.gz</code> موجود نباشد).
			</div><div
              class="para">
				از نسخه <span
                class="distribution distribution">Squeeze</span>، توسعه‌دهندگان دبیان امکان استفاده از قالب جدید که بسیاری مشکلات قالب قبلی را حل می‌کرد، دارند. قالب <code
                class="literal">3.0 (quilt)</code> می‌تواند چندین آرشیو اصلی از بسته سورس را با یکدیگر ترکیب کند: به علاوه فایل <code
                class="filename">.orig.tar.gz</code>، فایل مکمل <code
                class="filename">.orig-<em
                  class="replaceable">component</em>.tar.gz</code> نیز می‌تواند اضافه شود. این مخصوص نرم‌افزاری است که توسط چندین کامپوننت اصلی توزیع شده ولی تنها یک بسته سورس مناسب برایش موجود باشد. این آرشیوها می‌توانند توسط <code
                class="command">bzip2</code> یا <code
                class="command">xz</code> بجای <code
                class="command">gzip</code> فشرده شوند، که منجر به صرفه‌جویی در فضای دیسک و منابع شبکه می‌گردد. در نهایت، فایل پچ <code
                class="filename">.diff.gz</code> توسط <code
                class="filename">.debian.tar.gz</code> جایگزین می‌شود که شامل دستورات کامپایل و مجموعه‌ای از فایل‌های پچ توسط توسعه‌دهنده بسته در دبیان می‌باشد. گزینه آخر مطابق با قالب سازگار با <code
                class="command">quilt</code> ذخیره می‌شود، ابزاری که امکان مدیریت مجموعه‌ای از پچ‌ها را فراهم می‌سازد.
			</div></div><div
            class="para">
				فایل <code
              class="filename">.orig.tar.gz</code> آرشیو شامل سورس کد از توسعه‌دهنده اصلی برنامه است. از توسعه‌دهندگان بسته در دبیان تقاضا می‌شود که این فایل را به منظور سازگاری هر چه بیشتر با فایل اصلی برنامه، تغییر ندهند (که این کار توسط یک عملیات مقایسه‌ای انجام می‌شود) و به نقظه نظرات نویسنده اصلی احترام بگذارند.
			</div><div
            class="para">
				فایل <code
              class="filename">.debian.tar.gz</code> شامل تمام تغییراتی است که توسط توسعه‌دهنده دبیان صورت گرفته است، به خصوص اضافه کردن دایرکتوری <code
              class="filename">debian</code> که دستورالعمل‌های لازم جهت ایجاد بسته باینری را به همراه دارد.
			</div><div
            class="sidebar"><div
              class="titlepage"><div><div><p
                    class="title"><strong><span
                        class="emphasis"><em>ابزار</em></span> خارج‌سازی بسته از حالت فشرده</strong></p></div></div></div><a
              id="id-1.8.7.4.16.2"
              class="indexterm"></a><a
              id="id-1.8.7.4.16.3"
              class="indexterm"></a><a
              id="id-1.8.7.4.16.4"
              class="indexterm"></a><a
              id="id-1.8.7.4.16.5"
              class="indexterm"></a><div
              class="para">
				اگر بسته سورسی دارید، می‌تواند با استفاده از دستور <code
                class="command">dpkg-source</code> (از بسته <span
                class="pkg pkg">dpkg-dev</span>) آن را از حالت فشرده خارج سازید:
			</div><pre
              class="screen"><code
                class="computeroutput">$ </code><strong
                class="userinput"><code>dpkg-source -x package_0.7-1.dsc</code></strong></pre><div
              class="para">
				همچنین می‌توانید از <code
                class="command">apt-get</code> برای دانلود بسته استفاده کنید و آن را از حالت فشرده خارج سازید. این کار مستلزم وجود خط‌های <code
                class="literal">deb-src</code> در فایل <code
                class="filename">/etc/apt/sources.list</code> می‌باشد (برای مطالعه بیشتر به قسمت <a
                class="xref"
                href="apt.html#sect.apt-sources.list">
      قسمت 6.1, “پر کردن فایل <code
                  class="filename">sources.list</code>”
    </a> مراجعه کنید). این خطوط به منظور دسترسی به “source” بسته‌های سورس قرار داده شده‌اند (سرورهایی که روی آن‌ها بسته‌های سورس میزبانی می‌شوند).
			</div><pre
              class="screen"><code
                class="computeroutput">$ </code><strong
                class="userinput"><code>apt-get source <em
                    class="replaceable">package</em></code></strong></pre></div></div><div
          class="section"><div
            class="titlepage"><div><div><h3
                  class="title"><a
                    id="id-1.8.7.5"></a>5.3.2. کاربرد در دبیان</h3></div></div></div><div
            class="para">
				بسته سورس پایه و اساس هر چیز دیگری در دبیان است. تمام بسته‌های دبیان از یک بسته سورس نشات می‌گیرند، تغییر در هر بسته دبیان مستلزم تغییر در بسته سورس آن است. توسعه‌دهندگان دبیان که روی بسته‌های سورس کار می‌کنند، می‌دانند که کوچکترین تغییر در آن‌ها روی بسته‌های دبیان تاثیر خواهد گذاشت. حاصل کار نهایی آن‌ها در بسته‌های سورس قرار می‌گیرد: به راحتی می‌توانید به آن‌ها مراجعه کنید و ببینید که تمام تغییرات از آنجا شروع می‌شود.
			</div><div
            class="para">
				زمانی که نسخه جدیدی از یک بسته (یک بسته سورس و یک یا چند بسته باینری) روی سرورهای دبیان قرار می‌گیرد، بسته سورس مهمترین آن‌ها است. در واقع، توسط شبکه‌ای از ماشین‌ها با معماری‌های متفاوت برای کامپایل و ساخت نسخه‌های مختلف از آن بسته در معماری‌های گوناگون مورد استفاده قرار می‌گیرد. در حقیقت اینکه توسعه‌دهنده خود اقدام به انتشار نسخه‌های متفاوت برای معماری‌های گوناگون می‌کند (معمولا i386 یا amd64) اهمیت خاصی ندارد، چرا که این فعالیت‌ها به صورت خودکار صورت می‌پذیرند.
			</div></div></div><ul
        class="docnav"><li
          class="previous"><a
            accesskey="p"
            href="sect.package-meta-information.html"><strong>قبلی</strong>5.2. اطلاعات-جانبی بسته</a></li><li
          class="up"><a
            accesskey="u"
            href="#"><strong>بالا</strong></a></li><li
          class="home"><a
            accesskey="h"
            href="index.html"><strong>خانه</strong></a></li><li
          class="next"><a
            accesskey="n"
            href="sect.manipulating-packages-with-dpkg.html"><strong>بعدی</strong>5.4. مدیریت بسته‌ها با استفاده از dpkg</a></li></ul><div
        id="translated_pages"><ul><li><a
              href="../ar-MA/sect.source-package-structure.html">ar-MA</a></li><li><a
              href="../da-DK/sect.source-package-structure.html">da-DK</a></li><li><a
              href="../de-DE/sect.source-package-structure.html">de-DE</a></li><li><a
              href="../el-GR/sect.source-package-structure.html">el-GR</a></li><li><a
              href="../en-US/sect.source-package-structure.html">en-US</a></li><li><a
              href="../es-ES/sect.source-package-structure.html">es-ES</a></li><li><a
              href="../fa-IR/sect.source-package-structure.html">fa-IR</a></li><li><a
              href="../fr-FR/sect.source-package-structure.html">fr-FR</a></li><li><a
              href="../hr-HR/sect.source-package-structure.html">hr-HR</a></li><li><a
              href="../id-ID/sect.source-package-structure.html">id-ID</a></li><li><a
              href="../it-IT/sect.source-package-structure.html">it-IT</a></li><li><a
              href="../ja-JP/sect.source-package-structure.html">ja-JP</a></li><li><a
              href="../ko-KR/sect.source-package-structure.html">ko-KR</a></li><li><a
              href="../nb-NO/sect.source-package-structure.html">nb-NO</a></li><li><a
              href="../pl-PL/sect.source-package-structure.html">pl-PL</a></li><li><a
              href="../pt-BR/sect.source-package-structure.html">pt-BR</a></li><li><a
              href="../ro-RO/sect.source-package-structure.html">ro-RO</a></li><li><a
              href="../ru-RU/sect.source-package-structure.html">ru-RU</a></li><li><a
              href="../tr-TR/sect.source-package-structure.html">tr-TR</a></li><li><a
              href="../vi-VN/sect.source-package-structure.html">vi-VN</a></li><li><a
              href="../zh-CN/sect.source-package-structure.html">zh-CN</a></li><li><a
              href="../zh-TW/sect.source-package-structure.html">zh-TW</a></li></ul></div></body></html>
