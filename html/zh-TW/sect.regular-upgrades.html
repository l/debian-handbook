<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html
    xmlns="http://www.w3.org/1999/xhtml"><head><meta
        http-equiv="Content-Type"
        content="text/html; charset=UTF-8" /><title
        xmlns:d="http://docbook.org/ns/docbook">6.7. 保持系統在最新狀態</title><link
        rel="stylesheet"
        type="text/css"
        href="Common_Content/css/default.css" /><link
        rel="stylesheet"
        media="print"
        href="Common_Content/css/print.css"
        type="text/css" /><meta
        xmlns:d="http://docbook.org/ns/docbook"
        name="generator"
        content="publican v4.3.2" /><meta
        xmlns:d="http://docbook.org/ns/docbook"
        name="package"
        content="Debian-debian-handbook-9-zh-TW-1.0-1" /><meta
        name="keywords"
        content="apt, apt-get, apt-cache, aptitude, synaptic, sources.list, apt-cdrom" /><link
        rel="home"
        href="index.html"
        title="Debian管理者手冊" /><link
        rel="up"
        href="apt.html"
        title="章 6. 維護與更新：APT 工具" /><link
        rel="prev"
        href="sect.dist-upgrade.html"
        title="6.6. 升級至下個穩定發行版" /><link
        rel="next"
        href="sect.automatic-upgrades.html"
        title="6.8. 自動升級" /><meta
        name="viewport"
        content="width=device-width, initial-scale=1" /><meta
        name="flattr:id"
        content="4pz9jq" /><link
        rel="canonical"
        href="http://l.github.io/debian-handbook/html/zh-TW/sect.regular-upgrades.html" /></head><body><noscript><iframe
          src="//www.googletagmanager.com/ns.html?id=GTM-5H35QX"
          height="0"
          width="0"
          style="display:none;visibility:hidden"></iframe></noscript><script
        type="text/javascript">(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
j=d.createElement(s),dl=l!='dataLayer'?'&amp;l='+l:'';j.async=true;j.src=
'//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
})(window,document,'script','dataLayer','GTM-5H35QX');</script><div
        id="banner"><a
          href="../../"><span
            class="text">Download the ebook</span></a></div><p
        id="title"><a
          class="left"
          href="http://www.debian.org"><img
            alt="Product Site"
            src="Common_Content/images//image_left.png" /></a><a
          class="right"
          href="index.html"><img
            alt="Documentation Site"
            src="Common_Content/images//image_right.png" /></a></p><ul
        class="docnav top"><li
          class="previous"><a
            accesskey="p"
            href="sect.dist-upgrade.html"><strong>前一頁</strong></a></li><li
          class="home">Debian管理者手冊</li><li
          class="next"><a
            accesskey="n"
            href="sect.automatic-upgrades.html"><strong>下一頁</strong></a></li></ul><div
        class="section"><div
          class="titlepage"><div><div><h2
                class="title"><a
                  id="sect.regular-upgrades"></a>6.7. 保持系統在最新狀態</h2></div></div></div><div
          class="para">
			Debian 發行版永遠處於動態、持續變化中。大部份的變化在 <span
            class="distribution distribution">測試版</span> 與 <span
            class="distribution distribution">不穩定版</span> 中，即使是 <span
            class="distribution distribution">穩定版</span> 也隨時在更新中，主要是安全相關的修訂。不論執行那個版本，都需保持在最新的版本，才能用到最新的狀態及修訂錯誤。
		</div><div
          class="para">
			最好定期執行升級與更新，雖然很瑣碎卻是必要的。幸運的是，這種重複性的工作可以自動執行，有很多工具可以使用。
		</div><div
          class="para">
			第一個工具是 <code
            class="command">apticron</code>，位於同名套件中。主要作用是每日執行一個腳本 (經由 <code
            class="command">cron</code>)。這個腳本更新可用套件清單，若已安裝的套件不在此清單內，則發送電子郵件列出該等套件清單，並指出在新版中可用的套件。明顯地，此套件的對象是 Debian <span
            class="distribution distribution">穩定版</span> 的使用者，對其他版本的使用者而言，此清單太長了。取得可更新清單後，<code
            class="command">apticron</code> 自動下載它們。不會安裝它們 — 那是管理者的權限與工作 — 但已下載的套件可以在地 (於 APT 快取內) 安裝，速度快多了。
		</div><div
          class="para">
			Administrators in charge of several computers will no doubt appreciate being informed of pending upgrades, but the upgrades themselves are still as tedious as they used to be. Periodic upgrades can be enabled: it uses a <code
            class="command">systemd</code> timer unit or <code
            class="command">cron</code>. If <span
            class="pkg pkg">systemd</span> is not installed the <code
            class="filename">/etc/cron.daily/apt-compat</code> script (in the <span
            class="pkg pkg">apt</span> package) comes in handy. This script is run daily (and non-interactively) by <code
            class="command">cron</code>. To control the behavior, use APT configuration variables (which are therefore stored in a file <code
            class="filename">/etc/apt/apt.conf.d/10periodic</code>). The main variables are:
		</div><div
          class="variablelist"><dl
            class="variablelist"><dt><span
                class="term"><code
                  class="literal">APT::Periodic::Update-Package-Lists</code></span></dt><dd><div
                class="para">
						此選項允許您指定重新載入的頻率。<code
                  class="command">apticron</code> 也可以在無變數的前提下執行，因為 <code
                  class="command">apticron</code> 本來就已在執行中。
					</div></dd><dt><span
                class="term"><code
                  class="literal">APT::Periodic::Download-Upgradeable-Packages</code></span></dt><dd><div
                class="para">
						再次地，此選項指定頻率 (以日計)，此時實際地下載套件。同樣地，使用者不需指定執行 <code
                  class="command">apticron</code>。
					</div></dd><dt><span
                class="term"><code
                  class="literal">APT::Periodic::AutocleanInterval</code></span></dt><dd><div
                class="para">
						此選項包括 <code
                  class="command">apticron</code> 沒有的功能。指定過時套件 (未被任何發行版參照) 移出 APT 快取的時機。如此一來，APT 快取的容量就保持在合理的範圍，不必再擔心其工作負擔。
					</div></dd><dt><span
                class="term"><code
                  class="literal">APT::Periodic::Unattended-Upgrade</code></span></dt><dd><a
                id="id-1.9.16.6.4.2.1"
                class="indexterm"></a><div
                class="para">
						啟用此選項後，逐日啟用的腳本將執行 <code
                  class="command">unattended-upgrade</code> (從 <span
                  class="pkg pkg">unattended-upgrades</span> 套件中取用) — 如其名稱所示 — 可自動化升級同套件 (預設祗執行安全性升級，但可在 <code
                  class="filename">/etc/apt/apt.conf.d/50unattended-upgrades</code> 內客製化它)。執行 <code
                  class="command">dpkg-reconfigure -plow unattended-upgrades</code> 時可以設定此選項。
					</div></dd></dl></div><div
          class="para">
			Other options can allow you to control the cache cleaning behavior with more precision. They are not listed here, but they are described in the <code
            class="filename">/usr/lib/apt/apt.systemd.daily</code> script.
		</div><a
          id="id-1.9.16.8"
          class="indexterm"></a><div
          class="para">
			These tools work very well for servers, but desktop users generally prefer a more interactive system. The package <span
            class="pkg pkg">gnome-packagekit</span> provides an icon in the notification area of desktop environments when updates are available; clicking on this icon then runs <code
            class="command">gpk-update-viewer</code>, a simplified interface to perform updates. You can browse through available updates, read the short description of the relevant packages and the corresponding <code
            class="filename">changelog</code> entries, and select whether to apply the update or not on a case-by-case basis.
		</div><div
          class="figure"><a
            id="id-1.9.16.10"></a><div
            class="figure-contents"><div
              class="mediaobject"><img
                src="images/gnome-packagekit.png"
                alt="使用 gpk-update-viewer 升級" /></div></div><p
            class="title"><strong>圖形 6.3. 使用 <code
                class="command">gpk-update-viewer</code> 升級</strong></p></div><div
          class="para">
			This tool is no longer installed in the default GNOME desktop. The new philosophy is that security updates should be automatically installed, either in the background or, preferably, when you shutdown your computer so as to not confuse any running application.
		</div></div><ul
        class="docnav"><li
          class="previous"><a
            accesskey="p"
            href="sect.dist-upgrade.html"><strong>前一頁</strong>6.6. 升級至下個穩定發行版</a></li><li
          class="up"><a
            accesskey="u"
            href="#"><strong>上一層</strong></a></li><li
          class="home"><a
            accesskey="h"
            href="index.html"><strong>起始頁</strong></a></li><li
          class="next"><a
            accesskey="n"
            href="sect.automatic-upgrades.html"><strong>下一頁</strong>6.8. 自動升級</a></li></ul><div
        id="translated_pages"><ul><li><a
              href="../ar-MA/sect.regular-upgrades.html">ar-MA</a></li><li><a
              href="../da-DK/sect.regular-upgrades.html">da-DK</a></li><li><a
              href="../de-DE/sect.regular-upgrades.html">de-DE</a></li><li><a
              href="../el-GR/sect.regular-upgrades.html">el-GR</a></li><li><a
              href="../en-US/sect.regular-upgrades.html">en-US</a></li><li><a
              href="../es-ES/sect.regular-upgrades.html">es-ES</a></li><li><a
              href="../fa-IR/sect.regular-upgrades.html">fa-IR</a></li><li><a
              href="../fr-FR/sect.regular-upgrades.html">fr-FR</a></li><li><a
              href="../hr-HR/sect.regular-upgrades.html">hr-HR</a></li><li><a
              href="../id-ID/sect.regular-upgrades.html">id-ID</a></li><li><a
              href="../it-IT/sect.regular-upgrades.html">it-IT</a></li><li><a
              href="../ja-JP/sect.regular-upgrades.html">ja-JP</a></li><li><a
              href="../ko-KR/sect.regular-upgrades.html">ko-KR</a></li><li><a
              href="../nb-NO/sect.regular-upgrades.html">nb-NO</a></li><li><a
              href="../pl-PL/sect.regular-upgrades.html">pl-PL</a></li><li><a
              href="../pt-BR/sect.regular-upgrades.html">pt-BR</a></li><li><a
              href="../ro-RO/sect.regular-upgrades.html">ro-RO</a></li><li><a
              href="../ru-RU/sect.regular-upgrades.html">ru-RU</a></li><li><a
              href="../tr-TR/sect.regular-upgrades.html">tr-TR</a></li><li><a
              href="../vi-VN/sect.regular-upgrades.html">vi-VN</a></li><li><a
              href="../zh-CN/sect.regular-upgrades.html">zh-CN</a></li><li><a
              href="../zh-TW/sect.regular-upgrades.html">zh-TW</a></li></ul></div></body></html>
