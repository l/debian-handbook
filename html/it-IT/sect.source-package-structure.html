<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html
    xmlns="http://www.w3.org/1999/xhtml"><head><meta
        http-equiv="Content-Type"
        content="text/html; charset=UTF-8" /><title
        xmlns:d="http://docbook.org/ns/docbook">5.3. Struttura di un pacchetto sorgente</title><link
        rel="stylesheet"
        type="text/css"
        href="Common_Content/css/default.css" /><link
        rel="stylesheet"
        media="print"
        href="Common_Content/css/print.css"
        type="text/css" /><meta
        xmlns:d="http://docbook.org/ns/docbook"
        name="generator"
        content="publican v4.3.2" /><meta
        xmlns:d="http://docbook.org/ns/docbook"
        name="package"
        content="Debian-debian-handbook-8-it-IT-1.0-1" /><meta
        name="keywords"
        content="Pacchetto binario, Pacchetto sorgente, dpkg, dipendenze, conflitto" /><link
        rel="home"
        href="index.html"
        title="Il Manuale dell'Amministratore Debian" /><link
        rel="up"
        href="packaging-system.html"
        title="Capitolo 5. Sistema dei pacchetti: strumenti e principi fondamentali" /><link
        rel="prev"
        href="sect.package-meta-information.html"
        title="5.2. Meta-informazioni sul pacchetto" /><link
        rel="next"
        href="sect.manipulating-packages-with-dpkg.html"
        title="5.4. Manipolazione dei pacchetti con dpkg" /><meta
        name="viewport"
        content="width=device-width, initial-scale=1" /><link
        rel="canonical"
        href="http://l.github.io/debian-handbook/html/it-IT/sect.source-package-structure.html" /></head><body><noscript><iframe
          src="//www.googletagmanager.com/ns.html?id=GTM-5H35QX"
          height="0"
          width="0"
          style="display:none;visibility:hidden"></iframe></noscript><script
        type="text/javascript">(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
j=d.createElement(s),dl=l!='dataLayer'?'&amp;l='+l:'';j.async=true;j.src=
'//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
})(window,document,'script','dataLayer','GTM-5H35QX');</script><div
        id="banner"><a
          href="../../"><span
            class="text">Download the ebook</span></a></div><p
        id="title"><a
          class="left"
          href="http://www.debian.org"><img
            alt="Product Site"
            src="Common_Content/images//image_left.png" /></a><a
          class="right"
          href="index.html"><img
            alt="Documentation Site"
            src="Common_Content/images//image_right.png" /></a></p><ul
        class="docnav top"><li
          class="previous"><a
            accesskey="p"
            href="sect.package-meta-information.html"><strong>Indietro</strong></a></li><li
          class="home">Il Manuale dell'Amministratore Debian</li><li
          class="next"><a
            accesskey="n"
            href="sect.manipulating-packages-with-dpkg.html"><strong>Avanti</strong></a></li></ul><div
        class="section"><div
          class="titlepage"><div><div><h2
                class="title"><a
                  id="sect.source-package-structure"></a>5.3. Struttura di un pacchetto sorgente</h2></div></div></div><a
          id="id-1.8.7.2"
          class="indexterm"></a><a
          id="id-1.8.7.3"
          class="indexterm"></a><div
          class="section"><div
            class="titlepage"><div><div><h3
                  class="title"><a
                    id="id-1.8.7.4"></a>5.3.1. Formato</h3></div></div></div><a
            id="id-1.8.7.4.2"
            class="indexterm"></a><a
            id="id-1.8.7.4.3"
            class="indexterm"></a><a
            id="id-1.8.7.4.4"
            class="indexterm"></a><a
            id="id-1.8.7.4.5"
            class="indexterm"></a><div
            class="para">
				Un pacchetto sorgente è normalmente composto da tre file, un <code
              class="filename">.dsc</code>, un <code
              class="filename">.orig.tar.gz</code> e un <code
              class="filename">.debian.tar.gz</code> o <code
              class="filename">.diff.gz</code>. Essi permettono la creazione di pacchetti binari (i file <code
              class="filename">.deb</code> descritti precedentemente) per uno o più programmi dal loro codice sorgente, scritto in un linguaggio di programmazione.
			</div><div
            class="para">
				Il file <code
              class="filename">.dsc</code> (Debian Source Control) è un breve file di testo che contiene un'intestazione RFC 2822 (proprio come il file <code
              class="filename">control</code> esaminato nella <a
              class="xref"
              href="sect.package-meta-information.html#sect.control">Sezione 5.2.1, «Descrizione: il file <code
                class="filename">control</code>»</a>) che descrive il pacchetto sorgente e indica quali altri file ne fanno parte. È firmato dal suo manutentore, il che garantisce la sua autenticità. Vedere la <a
              class="xref"
              href="sect.package-authentication.html">Sezione 6.5, «Controllare l'autenticità dei pacchetti»</a> per ulteriori dettagli su questo argomento.
			</div><div
            class="example"><a
              id="id-1.8.7.4.8"></a><p
              class="title"><strong>Esempio 5.1. Un file <code
                  class="filename">.dsc</code></strong></p><div
              class="example-contents"><pre
                class="programlisting">
-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA256

Format: 3.0 (quilt)
Source: zim
Binary: zim
Architecture: all
Version: 0.62-3
Maintainer: Emfox Zhou &lt;emfox@debian.org&gt;
Uploaders: Raphaël Hertzog &lt;hertzog@debian.org&gt;
Homepage: http://zim-wiki.org
Standards-Version: 3.9.6
Vcs-Browser: http://anonscm.debian.org/gitweb/?p=collab-maint/zim.git
Vcs-Git: git://anonscm.debian.org/collab-maint/zim.git
Build-Depends: debhelper (&gt;= 9), xdg-utils, python (&gt;= 2.6.6-3~), libgtk2.0-0 (&gt;= 2.6), python-gtk2, python-xdg
Package-List:
 zim deb x11 optional arch=all
Checksums-Sha1:
 ad8de170826682323c10195b65b9f1243fd75637 1772246 zim_0.62.orig.tar.gz
 a4f70d6f7fb404022c9cc4870a4e62ea3ca08388 14768 zim_0.62-3.debian.tar.xz
Checksums-Sha256:
 19d62aebd2c1a92d84d80720c6c1dcdb779c39a2120468fed01b7f252511bdc2 1772246 zim_0.62.orig.tar.gz
 fc2e827e83897d5e33f152f124802c46c3c01c5158b75a8275a27833f1f6f1de 14768 zim_0.62-3.debian.tar.xz
Files:
 43419efba07f7086168442e3d698287a 1772246 zim_0.62.orig.tar.gz
 725a69663a6c2961f07673ae541298e4 14768 zim_0.62-3.debian.tar.xz

-----BEGIN PGP SIGNATURE-----
Version: GnuPG v2
Comment: Signed by Raphael Hertzog

iQEcBAEBCAAGBQJUR2jqAAoJEAOIHavrwpq5WFcH/RsdzCHc1oXXxHitU23hEqMj
T6ok29M1UFDJDowMXW75jQ1nT4WPUtvEGygkCHeoO/PvjEvB0sjU8GQlX+N9ddSB
aHfqfAYmVhADNGxrXQT5inZXUa8qGeeq2Sqf6YcWtsnuD56lDbvxkyf/XYopoIEl
oltfl05z/AI+vYsW482YrCz0fxNAKAvkyuPhDebYI8jnKWeAANoqmKpsNc/HYyvT
+ZiA5o57OiGdOKT6XGy3/FiF3dkHiRY8lXW7xdr1BbIgulwl9UmiUNwuxwOYbQO7
edtjiTJqOaFUA0x1zB/XGv5tHr1MjP8naT+kfVoVHTOox51CDbeu5D3DZY4imcY=
=Wtoa
-----END PGP SIGNATURE-----</pre></div></div><a
            id="id-1.8.7.4.9"
            class="indexterm"></a><div
            class="para">
				Notare che anche il pacchetto sorgente ha delle dipendenze (<code
              class="literal">Build-Depends</code>) completamente distinte da quelle del pacchetto binario, dal momento che indicano gli strumenti richiesti per compilare il software in questione e costruire il suo pacchetto binario.
			</div><div
            class="sidebar"><div
              class="titlepage"><div><div><p
                    class="title"><strong><span
                        class="emphasis"><em>ATTENZIONE</em></span> Spazi di nomi distinti</strong></p></div></div></div><div
              class="para">
				È importante notare qui che non c'è una forte corrispondenza tra il nome del pacchetto sorgente e quello dei pacchetti binari che genera. È abbastanza facile da capire se si sa che ogni pacchetto sorgente può generare diversi pacchetti binari. Questo è il motivo per cui il file <code
                class="filename">.dsc</code> ha dei campi <code
                class="literal">Source</code> e <code
                class="literal">Binary</code> per nominare esplicitamente il pacchetto sorgente e memorizzare l'elenco dei pacchetti binari che esso genera.
			</div></div><div
            class="sidebar"><div
              class="titlepage"><div><div><p
                    class="title"><strong><span
                        class="emphasis"><em>CULTURA</em></span> Perché dividere in diversi pacchetti</strong></p></div></div></div><div
              class="para">
				Piuttosto di frequente, un pacchetto sorgente (per un certo gruppo di programmi) può generare diversi pacchetti binari. Le ragioni sono molteplici: un programma può spesso essere usato in contesti diversi, per cui una libreria condivisa può essere installata per far funzionare un'applicazione (per esempio <span
                class="pkg pkg">libc6</span>) o può essere installata per sviluppare un nuovo programma (<span
                class="pkg pkg">libc6-dev</span> sarà allora il pacchetto corretto). La stessa logica si trova per servizi client/server dove la parte server è installata su una macchina e la parte client su altre (questo è il caso, per esempio, di <span
                class="pkg pkg">openssh-server</span> e di <span
                class="pkg pkg">openssh-client</span>).
			</div><div
              class="para">
				Altrettanto di frequente, la documentazione è fornita in un pacchetto dedicato: l'utente può installarla indipendentemente dal software e può in qualsiasi momento scegliere di rimuoverla per risparmiare spazio su disco. Inoltre, ciò risparmia spazio su disco anche sui mirror di Debian, dal momento che il pacchetto con la documentazione sarà condiviso tra tutte le architetture (invece di avere la documentazione duplicata nei pacchetti per ogni architettura).
			</div></div><div
            class="sidebar"><div
              class="titlepage"><div><div><p
                    class="title"><strong><span
                        class="emphasis"><em>IN PROSPETTIVA</em></span> Differenti formati di pacchetti sorgenti</strong></p></div></div></div><div
              class="para">
				Inizialmente c'era un solo formato per i pacchetti sorgenti. È il formato <code
                class="literal">1.0</code> che associa un archivio <code
                class="filename">.orig.tar.gz</code> a una patch <code
                class="filename">.diff.gz</code> di "debianizzazione" (c'è anche una variante che consiste di un singolo archivio <code
                class="filename">.tar.gz</code> che è usato automaticamente se non c'è alcun <code
                class="filename">.orig.tar.gz</code> disponibile).
			</div><div
              class="para">
				A partire da Debian <span
                class="distribution distribution">Squeeze</span>, gli sviluppatori Debian hanno l'opzione di usare dei nuovi formati che correggono molti problemi del formato storico. Il formato <code
                class="literal">3.0 (quilt)</code> può unire più archivi a monte in uno stesso pacchetto sorgente: in aggiunta al solito <code
                class="filename">.orig.tar.gz</code>, archivi supplementari <code
                class="filename">.orig-<em
                  class="replaceable">componente</em>.tar.gz</code>. Ciò è utile con software che è distribuito in diversi componenti a monte ma per il quale si desidera un singolo pacchetto sorgente. Questi archivi possono anche essere compressi con <code
                class="command">bzip2</code> o <code
                class="command">xz</code> piuttosto che con <code
                class="command">gzip</code>), il che risparmia spazio su disco e risorse di rete. Infine, la patch monolitica, <code
                class="filename">.diff.gz</code>, è stata sostituita dall'archivio <code
                class="filename">.debian.tar.gz</code> che contiene le istruzioni di compilazione e un insieme di patch a monte dal manutentore del pacchetto. Queste ultime sono registrate in un formato compatibile con <code
                class="command">quilt</code> — uno strumento che facilita la gestione di una serie di patch.
			</div></div><div
            class="para">
				Il <code
              class="filename">.orig.tar.gz</code> è un archivio che contiene il codice sorgente del programma come fornito dallo sviluppatore originale. Ai manutentori dei pacchetti Debian viene chiesto di non modificare questo archivio in modo da poter facilmente verificare la fonte e l'integrità del file (con un semplice confronto con una somma di controllo) e per rispettare i desideri di alcuni autori.
			</div><div
            class="para">
				<code
              class="filename">.debian.tar.gz</code> contiene tutte le modifiche fatte dal manutentore Debian, specialmente l'aggiunta della directory <code
              class="filename">debian</code> che contiene le istruzioni da eseguire per costruire un pacchetto Debian.
			</div><div
            class="sidebar"><div
              class="titlepage"><div><div><p
                    class="title"><strong><span
                        class="emphasis"><em>STRUMENTO</em></span> Decomprimere un pacchetto sorgente</strong></p></div></div></div><a
              id="id-1.8.7.4.16.2"
              class="indexterm"></a><a
              id="id-1.8.7.4.16.3"
              class="indexterm"></a><a
              id="id-1.8.7.4.16.4"
              class="indexterm"></a><a
              id="id-1.8.7.4.16.5"
              class="indexterm"></a><div
              class="para">
				Avendo un pacchetto sorgente, si può usare <code
                class="command">dpkg-source</code> (dal pacchetto <span
                class="emphasis"><em>dpkg-dev</em></span>) per decomprimerlo:
			</div><pre
              class="screen"><code
                class="computeroutput">$ </code><strong
                class="userinput"><code>dpkg-source -x package_0.7-1.dsc</code></strong></pre><div
              class="para">
				Si può anche usare <code
                class="command">apt-get</code> per scaricare un pacchetto sorgente e scompattarlo immediatamente. È richiesto che le appropriate righe <code
                class="literal">deb-src</code> siano presenti nel file <code
                class="filename">/etc/apt/sources.list</code>, comunque (per ulteriori dettagli, vedere la <a
                class="xref"
                href="apt.html#sect.apt-sources.list">Sezione 6.1, «Compilazione del file <code
                  class="filename">sources.list</code>»</a>). Esse sono usate per elencare le "fonti" di un pacchetto sorgente (intendendo i server sui quali è ospitato un gruppo di pacchetti sorgente).
			</div><pre
              class="screen"><code
                class="computeroutput">$ </code><strong
                class="userinput"><code>apt-get source <em
                    class="replaceable">pacchetto</em></code></strong></pre></div></div><div
          class="section"><div
            class="titlepage"><div><div><h3
                  class="title"><a
                    id="id-1.8.7.5"></a>5.3.2. Uso con Debian</h3></div></div></div><div
            class="para">
				Il pacchetto sorgente è alla base di tutto in Debian. Tutti i pacchetti Debian provengono da un pacchetto sorgente e ogni modifica in un pacchetto Debian è la conseguenza di una modifica fatta al pacchetto sorgente. I manutentori Debian lavorano con i pacchetti sorgenti, conoscendo, però, le conseguenze delle loro azioni sui pacchetti binari. I frutti del loro lavoro si trovano, perciò, nei pacchetti sorgenti disponibili da Debian: si può facilmente tornare indietro e seguire ogni cosa.
			</div><div
            class="para">
				Quando una nuova versione di un pacchetto (pacchetto sorgente e uno o più pacchetti binari) arriva su un server Debian, il pacchetto sorgente è il più importante. Infatti, sarà usato da una rete di macchine con architetture differenti per la compilazione delle varie architetture supportate da Debian. Il fatto che lo sviluppatore invii anche uno o più pacchetti binari per una data architettura (solitamente i386 o amd64) è relativamente non importante, dal momento che potrebbero anche essere stati generati automaticamente.
			</div></div></div><ul
        class="docnav"><li
          class="previous"><a
            accesskey="p"
            href="sect.package-meta-information.html"><strong>Indietro</strong>5.2. Meta-informazioni sul pacchetto</a></li><li
          class="up"><a
            accesskey="u"
            href="#"><strong>Risali</strong></a></li><li
          class="home"><a
            accesskey="h"
            href="index.html"><strong>Partenza</strong></a></li><li
          class="next"><a
            accesskey="n"
            href="sect.manipulating-packages-with-dpkg.html"><strong>Avanti</strong>5.4. Manipolazione dei pacchetti con dpkg</a></li></ul><div
        id="translated_pages"><ul><li><a
              href="../ar-MA/sect.source-package-structure.html">ar-MA</a></li><li><a
              href="../da-DK/sect.source-package-structure.html">da-DK</a></li><li><a
              href="../de-DE/sect.source-package-structure.html">de-DE</a></li><li><a
              href="../el-GR/sect.source-package-structure.html">el-GR</a></li><li><a
              href="../en-US/sect.source-package-structure.html">en-US</a></li><li><a
              href="../es-ES/sect.source-package-structure.html">es-ES</a></li><li><a
              href="../fa-IR/sect.source-package-structure.html">fa-IR</a></li><li><a
              href="../fr-FR/sect.source-package-structure.html">fr-FR</a></li><li><a
              href="../hr-HR/sect.source-package-structure.html">hr-HR</a></li><li><a
              href="../id-ID/sect.source-package-structure.html">id-ID</a></li><li><a
              href="../it-IT/sect.source-package-structure.html">it-IT</a></li><li><a
              href="../ja-JP/sect.source-package-structure.html">ja-JP</a></li><li><a
              href="../ko-KR/sect.source-package-structure.html">ko-KR</a></li><li><a
              href="../nb-NO/sect.source-package-structure.html">nb-NO</a></li><li><a
              href="../pl-PL/sect.source-package-structure.html">pl-PL</a></li><li><a
              href="../pt-BR/sect.source-package-structure.html">pt-BR</a></li><li><a
              href="../ro-RO/sect.source-package-structure.html">ro-RO</a></li><li><a
              href="../ru-RU/sect.source-package-structure.html">ru-RU</a></li><li><a
              href="../tr-TR/sect.source-package-structure.html">tr-TR</a></li><li><a
              href="../zh-CN/sect.source-package-structure.html">zh-CN</a></li><li><a
              href="../zh-TW/sect.source-package-structure.html">zh-TW</a></li></ul></div></body></html>
