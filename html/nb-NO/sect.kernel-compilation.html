<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html
    xmlns="http://www.w3.org/1999/xhtml"><head><meta
        http-equiv="Content-Type"
        content="text/html; charset=UTF-8" /><title
        xmlns:d="http://docbook.org/ns/docbook">8.10. Å kompilere en kjerne</title><link
        rel="stylesheet"
        type="text/css"
        href="Common_Content/css/default.css" /><link
        rel="stylesheet"
        media="print"
        href="Common_Content/css/print.css"
        type="text/css" /><meta
        xmlns:d="http://docbook.org/ns/docbook"
        name="generator"
        content="publican v4.3.2" /><meta
        xmlns:d="http://docbook.org/ns/docbook"
        name="package"
        content="Debian-debian-handbook-9-nb-NO-1.0-1" /><meta
        name="keywords"
        content="Oppsett, Lokalisering, Localer, Nettverk, Navneoppslag, Brukere, Grupper, Kontoer, Kommandolinjetolker, Skall, Utskrift, Oppstartslaster, Kjernekompilering" /><link
        rel="home"
        href="index.html"
        title="Håndbok for Debian-administratoren" /><link
        rel="up"
        href="basic-configuration.html"
        title="Kapittel 8. Grunnleggende oppsett: Nettverk, kontoer, utskrift ..." /><link
        rel="prev"
        href="sect.config-misc.html"
        title="8.9. Andre oppsett: Synkronisering av tid, logger, dele tilgang …" /><link
        rel="next"
        href="sect.kernel-installation.html"
        title="8.11. Å installere en kjerne" /><meta
        name="viewport"
        content="width=device-width, initial-scale=1" /><meta
        name="flattr:id"
        content="4pz9jq" /><link
        rel="canonical"
        href="http://l.github.io/debian-handbook/html/nb-NO/sect.kernel-compilation.html" /></head><body><noscript><iframe
          src="//www.googletagmanager.com/ns.html?id=GTM-5H35QX"
          height="0"
          width="0"
          style="display:none;visibility:hidden"></iframe></noscript><script
        type="text/javascript">(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
j=d.createElement(s),dl=l!='dataLayer'?'&amp;l='+l:'';j.async=true;j.src=
'//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
})(window,document,'script','dataLayer','GTM-5H35QX');</script><div
        id="banner"><a
          href="../../"><span
            class="text">Download the ebook</span></a></div><p
        id="title"><a
          class="left"
          href="http://www.debian.org"><img
            alt="Product Site"
            src="Common_Content/images//image_left.png" /></a><a
          class="right"
          href="index.html"><img
            alt="Documentation Site"
            src="Common_Content/images//image_right.png" /></a></p><ul
        class="docnav top"><li
          class="previous"><a
            accesskey="p"
            href="sect.config-misc.html"><strong>Forrige</strong></a></li><li
          class="home">Håndbok for Debian-administratoren</li><li
          class="next"><a
            accesskey="n"
            href="sect.kernel-installation.html"><strong>Neste</strong></a></li></ul><div
        class="section"><div
          class="titlepage"><div><div><h2
                class="title"><a
                  id="sect.kernel-compilation"></a>8.10. Å kompilere en kjerne</h2></div></div></div><a
          id="id-1.11.14.2"
          class="indexterm"></a><a
          id="id-1.11.14.3"
          class="indexterm"></a><div
          class="para">
			Kjernene som Debian leverer har med flest mulig funksjoner, samt et maksimalt antall drivere, for å dekke det bredeste spekteret av eksisterende maskinvareoppsett. Dette er grunnen til at noen brukere foretrekker å rekompilere kjernen for bare å ta med det de spesifikt trenger. Det er to grunner for dette valget. For det første kan det være å optimalisere minneforbruk, ettersom kjernekoden, selv om den aldri blir brukt, opptar minne uten nytteverdi (og aldri «går ned» til vekselminne, siden det er selve RAM den bruker), som kan redusere den totale systemytelsen. En lokalt utarbeidet kjerne kan også begrense risikoen for sikkerhetsproblemer siden bare en brøkdel av kjernekoden er kompilert og kjører.
		</div><div
          class="sidebar"><div
            class="titlepage"><div><div><p
                  class="title"><strong><span
                      class="emphasis"><em>MERK</em></span> Sikkerhetsoppdateringer</strong></p></div></div></div><div
            class="para">
			Hvis du velger å kompilere din egen kjerne, må du akseptere konsekvensene: Debian kan ikke sørge for sikkerhetsoppdateringer for din tilpassede kjerne. Ved å beholde kjernen Debian leverer, har du fordelen av oppdateringer utarbeidet av Debian-prosjektets sikkerhetsteam.
		</div></div><div
          class="para">
			Rekompilering av kjernen er også nødvendig hvis du ønsker å bruke bestemte funksjoner som bare er tilgjengelig som programfikser (og ikke er med i standardversjonen av kjernen).
		</div><div
          class="sidebar"><div
            class="titlepage"><div><div><p
                  class="title"><strong><span
                      class="emphasis"><em>FOR VIDEREKOMMENDE</em></span> Debian-kjerne-håndboken</strong></p></div></div></div><a
            id="id-1.11.14.7.2"
            class="indexterm"></a><div
            class="para">
			Debian kjerneteam vedlikeholder «Debian Kernel Handbook» (også tilgjengelig i <span
              class="pkg pkg">debian-kernel-handbook</span>-pakken) med omfattende dokumentasjon om de fleste oppgaver som gjelder kjernen, og om hvordan offisielle Debian kjerne-pakker håndteres. Dette er det første stedet du bør se nærmere på hvis du trenger mer informasjon enn det som er gitt i dette avsnittet. <div
              class="url">→ <a
                href="http://kernel-handbook.alioth.debian.org">http://kernel-handbook.alioth.debian.org</a></div>
		</div></div><div
          class="section"><div
            class="titlepage"><div><div><h3
                  class="title"><a
                    id="sect.kernel-compilation-prerequisites"></a>8.10.1. Introduksjon og forutsetninger</h3></div></div></div><div
            class="para">
				Ikke overraskende håndterer Debian kjernen i form av en pakke, som ikke er hvordan kjerner tradisjonelt har blitt kompilert og installert. Siden kjernen forblir under kontroll av pakkesystemet, kan den således fjernes rent, eller utplasseres på flere maskiner. Videre, skriptene knyttet til disse pakkene automatiserer samspillet med oppstartslasteren og initrd-generatoren.
			</div><div
            class="para">
				Oppstrøms Linux-kilder inneholder alt som trengs for å bygge en Debian-pakke fra kjernen, men du trenger fortsatt å installere <span
              class="pkg pkg">build-essential</span> for å sikre at du har de verktøyene som kreves for å bygge en Debian-pakke. Videre, oppsettssteget for kjernen krever pakken <span
              class="pkg pkg">libncurses5-dev</span>. Til slutt vil pakken <span
              class="pkg pkg">fakeroot</span> se til at Debian-pakken lages uten at administratorrettigheter benyttes.
			</div><div
            class="sidebar"><div
              class="titlepage"><div><div><p
                    class="title"><strong><span
                        class="emphasis"><em>KULTUR</em></span> De gode gamle dager med <span
                        class="pkg pkg">kernel-package</span></strong></p></div></div></div><a
              id="id-1.11.14.8.4.2"
              class="indexterm"></a><div
              class="para">
				Før Linux-byggesystemet fikk muligheten til å bygge ordentlige Debian-pakker, var den anbefalte måten å bygge slike pakker å bruke<code
                class="command">make-kpkg</code> fra <span
                class="pkg pkg">kernel-package</span>-pakken.
			</div></div></div><div
          class="section"><div
            class="titlepage"><div><div><h3
                  class="title"><a
                    id="sect.kernel-sources"></a>8.10.2. Å skaffe kildekoden</h3></div></div></div><a
            id="id-1.11.14.9.2"
            class="indexterm"></a><a
            id="id-1.11.14.9.3"
            class="indexterm"></a><a
            id="id-1.11.14.9.4"
            class="indexterm"></a><div
            class="para">
				Like anything that can be useful on a Debian system, the Linux kernel sources are available in a package. To retrieve them, just install the <span
              class="pkg pkg">linux-source-<em
                class="replaceable">version</em></span> package. The <code
              class="command">apt search ^linux-source</code> command lists the various kernel versions packaged by Debian. The latest version is available in the <span
              class="distribution distribution">Unstable</span> distribution: you can retrieve them without much risk (especially if your APT is configured according to the instructions of <a
              class="xref"
              href="sect.apt-get.html#sect.apt-mix-distros">Seksjon 6.2.6, «Å arbeide med flere distribusjoner»</a>). Note that the source code contained in these packages does not correspond precisely with that published by Linus Torvalds and the kernel developers; like all distributions, Debian applies a number of patches, which might (or might not) find their way into the upstream version of Linux. These modifications include backports of fixes/features/drivers from newer kernel versions, new features not yet (entirely) merged in the upstream Linux tree, and sometimes even Debian specific changes.
			</div><div
            class="para">
				The remainder of this section focuses on the 4.9 version of the Linux kernel, but the examples can, of course, be adapted to the particular version of the kernel that you want.
			</div><div
            class="para">
				We assume the <span
              class="pkg pkg">linux-source-4.9</span> package has been installed. It contains <code
              class="filename">/usr/src/linux-source-4.9.tar.xz</code>, a compressed archive of the kernel sources. You must extract these files in a new directory (not directly under <code
              class="filename">/usr/src/</code>, since there is no need for special permissions to compile a Linux kernel): <code
              class="filename">~/kernel/</code> is appropriate.
			</div><pre
            class="screen">
<code
              class="computeroutput">$ </code><strong
              class="userinput"><code>mkdir ~/kernel; cd ~/kernel</code></strong>
<code
              class="computeroutput">$ </code><strong
              class="userinput"><code>tar -xaf /usr/src/linux-source-4.9.tar.xz</code></strong></pre><div
            class="sidebar"><div
              class="titlepage"><div><div><p
                    class="title"><strong><span
                        class="emphasis"><em>KULTUR</em></span> Lokalisering av kjernens kilder</strong></p></div></div></div><div
              class="para">
				Tradisjonelt ville Linux-kjernens kilder bli plassert i <code
                class="filename">/usr/src/linux/</code>, og dermed krever rot tillatelser for kompilering. Men å jobbe med administratorrettigheter bør unngås, når du ikke trenger det. Det er en <code
                class="literal">src</code>-gruppe som tillater medlemmer å arbeide i denne katalogen, men å arbeide i <code
                class="filename">/usr/src/</code> bør likevel unngås. Ved å holde kjernens kilder i en personlig mappe, får du sikkerhet på alle punkter: Ingen filer i <code
                class="filename">/usr/</code> som er ukjent for pakkesystemet, og ingen risiko for villedende programmer som leser <code
                class="filename">/usr/src/linux</code> når du prøver å samle informasjon på den kjernen som brukes.
			</div></div></div><div
          class="section"><div
            class="titlepage"><div><div><h3
                  class="title"><a
                    id="sect.config-kernel"></a>8.10.3. Å konfiguere kjernen</h3></div></div></div><a
            id="id-1.11.14.10.2"
            class="indexterm"></a><a
            id="id-1.11.14.10.3"
            class="indexterm"></a><a
            id="id-1.11.14.10.4"
            class="indexterm"></a><div
            class="para">
				Det neste steget består i å sette opp kjernen etter dine behov. Den nøyaktige fremgangsmåten avhenger av målene.
			</div><div
            class="para">
				Ved rekompilering til en nyere versjon av kjernen (muligens med en ytterligere programfiks), vil oppsettet mest sannsynlig bli holdt så nær som mulig opptil det som er foreslått av Debian. I dette tilfellet, og i stedet for å sette opp alt fra bunnen av, er det tilstrekkelig å kopiere <code
              class="filename">/boot/config-<em
                class="replaceable">version</em></code>-filen (som er versjonen til den kjernen som brukes i dag, som kan finnes med <code
              class="command">uname -r</code>-kommandoen) til en <code
              class="filename">.config</code>-fil i mappen som inneholder kjernekildekoden.
			</div><pre
            class="screen">
<code
              class="computeroutput">$ </code><strong
              class="userinput"><code>cp /boot/config-4.9.0-3-amd64 ~/kernel/linux-source-4.9/.config</code></strong></pre><div
            class="para">
				Hvis du ikke trenger å endre oppsettet, kan du stoppe her og gå til <a
              class="xref"
              href="sect.kernel-compilation.html#sect.kernel-build">Seksjon 8.10.4, «Kompilere og bygge pakken»</a>. Hvis du på den andre siden trenger å endre den, eller hvis du bestemmer deg for å endre oppsettet alt fra bunnen av, må du ta deg tid til å sette opp kjernen. Det finnes ulike egne grensesnitt i kjernens kildekatalog som kan brukes med <code
              class="command">make <em
                class="replaceable">target</em></code>-kommandoen, der <em
              class="replaceable">mål</em> er en av verdiene beskrevet nedenfor.
			</div><div
            class="para">
				<code
              class="command">make menuconfig</code> kompilerer og starter opp et tekst-grensesnitt (det er derfor <span
              class="pkg pkg">libncurses5-dev</span>-pakken er nødvendig) som gjør det mulig å navigere mellom de tilgjengelige alternativene i en hierarkisk struktur. Å trykke på <span
              class="keycap"><strong>Space</strong></span>-tasten endrer verdien for det valgte alternativet, og <span
              class="keycap"><strong>Enter</strong></span> validerer knappen som er valgt nederst på skjermen; <span
              class="guibutton"><strong>Select</strong></span> returnerer til den valgte undermenyen; <span
              class="guibutton"><strong>Exit</strong></span> lukker den aktuelle skjermen og flytter tilbake opp i hierarkiet; <span
              class="guibutton"><strong>Help</strong></span> vil vise mer detaljert informasjon om rollen til det valgte alternativet. Piltastene lar deg flytte rundt i listen over alternativer og knapper. For å gå ut av oppsettsprogrammet velger du <span
              class="guibutton"><strong>Exit</strong></span> fra hovedmenyen. Programmet tilbyr deg så å lagre endringene du har gjort; Godta hvis du er fornøyd med dine valg.
			</div><div
            class="para">
				Andre grensesnitt har lignende funksjoner, men de arbeider innenfor mer moderne grafiske grensesnitt; slik som <code
              class="command">make xconfig</code> som bruker et Qt grafisk brukergrensesnitt, og <code
              class="command">make gconfig</code> som bruker GTK+. Det første krever <span
              class="pkg pkg">libqt4-dev</span>, mens det andre er avhengig av <span
              class="pkg pkg">libglade2-dev</span>, og <span
              class="pkg pkg">libgtk2.0-dev</span>.
			</div><div
            class="para">
				Når du bruker et av disse oppsettsgrensesnittene, er det alltid en god idé å starte fra et fornuftig standardoppsett. Kjernen gir slike oppsett i <code
              class="filename">arch/<em
                class="replaceable">arch</em>/configs/*_defconfig</code>, og du kan sette inn dit valgte oppsett med en kommando som <code
              class="command">make x86_64_defconfig</code> (for en 64-bit PC), eller <code
              class="command">make i386_defconfig</code> (for en 32-bit PC).
			</div><div
            class="sidebar"><div
              class="titlepage"><div><div><p
                    class="title"><strong><span
                        class="emphasis"><em>TIPS</em></span> Å håndtere utdaterte <code
                        class="filename">.config</code>-filer</strong></p></div></div></div><div
              class="para">
				Når du tar hensyn til en <code
                class="filename">.config</code>-fil som er generert med en annen (vanligvis eldre) kjerneversjon, må du oppdatere den. Du kan gjøre det med <code
                class="command">make oldconfig</code>. Den vil interaktivt stille deg spørsmål ut fra valgene i det nye oppsettet. Hvis du vil bruke standardsvaret på alle disse spørsmålene, kan du bruke <code
                class="command">make olddefconfig</code>. Med <code
                class="command">make oldnoconfig</code>, vil den forutsette et negativt svar på alle spørsmål.
			</div></div></div><div
          class="section"><div
            class="titlepage"><div><div><h3
                  class="title"><a
                    id="sect.kernel-build"></a>8.10.4. Kompilere og bygge pakken</h3></div></div></div><a
            id="id-1.11.14.11.2"
            class="indexterm"></a><div
            class="sidebar"><div
              class="titlepage"><div><div><p
                    class="title"><strong><span
                        class="emphasis"><em>MERK</em></span> Opprydding før ombygging</strong></p></div></div></div><div
              class="para">
				Hvis du allerede har kompilert en gang i mappen, og ønsker å bygge alt fra bunnen av (for eksempel fordi du har endret kjerneoppsettet vesentlig), må du kjøre <code
                class="command">make clean</code> for å fjerne de kompilerte filene. <code
                class="command">make distclean</code> fjerner også de mer genererte filene, også medregnet <code
                class="filename">.config</code>-filen, så sørg for å ta backup først.
			</div></div><div
            class="para">
				Når kjerneoppsettet er klart, vil en enkel <code
              class="command">make deb-pkg</code> generere opptil 5 Debian-pakker: <span
              class="pkg pkg">linux-image-<em
                class="replaceable">versjon</em></span> som inneholder kjernebildet med tilhørende moduler, <span
              class="pkg pkg">linux-headers-<em
                class="replaceable">versjon</em></span> som inneholder headerfilene som er nødvendig for å bygge eksterne moduler, <span
              class="pkg pkg">linux-firmware-image-<em
                class="replaceable">versjon</em></span> som inneholder fastvarefilene som trengs av noen drivere (kanskje mangler denne pakken når du bygger fra Debians kildekode), <span
              class="pkg pkg">linux-image-<em
                class="replaceable">versjon</em>-dbg</span> med feilsøkingssymboler for kjernebildet og dets moduler, og <span
              class="pkg pkg">linux-libc-dev</span> som inneholder headere som er aktuelle for noen brukerland-biblioteker slik som GNU glibc.
			</div><div
            class="para">
				<em
              class="replaceable">versjon</em> er definert av sammenkjeding av oppstrøms versjonen (som definert av variablene <code
              class="literal">VERSION</code>, <code
              class="literal">PATCHLEVEL</code>, <code
              class="literal">SUBLEVEL</code>, og <code
              class="literal">EXTRAVERSION</code> i <code
              class="filename">Makefile</code>), fra <code
              class="literal">LOCALVERSION</code>- konfiguasjonsparameteret, og fra <code
              class="literal">LOCALVERSION</code>-miljøvariabel. Pakkeversjonen gjenbruker samme versjonsstreng med en tilføyd revisjon som regelmessig økes (og lagres i <code
              class="filename">.version</code>), bortsett fra hvis du overstyrer den med <code
              class="literal">KDEB_PKGVERSION</code>-miljøvariablen.
			</div><pre
            class="screen"><code
              class="computeroutput">$ </code><strong
              class="userinput"><code>make deb-pkg LOCALVERSION=-falcot KDEB_PKGVERSION=$(make kernelversion)-1
</code></strong><code
              class="computeroutput">[...]
$ </code><strong
              class="userinput"><code>ls ../*.deb
</code></strong><code
              class="computeroutput">../linux-headers-4.9.30-ckt4-falcot_4.9.30-1_amd64.deb
../linux-image-4.9.30-ckt4-falcot_4.9.30-1_amd64.deb
../linux-image-4.9.30-ckt4-falcot-dbg_4.9.30-1_amd64.deb
../linux-libc-dev_4.9.30-1_amd64.deb
</code></pre></div><div
          class="section"><div
            class="titlepage"><div><div><h3
                  class="title"><a
                    id="sect.modules-build"></a>8.10.5. Å kompilere eksterne moduler</h3></div></div></div><a
            id="id-1.11.14.12.2"
            class="indexterm"></a><a
            id="id-1.11.14.12.3"
            class="indexterm"></a><a
            id="id-1.11.14.12.4"
            class="indexterm"></a><div
            class="para">
				Noen moduler er holdt utenfor den offisielle Linux-kjernen. Hvis du vil bruke dem, må de kompileres sammen med den tilhørende kjernen. En rekke vanlige tredjepartsmoduler leveres av Debian i egne pakker, for eksempel <span
              class="pkg pkg">xtables-addons-source</span> (ekstra moduler for iptables), eller <span
              class="pkg pkg">oss4-source</span> (Open Sound System, noen alternative lyd-drivere).
			</div><div
            class="para">
				Disse eksterne pakkene er mange og varierte, og vi vil ikke liste dem alle her. Med <code
              class="command">apt-cache search source$</code>-kommandoen kan innskrenke søkeområdet. Imidlertid er en komplett liste ikke spesielt nyttig siden det ikke er noen spesiell grunn for å kompilere eksterne moduler, unntatt når du vet at du trenger det. I slike tilfeller vil enhetens dokumentasjon vanligvis gi detaljene for de spesifikke modulen(e) det er behov for, for å virke under Linux.
			</div><div
            class="para">
				La oss for eksempel se på <span
              class="pkg pkg">xtables-addons-source</span>-pakken: Etter installasjonen, blir en <code
              class="filename">.tar.bz2</code> fra modulens kildekode lagret i <code
              class="filename">/usr/src/</code>. Mens vi manuelt kan trekke ut tar-pakken (tarball) og bygge modulen, foretrekker vi i praksis å automatisere alt dette ved hjelp av DKMS. De fleste moduler gir den nødvendige DKMS-integrering i en pakke som slutter med en <code
              class="literal">-dkms</code>-endelse. I vårt tilfelle er å installere <span
              class="pkg pkg">xtables-addons-dkms</span> alt som trengs for å kompilere kjernemodulen til den nåværende kjernen, forutsatt at vi har <span
              class="pkg pkg">linux-headers-*</span>-pakken som samsvarer med den installerte kjernen. For eksempel, hvis du bruker <span
              class="pkg pkg">linux-image-amd64</span>, ville du også installere <span
              class="pkg pkg">linux-headers-amd64</span>.
			</div><pre
            class="screen">
<code
              class="computeroutput">$ </code><strong
              class="userinput"><code>sudo apt install xtables-addons-dkms</code></strong>
<code
              class="computeroutput">
[...]
Setting up xtables-addons-dkms (2.12-0.1) ...
Loading new xtables-addons-2.12 DKMS files...
Building for 4.9.0-3-amd64
Building initial module for 4.9.0-3-amd64
Done.

xt_ACCOUNT:
Running module version sanity check.
 - Original module
   - No original module exists within this kernel
 - Installation
   - Installing to /lib/modules/4.9.0-3-amd64/updates/dkms/
[...]
DKMS: install completed.
$ </code><strong
              class="userinput"><code>sudo dkms status</code></strong>
<code
              class="computeroutput">xtables-addons, 2.12, 4.9.0-3-amd64, x86_64: installed
$ </code><strong
              class="userinput"><code>sudo modinfo xt_ACCOUNT</code></strong>
<code
              class="computeroutput">filename:       /lib/modules/4.9.0-3-amd64/updates/dkms/xt_ACCOUNT.ko
license:        GPL
alias:          ipt_ACCOUNT
author:         Intra2net AG &lt;opensource@intra2net.com&gt;
description:    Xtables: per-IP accounting for large prefixes
[...]
</code></pre><div
            class="sidebar"><div
              class="titlepage"><div><div><p
                    class="title"><strong><span
                        class="emphasis"><em>ALTERNATIV </em></span> modul-assistent</strong></p></div></div></div><a
              id="id-1.11.14.12.9.2"
              class="indexterm"></a><div
              class="para">
				Før DKMS var <span
                class="pkg pkg">module-assistant</span> den enkleste løsningen å bygge og distribuere kjernemoduler. Det kan fortsatt gjøres, spesielt for pakker som mangler DKMS-integrering: Med en enkel kommando som <code
                class="command">module-assistant auto-install xtables-addons</code> (eller <code
                class="command">m-a a-i xtables-addons</code> i korthet), er modulene kompilert for den gjeldende kjernen, satt inn i en ny Debian-pakke, og så blir denne pakken installert umiddelbart.
			</div></div></div><div
          class="section"><div
            class="titlepage"><div><div><h3
                  class="title"><a
                    id="sect.kernel-patch"></a>8.10.6. Å bruke en kjernefiks</h3></div></div></div><a
            id="id-1.11.14.13.2"
            class="indexterm"></a><a
            id="id-1.11.14.13.3"
            class="indexterm"></a><div
            class="para">
				Enkelte funksjoner er ikke inkludert i standard-kjernen på grunn av mangel på modenhet, eller noe uenighet mellom vedlikeholdere av kjernen. Slike funksjoner kan deles ut som programfikser som man så fritt kan anvende i kildekoden.
			</div><div
            class="para">
				Debian sometimes provides some of these patches in <span
              class="pkg pkg">linux-patch-*</span> packages but they often don't make it into stable releases (sometimes for the very same reasons that they are not merged into the official upstream kernel). These packages install files in the <code
              class="filename">/usr/src/kernel-patches/</code> directory.
			</div><div
            class="para">
				Hvis du vil bruke en eller flere av disse installerte programfikser, bruker du <code
              class="command">patch</code>-kommandoen i kildekatalogen, og starter deretter kompilering av kjernen som beskrevet ovenfor.
			</div><pre
            class="screen">
<code
              class="computeroutput">$ </code><strong
              class="userinput"><code>cd ~/kernel/linux-source-4.9</code></strong>
<code
              class="computeroutput">$ </code><strong
              class="userinput"><code>make clean</code></strong>
<code
              class="computeroutput">$ </code><strong
              class="userinput"><code>zcat /usr/src/kernel-patches/diffs/grsecurity2/grsecurity-3.1-4.9.11-201702181444.patch.gz | patch -p1</code></strong></pre><div
            class="para">
				Merk at en gitt programfiks kanskje ikke nødvendigvis fungerer med alle versjoner av kjernen; Det er mulig for <code
              class="command">patch</code> å mislykkes når du bruker dem til kildekode. En feilmelding vises, og gir noen detaljer om feilen. I dette tilfellet kan du se om dokumentasjonen om denne oppdateringen er tilgjengelig i Debian-pakken (i <code
              class="filename">/usr/share/doc/linux-patch-*/</code> directory). I de fleste tilfeller indikerer vedlikeholderen hvilke kjerneversjoner som programfiksen er tiltenkt.
			</div></div></div><ul
        class="docnav"><li
          class="previous"><a
            accesskey="p"
            href="sect.config-misc.html"><strong>Forrige</strong>8.9. Andre oppsett: Synkronisering av tid, logger...</a></li><li
          class="up"><a
            accesskey="u"
            href="#"><strong>Opp</strong></a></li><li
          class="home"><a
            accesskey="h"
            href="index.html"><strong>Hjem</strong></a></li><li
          class="next"><a
            accesskey="n"
            href="sect.kernel-installation.html"><strong>Neste</strong>8.11. Å installere en kjerne</a></li></ul><div
        id="translated_pages"><ul><li><a
              href="../ar-MA/sect.kernel-compilation.html">ar-MA</a></li><li><a
              href="../da-DK/sect.kernel-compilation.html">da-DK</a></li><li><a
              href="../de-DE/sect.kernel-compilation.html">de-DE</a></li><li><a
              href="../el-GR/sect.kernel-compilation.html">el-GR</a></li><li><a
              href="../en-US/sect.kernel-compilation.html">en-US</a></li><li><a
              href="../es-ES/sect.kernel-compilation.html">es-ES</a></li><li><a
              href="../fa-IR/sect.kernel-compilation.html">fa-IR</a></li><li><a
              href="../fr-FR/sect.kernel-compilation.html">fr-FR</a></li><li><a
              href="../hr-HR/sect.kernel-compilation.html">hr-HR</a></li><li><a
              href="../id-ID/sect.kernel-compilation.html">id-ID</a></li><li><a
              href="../it-IT/sect.kernel-compilation.html">it-IT</a></li><li><a
              href="../ja-JP/sect.kernel-compilation.html">ja-JP</a></li><li><a
              href="../ko-KR/sect.kernel-compilation.html">ko-KR</a></li><li><a
              href="../nb-NO/sect.kernel-compilation.html">nb-NO</a></li><li><a
              href="../pl-PL/sect.kernel-compilation.html">pl-PL</a></li><li><a
              href="../pt-BR/sect.kernel-compilation.html">pt-BR</a></li><li><a
              href="../ro-RO/sect.kernel-compilation.html">ro-RO</a></li><li><a
              href="../ru-RU/sect.kernel-compilation.html">ru-RU</a></li><li><a
              href="../tr-TR/sect.kernel-compilation.html">tr-TR</a></li><li><a
              href="../vi-VN/sect.kernel-compilation.html">vi-VN</a></li><li><a
              href="../zh-CN/sect.kernel-compilation.html">zh-CN</a></li><li><a
              href="../zh-TW/sect.kernel-compilation.html">zh-TW</a></li></ul></div></body></html>
