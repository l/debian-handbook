<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html
    xmlns="http://www.w3.org/1999/xhtml"><head><meta
        http-equiv="Content-Type"
        content="text/html; charset=UTF-8" /><title
        xmlns:d="http://docbook.org/ns/docbook">Kapittel 5. Pakkesystem: Verktøy og grunnleggende prinsipper</title><link
        rel="stylesheet"
        type="text/css"
        href="Common_Content/css/default.css" /><link
        rel="stylesheet"
        media="print"
        href="Common_Content/css/print.css"
        type="text/css" /><meta
        xmlns:d="http://docbook.org/ns/docbook"
        name="generator"
        content="publican v4.3.2" /><meta
        xmlns:d="http://docbook.org/ns/docbook"
        name="package"
        content="Debian-debian-handbook-8-nb-NO-1.0-1" /><meta
        name="keywords"
        content="Binærpakke, Kildepakke, dpkg, avhengigheter, konflikt" /><link
        rel="home"
        href="index.html"
        title="Debian-administratorens håndbok" /><link
        rel="up"
        href="index.html"
        title="Debian-administratorens håndbok" /><link
        rel="prev"
        href="sect.after-first-boot.html"
        title="4.3. Etter den første oppstarten" /><link
        rel="next"
        href="sect.package-meta-information.html"
        title="5.2. Meta pakkeinformasjon" /><meta
        name="viewport"
        content="width=device-width, initial-scale=1" /><link
        rel="canonical"
        href="http://l.github.io/debian-handbook/html/nb-NO/packaging-system.html" /></head><body><noscript><iframe
          src="//www.googletagmanager.com/ns.html?id=GTM-5H35QX"
          height="0"
          width="0"
          style="display:none;visibility:hidden"></iframe></noscript><script
        type="text/javascript">(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
j=d.createElement(s),dl=l!='dataLayer'?'&amp;l='+l:'';j.async=true;j.src=
'//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
})(window,document,'script','dataLayer','GTM-5H35QX');</script><div
        id="banner"><a
          href="../../"><span
            class="text">Download the ebook</span></a></div><p
        id="title"><a
          class="left"
          href="http://www.debian.org"><img
            alt="Product Site"
            src="Common_Content/images//image_left.png" /></a><a
          class="right"
          href="index.html"><img
            alt="Documentation Site"
            src="Common_Content/images//image_right.png" /></a></p><ul
        class="docnav top"><li
          class="previous"><a
            accesskey="p"
            href="sect.after-first-boot.html"><strong>Forrige</strong></a></li><li
          class="home">Debian-administratorens håndbok</li><li
          class="next"><a
            accesskey="n"
            href="sect.package-meta-information.html"><strong>Neste</strong></a></li></ul><div
        xml:lang="nb-NO"
        class="chapter"
        lang="nb-NO"><div
          class="titlepage"><div><div><h1
                class="title"><a
                  id="packaging-system"></a>Kapittel 5. Pakkesystem: Verktøy og grunnleggende prinsipper</h1></div></div></div><div
          class="toc"><dl
            class="toc"><dt><span
                class="section"><a
                  href="packaging-system.html#sect.binary-package-structure">5.1. Binær pakkestruktur</a></span></dt><dt><span
                class="section"><a
                  href="sect.package-meta-information.html">5.2. Meta pakkeinformasjon</a></span></dt><dd><dl><dt><span
                    class="section"><a
                      href="sect.package-meta-information.html#sect.control">5.2.1. Bekrivelse; <code
                        class="filename">kontroll</code>-filen</a></span></dt><dt><span
                    class="section"><a
                      href="sect.package-meta-information.html#sect.configuration-scripts">5.2.2. Konfigurasjonsskript</a></span></dt><dt><span
                    class="section"><a
                      href="sect.package-meta-information.html#sect.conffiles">5.2.3. Checksums, Liste med konfiguasjonsfiler</a></span></dt></dl></dd><dt><span
                class="section"><a
                  href="sect.source-package-structure.html">5.3. Kildepakkens struktur</a></span></dt><dd><dl><dt><span
                    class="section"><a
                      href="sect.source-package-structure.html#id-1.8.7.4">5.3.1. Format</a></span></dt><dt><span
                    class="section"><a
                      href="sect.source-package-structure.html#id-1.8.7.5">5.3.2. Bruk i Debian</a></span></dt></dl></dd><dt><span
                class="section"><a
                  href="sect.manipulating-packages-with-dpkg.html">5.4. Behandle pakker med <code
                    class="command">dpkg</code></a></span></dt><dd><dl><dt><span
                    class="section"><a
                      href="sect.manipulating-packages-with-dpkg.html#id-1.8.8.5">5.4.1. Å installere pakker</a></span></dt><dt><span
                    class="section"><a
                      href="sect.manipulating-packages-with-dpkg.html#id-1.8.8.6">5.4.2. Fjerning av pakke</a></span></dt><dt><span
                    class="section"><a
                      href="sect.manipulating-packages-with-dpkg.html#id-1.8.8.7">5.4.3. Spørre databasen til <code
                        class="command">dpkg</code>, og inspisere <code
                        class="filename">.deb</code>-filer</a></span></dt><dt><span
                    class="section"><a
                      href="sect.manipulating-packages-with-dpkg.html#id-1.8.8.8">5.4.4. <code
                        class="command">dpkg</code>'s loggfil</a></span></dt><dt><span
                    class="section"><a
                      href="sect.manipulating-packages-with-dpkg.html#sect.multi-arch">5.4.5. Støtte for multiarkitektur</a></span></dt></dl></dd><dt><span
                class="section"><a
                  href="sect.coexistence-with-other-packaging-systems.html">5.5. Sameksistens med andre pakkesystemer</a></span></dt></dl></div><div
          class="highlights"><div
            class="para">
		Som en Debian systemadministrator, vil du rutinemessig håndtere <code
              class="filename">.deb</code>-pakker, siden de inneholder konsistente funksjonelle enheter (programmer, dokumentasjon, etc.), som gjør installasjon og vedlikehold mulig. Det er derfor en god idé å vite hva de er, og hvordan du bruker dem.
	</div></div><div
          class="para">
		Dette kapitlet beskriver strukturen og innholdet av «binære»- og «kilde»-pakker. De første er <code
            class="filename">.deb</code>-filer, som kan brukes direkte av <code
            class="command">dpkg</code>, mens sistnevnte inneholder kildekoden, så vel som instruksjoner for å bygge binære pakker.
	</div><div
          class="section"><div
            class="titlepage"><div><div><h2
                  class="title"><a
                    id="sect.binary-package-structure"></a>5.1. Binær pakkestruktur</h2></div></div></div><a
            id="id-1.8.5.2"
            class="indexterm"></a><a
            id="id-1.8.5.3"
            class="indexterm"></a><div
            class="para">
			Debian pakkeformat er utformet slik at innholdet kan pakkes ut i et Unix-system som har de klassiske kommandoer <code
              class="command">ar</code>, <code
              class="command">tar</code>, og <code
              class="command">gzip</code> (sometimes <code
              class="command">xz</code>, eller <code
              class="command">bzip2</code>). Denne tilsynelatende trivielle egenskapen er viktig for overførbarhet og gjenoppretting etter alvorlige uhell.
		</div><div
            class="para">
			Forestill deg, for eksempel, at du ved en feil har slettet <code
              class="command">dpkg</code>-programmet, og at du ikke lenger kunne installere Debian-pakker. Ettersom <code
              class="command">dpkg</code> selv er en Debian-pakke, ville det virke som om det var gjort for systemet ditt ... Heldigvis vet du formatet for en pakke, og kan derfor laste ned <code
              class="filename">.deb</code>-filen til <span
              class="pkg pkg">dpkg</span>-pakken, og installere den manuelt (se sidemeny <a
              class="xref"
              href="packaging-system.html#sidebar.dpkg-apt-ar"><span
                class="emphasis"><em>VERKTØY</em></span> <code
                class="command">dpkg</code>, <code
                class="command">APT</code>, og <code
                class="command">ar</code></a>). Hvis, ved et uhell, en eller flere av programmene <code
              class="command">ar</code>, <code
              class="command">tar</code> eller <code
              class="command">gzip</code>/<code
              class="command">xz</code>/<code
              class="command">bzip2</code> har forsvunnet, trenger du bare å kopiere det manglende programmet fra et annet system (siden hver av disse opererer helt selvstendig, uten avhengigheter, er en enkel kopi tilstrekkelig). Hvis systemet møter en enda mer uheldig skjebne, slik at selv disse ikke fungerer (kanskje de dypeste systembiblioteker mangler?), skal du prøve den statiske versjonen av <code
              class="command">busybox</code> (fremskaffet fra <span
              class="pkg pkg">busybox-static</span>-pakken), som er enda mer selvstendig, og gir delkommandoer som <code
              class="command">busybox ar</code>, <code
              class="command">busybox tar</code> og <code
              class="command">busybox gunzip</code>.
		</div><div
            class="sidebar"><a
              id="sidebar.dpkg-apt-ar"></a><div
              class="titlepage"><div><div><p
                    class="title"><strong><span
                        class="emphasis"><em>VERKTØY</em></span> <code
                        class="command">dpkg</code>, <code
                        class="command">APT</code>, og <code
                        class="command">ar</code></strong></p></div></div></div><a
              id="id-1.8.5.6.2"
              class="indexterm"></a><a
              id="id-1.8.5.6.3"
              class="indexterm"></a><a
              id="id-1.8.5.6.4"
              class="indexterm"></a><div
              class="para">
			<code
                class="command">dpkg</code> er programmet som håndterer <code
                class="filename">.deb</code>-filer, og spesielt pakker ut, analyserer og åpner dem.
		</div><div
              class="para">
			<code
                class="command">APT</code> er en gruppe av programmer som tillater utførelsen av høyere-nivå modifikasjoner i systemet: Installerer eller fjerner en pakke (mens du har kontroll på avhengighetene), oppdatering av systemet, en liste over de tilgjengelige pakkene, etc.
		</div><a
              id="id-1.8.5.6.7"
              class="indexterm"></a><div
              class="para">
			As for the <code
                class="command">ar</code> program, it allows handling files of the same name: <code
                class="command">ar t <em
                  class="replaceable">archive</em></code> displays the list of files contained in such an archive, <code
                class="command">ar x <em
                  class="replaceable">archive</em></code> extracts the files from the archive into the current working directory, <code
                class="command">ar d <em
                  class="replaceable">archive</em> <em
                  class="replaceable">file</em></code> deletes a file from the archive, etc. Its man page (<span
                class="citerefentry"><span
                  class="refentrytitle">ar</span>(1)</span>) documents all its other features. <code
                class="command">ar</code> is a very rudimentary tool that a Unix administrator would only use on rare occasions, but admins routinely use <code
                class="command">tar</code>, a more evolved archive and file management program. This is why it is easy to restore <code
                class="command">dpkg</code> in the event of an erroneous deletion. You would only have to download the Debian package and extract the content from the <code
                class="filename">data.tar.gz</code> archive in the system's root (<code
                class="filename">/</code>):
		</div><pre
              class="screen">
<code
                class="computeroutput"># </code><strong
                class="userinput"><code>ar x dpkg_1.17.23_amd64.deb</code></strong>
<code
                class="computeroutput"># </code><strong
                class="userinput"><code>tar -C / -p -xzf data.tar.gz</code></strong></pre></div><div
            class="sidebar"><div
              class="titlepage"><div><div><p
                    class="title"><strong><span
                        class="emphasis"><em>DET GRUNNLEGGENDE</em></span> Manualsideformattering</strong></p></div></div></div><div
              class="para">
			Det kan være forvirrende for nybegynnere å finne referanser til “<span
                class="citerefentry"><span
                  class="refentrytitle">ar</span>(1)</span>” i litteraturen. Det er generelt en beleilig måte å vise til en man-side med tittelen <code
                class="literal">ar</code> i seksjon 1.
		</div><div
              class="para">
			Noen ganger er denne merknaden også benyttet til å fjerne uklarheter, for eksempel å skille mellom <code
                class="command">printf</code>-kommandoen, som også kan indikeres av <span
                class="citerefentry"><span
                  class="refentrytitle">printf</span>(1)</span> og <code
                class="function">printf</code>-funksjonen i programspråket C, som også kan bli vist til som <span
                class="citerefentry"><span
                  class="refentrytitle">printf</span>(3)</span>.
		</div><div
              class="para">
			<a
                class="xref"
                href="solving-problems.html">Kapittel 7, <em>Å løse problemer og finne relevant informasjon</em></a> drøfter manuelle sider i større detalj (se <a
                class="xref"
                href="solving-problems.html#sect.manual-pages">Seksjon 7.1.1, «Manuelle sider»</a>).
		</div></div><div
            class="para">
			Kast et blikk på innholdet i en <code
              class="filename">.deb</code>-fil:
		</div><pre
            class="screen"><code
              class="computeroutput">$ </code><strong
              class="userinput"><code>ar t dpkg_1.17.23_amd64.deb</code></strong>
<code
              class="computeroutput">debian-binary
control.tar.gz
data.tar.gz
$ </code><strong
              class="userinput"><code>ar x dpkg_1.17.23_amd64.deb</code></strong>
<code
              class="computeroutput">$ </code><strong
              class="userinput"><code>ls</code></strong>
<code
              class="computeroutput">control.tar.gz  data.tar.gz  debian-binary  dpkg_1.17.23_amd64.deb
$ </code><strong
              class="userinput"><code>tar tzf data.tar.gz | head -n 15</code></strong>
<code
              class="computeroutput">./
./var/
./var/lib/
./var/lib/dpkg/
./var/lib/dpkg/parts/
./var/lib/dpkg/info/
./var/lib/dpkg/alternatives/
./var/lib/dpkg/updates/
./etc/
./etc/logrotate.d/
./etc/logrotate.d/dpkg
./etc/dpkg/
./etc/dpkg/dpkg.cfg.d/
./etc/dpkg/dpkg.cfg
./etc/alternatives/
$ </code><strong
              class="userinput"><code>tar tzf control.tar.gz</code></strong>
<code
              class="computeroutput">./
./conffiles
./postinst
./md5sums
./prerm
./preinst
./control
./postrm
$ </code><strong
              class="userinput"><code>cat debian-binary</code></strong>
<code
              class="computeroutput">2.0</code></pre><div
            class="para">
			Som du kan se, <code
              class="command">ar</code>-arkivet i en Debian-pakke omfattes av tre filer:
		</div><div
            xmlns:d="http://docbook.org/ns/docbook"
            class="itemizedlist"><ul><li
                class="listitem"><div
                  class="para">
					<code
                    class="filename">debian-binary</code>. Dette er en tekstfil som i enkelhet indikerer versjonen av den benyttede <code
                    class="filename">.deb</code>-filen (i 2015: versjon 2.0).
				</div></li><li
                class="listitem"><div
                  class="para">
					<code
                    class="filename">control.tar.gz</code>. Denne arkivfilen inneholder all tilgjengelig meta-informasjon, som navn og pakkens versjon. Noe av denne meta-informasjonen tillater pakkehåndteringsverktøyene å fastslå om det er mulig å installere eller avinstallere den, for eksempel ut fra listen over pakker som allerede er på maskinen.
				</div></li><li
                class="listitem"><div
                  class="para">
					<code
                    class="filename">data.tar.gz</code>. Dette arkivet inneholder alle filene i pakken som kan pakkes ut. Dette er der kjørbare filer, dokumentasjon, etc., alle er lagret. Noen pakker kan bruke andre komprimeringsformater, og da filen vil bli navngitt annerledes (<code
                    class="filename">data.tar.bz2</code> for bzip2, <code
                    class="filename">data.tar.xz</code> for XZ).
				</div></li></ul></div></div></div><ul
        class="docnav"><li
          class="previous"><a
            accesskey="p"
            href="sect.after-first-boot.html"><strong>Forrige</strong>4.3. Etter den første oppstarten</a></li><li
          class="up"><a
            accesskey="u"
            href="#"><strong>Opp</strong></a></li><li
          class="home"><a
            accesskey="h"
            href="index.html"><strong>Hjem</strong></a></li><li
          class="next"><a
            accesskey="n"
            href="sect.package-meta-information.html"><strong>Neste</strong>5.2. Meta pakkeinformasjon</a></li></ul><div
        id="translated_pages"><ul><li><a
              href="../ar-MA/packaging-system.html">ar-MA</a></li><li><a
              href="../da-DK/packaging-system.html">da-DK</a></li><li><a
              href="../de-DE/packaging-system.html">de-DE</a></li><li><a
              href="../el-GR/packaging-system.html">el-GR</a></li><li><a
              href="../en-US/packaging-system.html">en-US</a></li><li><a
              href="../es-ES/packaging-system.html">es-ES</a></li><li><a
              href="../fa-IR/packaging-system.html">fa-IR</a></li><li><a
              href="../fr-FR/packaging-system.html">fr-FR</a></li><li><a
              href="../hr-HR/packaging-system.html">hr-HR</a></li><li><a
              href="../id-ID/packaging-system.html">id-ID</a></li><li><a
              href="../it-IT/packaging-system.html">it-IT</a></li><li><a
              href="../ja-JP/packaging-system.html">ja-JP</a></li><li><a
              href="../ko-KR/packaging-system.html">ko-KR</a></li><li><a
              href="../nb-NO/packaging-system.html">nb-NO</a></li><li><a
              href="../pl-PL/packaging-system.html">pl-PL</a></li><li><a
              href="../pt-BR/packaging-system.html">pt-BR</a></li><li><a
              href="../ro-RO/packaging-system.html">ro-RO</a></li><li><a
              href="../ru-RU/packaging-system.html">ru-RU</a></li><li><a
              href="../tr-TR/packaging-system.html">tr-TR</a></li><li><a
              href="../vi-VN/packaging-system.html">vi-VN</a></li><li><a
              href="../zh-CN/packaging-system.html">zh-CN</a></li><li><a
              href="../zh-TW/packaging-system.html">zh-TW</a></li></ul></div></body></html>
