<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html
    xmlns="http://www.w3.org/1999/xhtml"><head><meta
        http-equiv="Content-Type"
        content="text/html; charset=UTF-8" /><title
        xmlns:d="http://docbook.org/ns/docbook">5.3. Kildepakkens struktur</title><link
        rel="stylesheet"
        type="text/css"
        href="Common_Content/css/default.css" /><link
        rel="stylesheet"
        media="print"
        href="Common_Content/css/print.css"
        type="text/css" /><meta
        xmlns:d="http://docbook.org/ns/docbook"
        name="generator"
        content="publican v4.3.2" /><meta
        xmlns:d="http://docbook.org/ns/docbook"
        name="package"
        content="Debian-debian-handbook-9-nb-NO-1.0-1" /><meta
        name="keywords"
        content="Binærpakke, Kildepakke, dpkg, avhengigheter, konflikt" /><link
        rel="home"
        href="index.html"
        title="Håndbok for Debian-administratoren" /><link
        rel="up"
        href="packaging-system.html"
        title="Kapittel 5. Pakkesystem: Verktøy og grunnleggende prinsipper" /><link
        rel="prev"
        href="sect.package-meta-information.html"
        title="5.2. Meta pakkeinformasjon" /><link
        rel="next"
        href="sect.manipulating-packages-with-dpkg.html"
        title="5.4. Behandle pakker med dpkg" /><meta
        name="viewport"
        content="width=device-width, initial-scale=1" /><meta
        name="flattr:id"
        content="4pz9jq" /><link
        rel="canonical"
        href="http://l.github.io/debian-handbook/html/nb-NO/sect.source-package-structure.html" /></head><body><noscript><iframe
          src="//www.googletagmanager.com/ns.html?id=GTM-5H35QX"
          height="0"
          width="0"
          style="display:none;visibility:hidden"></iframe></noscript><script
        type="text/javascript">(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
j=d.createElement(s),dl=l!='dataLayer'?'&amp;l='+l:'';j.async=true;j.src=
'//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
})(window,document,'script','dataLayer','GTM-5H35QX');</script><div
        id="banner"><a
          href="../../"><span
            class="text">Download the ebook</span></a></div><p
        id="title"><a
          class="left"
          href="http://www.debian.org"><img
            alt="Product Site"
            src="Common_Content/images//image_left.png" /></a><a
          class="right"
          href="index.html"><img
            alt="Documentation Site"
            src="Common_Content/images//image_right.png" /></a></p><ul
        class="docnav top"><li
          class="previous"><a
            accesskey="p"
            href="sect.package-meta-information.html"><strong>Forrige</strong></a></li><li
          class="home">Håndbok for Debian-administratoren</li><li
          class="next"><a
            accesskey="n"
            href="sect.manipulating-packages-with-dpkg.html"><strong>Neste</strong></a></li></ul><div
        class="section"><div
          class="titlepage"><div><div><h2
                class="title"><a
                  id="sect.source-package-structure"></a>5.3. Kildepakkens struktur</h2></div></div></div><a
          id="id-1.8.7.2"
          class="indexterm"></a><a
          id="id-1.8.7.3"
          class="indexterm"></a><div
          class="section"><div
            class="titlepage"><div><div><h3
                  class="title"><a
                    id="id-1.8.7.4"></a>5.3.1. Format</h3></div></div></div><a
            id="id-1.8.7.4.2"
            class="indexterm"></a><a
            id="id-1.8.7.4.3"
            class="indexterm"></a><a
            id="id-1.8.7.4.4"
            class="indexterm"></a><a
            id="id-1.8.7.4.5"
            class="indexterm"></a><div
            class="para">
				En kildepakke består vanligvis av tre filer: En <code
              class="filename">.dsc</code>, en <code
              class="filename">.orig.tar.gz</code>, og en <code
              class="filename">.debian.tar.gz</code> (eller <code
              class="filename">.diff.gz</code>). De tillater at det lages binære pakker (<code
              class="filename">.deb</code> filer beskrevet ovenfor) fra programmets kildekodefiler skrevet i et programmeringsspråk.
			</div><div
            class="para">
				<code
              class="filename">.dsc</code> (Debian Source Control)-filen er en tekstfil som inneholder et RFC 2822 filhode (lik <code
              class="filename">control</code>-filen gjennomgått i <a
              class="xref"
              href="sect.package-meta-information.html#sect.control">Seksjon 5.2.1, «Bekrivelse; <code
                class="filename">kontroll</code>-filen»</a>) som beskriver kildepakken og angir hvilke andre filer som inngår. Det er signert av sin vedlikeholder, som garanterer for ektheten. Se <a
              class="xref"
              href="sect.package-authentication.html">Seksjon 6.5, «Sjekking av pakkeautensitet»</a> for flere detaljer om dette temaet.
			</div><div
            class="example"><a
              id="id-1.8.7.4.8"></a><p
              class="title"><strong>Eksempel 5.1. En <code
                  class="filename">.dsc</code>-fil</strong></p><div
              class="example-contents"><pre
                class="programlisting">
-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA256

Format: 3.0 (quilt)
Source: zim
Binary: zim
Architecture: all
Version: 0.62-3
Maintainer: Emfox Zhou &lt;emfox@debian.org&gt;
Uploaders: Raphaël Hertzog &lt;hertzog@debian.org&gt;
Homepage: http://zim-wiki.org
Standards-Version: 3.9.6
Vcs-Browser: http://anonscm.debian.org/gitweb/?p=collab-maint/zim.git
Vcs-Git: git://anonscm.debian.org/collab-maint/zim.git
Build-Depends: debhelper (&gt;= 9), xdg-utils, python (&gt;= 2.6.6-3~), libgtk2.0-0 (&gt;= 2.6), python-gtk2, python-xdg
Package-List:
 zim deb x11 optional arch=all
Checksums-Sha1:
 ad8de170826682323c10195b65b9f1243fd75637 1772246 zim_0.62.orig.tar.gz
 a4f70d6f7fb404022c9cc4870a4e62ea3ca08388 14768 zim_0.62-3.debian.tar.xz
Checksums-Sha256:
 19d62aebd2c1a92d84d80720c6c1dcdb779c39a2120468fed01b7f252511bdc2 1772246 zim_0.62.orig.tar.gz
 fc2e827e83897d5e33f152f124802c46c3c01c5158b75a8275a27833f1f6f1de 14768 zim_0.62-3.debian.tar.xz
Files:
 43419efba07f7086168442e3d698287a 1772246 zim_0.62.orig.tar.gz
 725a69663a6c2961f07673ae541298e4 14768 zim_0.62-3.debian.tar.xz

-----BEGIN PGP SIGNATURE-----
Version: GnuPG v2
Comment: Signed by Raphael Hertzog

iQEcBAEBCAAGBQJUR2jqAAoJEAOIHavrwpq5WFcH/RsdzCHc1oXXxHitU23hEqMj
T6ok29M1UFDJDowMXW75jQ1nT4WPUtvEGygkCHeoO/PvjEvB0sjU8GQlX+N9ddSB
aHfqfAYmVhADNGxrXQT5inZXUa8qGeeq2Sqf6YcWtsnuD56lDbvxkyf/XYopoIEl
oltfl05z/AI+vYsW482YrCz0fxNAKAvkyuPhDebYI8jnKWeAANoqmKpsNc/HYyvT
+ZiA5o57OiGdOKT6XGy3/FiF3dkHiRY8lXW7xdr1BbIgulwl9UmiUNwuxwOYbQO7
edtjiTJqOaFUA0x1zB/XGv5tHr1MjP8naT+kfVoVHTOox51CDbeu5D3DZY4imcY=
=Wtoa
-----END PGP SIGNATURE-----</pre></div></div><a
            id="id-1.8.7.4.9"
            class="indexterm"></a><div
            class="para">
				Merk at kildepakken også har avhengigheter (<code
              class="literal">Build-Depends</code>) helt forskjellige fra de binære pakkenes, fordi de indikerer verktøy som kreves til å kompilere den programvaren det gjelder og lager binærpakken dens.
			</div><div
            class="sidebar"><div
              class="titlepage"><div><div><p
                    class="title"><strong><span
                        class="emphasis"><em>FORSIKTIG</em></span> Tydelige navnerom</strong></p></div></div></div><div
              class="para">
				Her er det viktig å merke seg at det ikke kreves samsvar mellom navnet til kildepakken og på den binære pakken(e) som den genererer. Det er lett nok å forstå hvis du vet at hver kildepakke kan generere flere binære pakker. Dette er grunnen til at <code
                class="filename">.dsc</code>-filen har <code
                class="literal">Source</code> og <code
                class="literal">Binary</code>-feltene til eksplisitt å navngi kildepakken og lagre listen med binærpakkene som den genererer.
			</div></div><div
            class="sidebar"><div
              class="titlepage"><div><div><p
                    class="title"><strong><span
                        class="emphasis"><em>KULTUR</em></span> Hvorfor dele opp i flere pakker</strong></p></div></div></div><div
              class="para">
				Ganske ofte, kan en kildepakke (for en gitt programvare) generere flere binære pakker. Oppsplittingen er begrunnet i muligheten til å bruke (deler av) programvaren i ulike sammenhenger. Betraktet som et delt bibliotek, kan den være installert for å få et program til å virke (for eksempel, <span
                class="pkg pkg">libc6</span>), eller den kan installeres for å lage et nytt program (<span
                class="pkg pkg">libc6-dev</span> vil da være den riktige pakken). Vi finner den samme logikken for klient/server-tjenester der vi ønsker å installere serverdelen på en maskin og klientdelen på andre (dette er tilfelle, for eksempel for <span
                class="pkg pkg">openssh-server</span> og <span
                class="pkg pkg">openssh-client</span>).
			</div><div
              class="para">
				Like ofte, når dokumentasjonen er levert i en egen pakke: kan brukeren installere den uavhengig av programvare, og kan når som helst velge å fjerne den for å spare lagringsplass. I tillegg sparer dette også plass på Debian-speilene, ettersom dokumentasjonspakken deles mellom alle arkitekturer (i stedet for å ha dokumentasjonen duplisert i pakkene for hver enkelt arkitektur).
			</div></div><div
            class="sidebar"><div
              class="titlepage"><div><div><p
                    class="title"><strong><span
                        class="emphasis"><em>PERSPEKTIV</em></span> Ulike kilde-pakkeformater</strong></p></div></div></div><div
              class="para">
				Orginalt var det bare ett kildepakkeformat. Det er <code
                class="literal">1.0</code>-formatet, som knytter et <code
                class="filename">.orig.tar.gz</code>-arkiv til et <code
                class="filename">.diff.gz</code>-«debianiserings»-skript (det er også en variant, som består av et enkelt <code
                class="filename">.tar.gz</code>-arkiv, som brukes automatisk hvis ikke <code
                class="filename">.orig.tar.gz</code> er tilgjengelig).
			</div><div
              class="para">
				Etter Debian <span
                class="distribution distribution">Squeeze</span>, har Debian-utviklere mulighet til å bruke nye formater som korrigerer for mange problemer i det gamle formatet. Formatet <code
                class="literal">3.0 (quilt)</code> kan kombinere ulike oppstrøms arkiver i den samme kildepakken: I tillegg til det vanlige <code
                class="filename">.orig.tar.gz</code>, kan i tillegg <code
                class="filename">.orig-<em
                  class="replaceable">kommponent</em>.tar.gz</code>-katalogene bli inkludert. Dette er nyttig med programvare som er fordelt på flere oppstrøms komponenter, men hvor en enkelt kildepakke er ønskelig. Disse arkivene kan også komprimeres med <code
                class="command">bzip2</code>, eller <code
                class="command">xz</code> heller enn <code
                class="command">gzip</code>, som sparer lagringsplass og nettverksressurser. Til slutt, det enhetlige skriptet,<code
                class="filename">.diff.gz</code> er erstattet av en <code
                class="filename">.debian.tar.gz</code>-katalog med kompileringsinstruksjonene, og et sett oppstrømsskript som pakkevedlikeholderen har bidratt med. Disse siste er lagt inn i et format som er kompatibelt med <code
                class="command">quilt</code> - et verktøy som forenkler håndteringen av en rekke oppgraderingsskripter.
			</div></div><div
            class="para">
				<code
              class="filename">.orig.tar.gz</code>-filen er et arkiv som inneholder kildekoden som er stilt til disposisjon av den opprinnelige utvikleren. Debian blir bedt om å ikke endre dette arkivet for å være i stand til enkelt å sjekke opprinnelsen og integriteten til filen (ved enkel sammenligning med en kontrollsum), og å respektere ønskene til noen forfattere.
			</div><div
            class="para">
				<code
              class="filename">.debian.tar.gz</code> inneholder alle endringene laget av Debians vedlikeholder, spesielt tillegget med en <code
              class="filename">debian</code>-mappe med instruksjoner til å få konstruert en Debian-pakke.
			</div><div
            class="sidebar"><div
              class="titlepage"><div><div><p
                    class="title"><strong><span
                        class="emphasis"><em>VERKTØY</em></span> Å pakke ut en kildepakke</strong></p></div></div></div><a
              id="id-1.8.7.4.16.2"
              class="indexterm"></a><a
              id="id-1.8.7.4.16.3"
              class="indexterm"></a><a
              id="id-1.8.7.4.16.4"
              class="indexterm"></a><a
              id="id-1.8.7.4.16.5"
              class="indexterm"></a><div
              class="para">
				Hvis du har en kildepakke, kan du bruke <code
                class="command">dpkg-source</code>-kommandoen (fra <span
                class="pkg pkg">dpkg-dev</span>-pakken) for å pakke den ut:
			</div><pre
              class="screen"><code
                class="computeroutput">$ </code><strong
                class="userinput"><code>dpkg-source -x package_0.7-1.dsc</code></strong></pre><div
              class="para">
				Du kan også bruke <code
                class="command">apt-get</code> for å laste ned en kildepakke og pakke den opp med en gang. Det krever at de passende <code
                class="literal">deb-src</code>-linjer er til stede i <code
                class="filename">/etc/apt/sources.list</code>-filen, (for flere detaljer se gjerne <a
                class="xref"
                href="apt.html#sect.apt-sources.list">Seksjon 6.1, «Å fylle inn <code
                  class="filename">sources.list</code>-filen»</a>). Disse brukes til å liste «kildene» til kildepakkene (til servere der en gruppe kildepakker ligger).
			</div><pre
              class="screen"><code
                class="computeroutput">$ </code><strong
                class="userinput"><code>apt-get source <em
                    class="replaceable">pakke</em></code></strong></pre></div></div><div
          class="section"><div
            class="titlepage"><div><div><h3
                  class="title"><a
                    id="id-1.8.7.5"></a>5.3.2. Bruk i Debian</h3></div></div></div><div
            class="para">
				Kildepakken er grunnlaget for alt i Debian. Alle Debian-pakkene kommer fra en kildepakke, og hver endring i en Debian-pakke er konsekvensen av en modifikasjon i kildepakken. Når Debians vedlikeholdere arbeider med kildepakken, er de vel vitende om konsekvensene av handlingene for de binære pakkene. Resultatet av arbeidet deres gjenfinnes derfor i kildepakkene fra Debian. Du kan enkelt gå tilbake til dem, og alt stammer derfra.
			</div><div
            class="para">
				Når en ny versjon av en pakke (kildepakke og en eller flere binære pakker) kommer til en Debian-tjener, er kildepakken det viktigste. Faktisk vil den da bli brukt av et nettverk av maskiner med forskjellige kompileringsarkitekturer som Debian støtter. Det faktum at utvikleren også sender en eller flere binære pakker for en gitt arkitektur (vanligvis i386 eller AMD64) er relativt uviktig, siden disse like godt kunne ha blitt automatisk generert.
			</div></div></div><ul
        class="docnav"><li
          class="previous"><a
            accesskey="p"
            href="sect.package-meta-information.html"><strong>Forrige</strong>5.2. Meta pakkeinformasjon</a></li><li
          class="up"><a
            accesskey="u"
            href="#"><strong>Opp</strong></a></li><li
          class="home"><a
            accesskey="h"
            href="index.html"><strong>Hjem</strong></a></li><li
          class="next"><a
            accesskey="n"
            href="sect.manipulating-packages-with-dpkg.html"><strong>Neste</strong>5.4. Behandle pakker med dpkg</a></li></ul><div
        id="translated_pages"><ul><li><a
              href="../ar-MA/sect.source-package-structure.html">ar-MA</a></li><li><a
              href="../da-DK/sect.source-package-structure.html">da-DK</a></li><li><a
              href="../de-DE/sect.source-package-structure.html">de-DE</a></li><li><a
              href="../el-GR/sect.source-package-structure.html">el-GR</a></li><li><a
              href="../en-US/sect.source-package-structure.html">en-US</a></li><li><a
              href="../es-ES/sect.source-package-structure.html">es-ES</a></li><li><a
              href="../fa-IR/sect.source-package-structure.html">fa-IR</a></li><li><a
              href="../fr-FR/sect.source-package-structure.html">fr-FR</a></li><li><a
              href="../hr-HR/sect.source-package-structure.html">hr-HR</a></li><li><a
              href="../id-ID/sect.source-package-structure.html">id-ID</a></li><li><a
              href="../it-IT/sect.source-package-structure.html">it-IT</a></li><li><a
              href="../ja-JP/sect.source-package-structure.html">ja-JP</a></li><li><a
              href="../ko-KR/sect.source-package-structure.html">ko-KR</a></li><li><a
              href="../nb-NO/sect.source-package-structure.html">nb-NO</a></li><li><a
              href="../pl-PL/sect.source-package-structure.html">pl-PL</a></li><li><a
              href="../pt-BR/sect.source-package-structure.html">pt-BR</a></li><li><a
              href="../ro-RO/sect.source-package-structure.html">ro-RO</a></li><li><a
              href="../ru-RU/sect.source-package-structure.html">ru-RU</a></li><li><a
              href="../tr-TR/sect.source-package-structure.html">tr-TR</a></li><li><a
              href="../vi-VN/sect.source-package-structure.html">vi-VN</a></li><li><a
              href="../zh-CN/sect.source-package-structure.html">zh-CN</a></li><li><a
              href="../zh-TW/sect.source-package-structure.html">zh-TW</a></li></ul></div></body></html>
