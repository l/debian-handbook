<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html
    xmlns="http://www.w3.org/1999/xhtml"><head><meta
        http-equiv="Content-Type"
        content="text/html; charset=UTF-8" /><title
        xmlns:d="http://docbook.org/ns/docbook">9.5. syslog Systemhendelser</title><link
        rel="stylesheet"
        type="text/css"
        href="Common_Content/css/default.css" /><link
        rel="stylesheet"
        media="print"
        href="Common_Content/css/print.css"
        type="text/css" /><meta
        xmlns:d="http://docbook.org/ns/docbook"
        name="generator"
        content="publican v4.3.2" /><meta
        xmlns:d="http://docbook.org/ns/docbook"
        name="package"
        content="Debian-debian-handbook-9-nb-NO-1.0-1" /><meta
        name="keywords"
        content="Systemoppstart, Initskript, SSH, Telnet, Rettigheter, Tillatelser, Overvåking, Inetd, Cron, Sikkerhetskopiering, Driftskobling, PCMCIA, APM, ACPI" /><link
        rel="home"
        href="index.html"
        title="Håndbok for Debian-administratoren" /><link
        rel="up"
        href="unix-services.html"
        title="Kapittel 9. Unix-tjenester" /><link
        rel="prev"
        href="sect.administration-interfaces.html"
        title="9.4. Administrasjonsgrensesnitt" /><link
        rel="next"
        href="sect.inetd.html"
        title="9.6. Super-server inetd" /><meta
        name="viewport"
        content="width=device-width, initial-scale=1" /><meta
        name="flattr:id"
        content="4pz9jq" /><link
        rel="canonical"
        href="http://l.github.io/debian-handbook/html/nb-NO/sect.syslog.html" /></head><body><noscript><iframe
          src="//www.googletagmanager.com/ns.html?id=GTM-5H35QX"
          height="0"
          width="0"
          style="display:none;visibility:hidden"></iframe></noscript><script
        type="text/javascript">(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
j=d.createElement(s),dl=l!='dataLayer'?'&amp;l='+l:'';j.async=true;j.src=
'//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
})(window,document,'script','dataLayer','GTM-5H35QX');</script><div
        id="banner"><a
          href="../../"><span
            class="text">Download the ebook</span></a></div><p
        id="title"><a
          class="left"
          href="http://www.debian.org"><img
            alt="Product Site"
            src="Common_Content/images//image_left.png" /></a><a
          class="right"
          href="index.html"><img
            alt="Documentation Site"
            src="Common_Content/images//image_right.png" /></a></p><ul
        class="docnav top"><li
          class="previous"><a
            accesskey="p"
            href="sect.administration-interfaces.html"><strong>Forrige</strong></a></li><li
          class="home">Håndbok for Debian-administratoren</li><li
          class="next"><a
            accesskey="n"
            href="sect.inetd.html"><strong>Neste</strong></a></li></ul><div
        class="section"><div
          class="titlepage"><div><div><h2
                class="title"><a
                  id="sect.syslog"></a>9.5. <code
                  class="command">syslog</code> Systemhendelser</h2></div></div></div><a
          id="id-1.12.8.2"
          class="indexterm"></a><a
          id="id-1.12.8.3"
          class="indexterm"></a><a
          id="id-1.12.8.4"
          class="indexterm"></a><div
          class="section"><div
            class="titlepage"><div><div><h3
                  class="title"><a
                    id="sect.syslog-principe"></a>9.5.1. Prinsipp og mekanisme</h3></div></div></div><div
            class="para">
				<code
              class="command">rsyslogd</code>-bakgrunnsprosessen er ansvarlig for innsamling av servicemeldinger som kommer fra programmer og kjernen, og deretter ekspedere dem til loggfiler (vanligvis lagret i <code
              class="filename">/var/log/</code>-mappen). Den adlyder oppsettsfilen <code
              class="filename">/etc/rsyslog.conf</code>.
			</div><div
            class="para">
				Hver loggmelding er forbundet med en delsystemapplikasjon (kalt «facility» i dokumentasjonen):
			</div><div
            xmlns:d="http://docbook.org/ns/docbook"
            class="itemizedlist"><ul><li
                class="listitem"><div
                  class="para">
						<code
                    class="literal">auth</code> og <code
                    class="literal">authpriv</code>: for autentisering;
					</div></li><li
                class="listitem"><div
                  class="para">
						<code
                    class="literal">cron</code>: kommer fra aktivitetsplanleggingstjenester,<code
                    class="command">cron</code> og <code
                    class="command">atd</code>;
					</div></li><li
                class="listitem"><div
                  class="para">
						<code
                    class="literal">daemon</code>: påvirker en bakgrunnsprosess uten noen spesiell klassifisering (DNS, NTP, etc.);
					</div></li><li
                class="listitem"><div
                  class="para">
						<code
                    class="literal">ftp</code>: gjelder FTP-tjeneren;
					</div></li><li
                class="listitem"><div
                  class="para">
						<code
                    class="literal">kern</code>: melding kommer fra kjernen;
					</div></li><li
                class="listitem"><div
                  class="para">
						<code
                    class="literal">lpr</code>: kommer fra skriver-delsystemet;
					</div></li><li
                class="listitem"><div
                  class="para">
						<code
                    class="literal">mail</code>: kommer fra e-post-delsystemet (the e-mail-subsystem);
					</div></li><li
                class="listitem"><div
                  class="para">
						<code
                    class="literal">news</code>: Usenet delsystem-melding (spesielt fra en NNTP - Network News Transfer Protocol - tjener som styrer nyhetsgrupper);
					</div></li><li
                class="listitem"><div
                  class="para">
						<code
                    class="literal">syslog</code>: meldinger fra <code
                    class="command">syslogd</code>-tjeneren selv;
					</div></li><li
                class="listitem"><div
                  class="para">
						<code
                    class="literal">user</code>: brukermeldinger (generisk);
					</div></li><li
                class="listitem"><div
                  class="para">
						<code
                    class="literal">uucp</code>: meldinger fra UUCP-tjeneren (Unix til Unix Copy Program, en gammel protokoll som særlig brukes til å distribuere e-postmeldinger);
					</div></li><li
                class="listitem"><div
                  class="para">
						<code
                    class="literal">local0</code> til <code
                    class="literal">local7</code>: reservert for lokal bruk.
					</div></li></ul></div><div
            class="para">
				Hver melding er også knyttet til et prioritetsnivå. Her er listen i synkende rekkefølge:
			</div><div
            xmlns:d="http://docbook.org/ns/docbook"
            class="itemizedlist"><ul><li
                class="listitem"><div
                  class="para">
						<code
                    class="literal">emerg</code>: «Hjelp!» Det er krise, systemet er sannsynligvis ubrukelig.
					</div></li><li
                class="listitem"><div
                  class="para">
						<code
                    class="literal">alert</code>: skynd deg, enhver forsinkelse kan være farlig, det må handles umiddelbart;
					</div></li><li
                class="listitem"><div
                  class="para">
						<code
                    class="literal">crit</code>: forholdene er kritiske;
					</div></li><li
                class="listitem"><div
                  class="para">
						<code
                    class="literal">err</code>: feil;
					</div></li><li
                class="listitem"><div
                  class="para">
						<code
                    class="literal">warn</code>: advarsel (mulig fare);
					</div></li><li
                class="listitem"><div
                  class="para">
						<code
                    class="literal">notice</code>: forholdene er normale, men budskapet er viktig;
					</div></li><li
                class="listitem"><div
                  class="para">
						<code
                    class="literal">info</code>: informativt budskap;
					</div></li><li
                class="listitem"><div
                  class="para">
						<code
                    class="literal">debug</code>: feilsøkingsbudskap.
					</div></li></ul></div></div><div
          class="section"><div
            class="titlepage"><div><div><h3
                  class="title"><a
                    id="sect.syslog-config"></a>9.5.2. Oppsettsfilen</h3></div></div></div><div
            class="para">
				Syntaksen til <code
              class="filename">/etc/rsyslog.conf</code>-filen er beskrevet detaljert i <span
              class="citerefentry"><span
                class="refentrytitle">rsyslog.conf</span>(5)</span>-manualsiden, men det er også HTML-dokumentasjon tilgjengelig i <span
              class="pkg pkg">rsyslog-doc</span>-pakken (<code
              class="filename">/usr/share/doc/rsyslog-doc/html/index.html</code>). Det gjennomgående prinsippet er å skrive «selector» og «action»-par. «Selector» definerer alle relevante meldinger, og handlingene beskriver hvordan man skal håndtere dem.
			</div><div
            class="section"><div
              class="titlepage"><div><div><h4
                    class="title"><a
                      id="sect.syslog-selector-syntax"></a>9.5.2.1. Syntaksen til velgeren (Selector)</h4></div></div></div><div
              class="para">
					Selektoren (velgeren) er en semikolon-delt liste med <code
                class="literal"><em
                  class="replaceable">subsystem</em>.<em
                  class="replaceable">prioritet</em></code>-par (for eksempel: <code
                class="literal">auth.notice;mail.info</code>). En stjerne kan representere alle delsystemer, eller alle prioriteringer (eksempler: <code
                class="literal">*.alert</code>, eller <code
                class="literal">mail.*</code>). En stjerne kan representere alle delsystemer, eller alle prioriteringer (eksempler: <code
                class="literal">auth,mail.info</code>). Den indikerte prioriteten dekker også meldinger med tilsvarende, eller høyere prioritet; på den måten <code
                class="literal">auth.alert</code> indikerer <code
                class="literal">auth</code> subsystem-meldingene til <code
                class="literal">alert</code>, eller <code
                class="literal">emerg</code>-prioritet. Prefiks med et utropstegn (!), indikerer det motsatte, med andre ord de strengt tatt lavere prioriteringer; <code
                class="literal">auth.!notice</code>, og indikerer dermed meldinger utstedt fra <code
                class="literal">auth</code>, med <code
                class="literal">info</code> eller <code
                class="literal">debug</code>-prioritet. Prefiks med et likhetstegn (=), tilsvarer presist og bare den angitte prioriteten (<code
                class="literal">auth.=notice</code>, gjelder bare meldinger fra <code
                class="literal">auth</code> med <code
                class="literal">notice</code>-prioritet).
				</div><div
              class="para">
					Hvert element i Selektor-listen overstyrer tidligere elementer. Dermed er det mulig å avgrense et sett, eller å utestenge visse elementer fra den. For eksempel betyr <code
                class="literal">kern.info;kern.!err</code> meldinger fra kjernen med prioritet mellom <code
                class="literal">info</code> og <code
                class="literal">warn</code>. <code
                class="literal">none</code>-prioritet indikerer det tomme settet (ingen prioriteringer), og kan tjene til å utelukke et delsystem fra et sett med meldinger. Dermed indikerer <code
                class="literal">*.crit;kern.none</code> alle meldingene med prioritet lik eller høyere enn <code
                class="literal">crit</code>, som ikke kommer fra kjernen.
				</div></div><div
            class="section"><div
              class="titlepage"><div><div><h4
                    class="title"><a
                      id="sect.syslog-action-syntax"></a>9.5.2.2. Syntaks for handlinger</h4></div></div></div><div
              class="sidebar"><div
                class="titlepage"><div><div><p
                      class="title"><strong><span
                          class="emphasis"><em>DET GRUNNLEGGENDE</em></span> Den navngitte kanalen (named pipe), en vedvarende kanal</strong></p></div></div></div><a
                id="id-1.12.8.6.4.2.2"
                class="indexterm"></a><a
                id="id-1.12.8.6.4.2.3"
                class="indexterm"></a><div
                class="para">
					En navngitt kanal er en spesiell type fil som virker som en tradisjonell kanal (kanalen som du lager med «|» -symbolet på kommandolinjen), men via en fil. Denne mekanismen har fordelen av å kunne forholde seg til to ikke-relaterte prosesser. Alt som er skrevet til en navngitt kanal blokkerer prosessen som skriver frem til en annen fremgangsmåte forsøker å lese de data som er skrevet. Denne andre prosessen leser de dataene som er skrevet av den første, som så kan gjenoppta kjøringen.
				</div><div
                class="para">
					En slik fil er laget med <code
                  class="command">mkfifo</code>-kommandoen.
				</div></div><div
              class="para">
					De forskjellige mulige handlinger er:
				</div><div
              xmlns:d="http://docbook.org/ns/docbook"
              class="itemizedlist"><ul><li
                  class="listitem"><div
                    class="para">
							å legge til en melding til en fil (eksempel: <code
                      class="filename">/var/log/messages</code>);
						</div></li><li
                  class="listitem"><div
                    class="para">
							sende meldingen til en ekstern <code
                      class="command">syslog</code>-tjener (eksempel: <code
                      class="literal">@log.falcot.com</code>);
						</div></li><li
                  class="listitem"><div
                    class="para">
							sende meldingen til en eksisterende navngitt kanal (example: <code
                      class="literal">|/dev/xconsole</code>);
						</div></li><li
                  class="listitem"><div
                    class="para">
							sende meldingen til en eller flere brukere, hvis de er logget inn (eksempel:<code
                      class="literal">root,rhertzog</code>);
						</div></li><li
                  class="listitem"><div
                    class="para">
							sende meldingen til alle innloggede brukere (eksempel: <code
                      class="literal">*</code>);
						</div></li><li
                  class="listitem"><div
                    class="para">
							skrive meldingen i en tekstkonsoll (eksempel: <code
                      class="literal">/dev/tty8</code>).
						</div></li></ul></div><div
              class="sidebar"><div
                class="titlepage"><div><div><p
                      class="title"><strong><span
                          class="emphasis"><em>SIKKERHET</em></span> Å videresende logger</strong></p></div></div></div><a
                id="id-1.12.8.6.4.5.2"
                class="indexterm"></a><div
                class="para">
					Det er en god idé å spille inn de viktigste loggene på en annen maskin (kanskje avsatt til dette formålet), siden dette vil hindre enhver mulig inntrenger fra å fjerne sporene av inntrengningen deres (med mindre, selvfølgelig, de også kompromitterer denne andre tjeneren). Videre har du, ved et stort problem (for eksempel et kjernekrasj), logger tilgjengelig på en annen maskin, noe som øker dine sjanser til å bestemme rekkefølgen av hendelser som forårsaket ulykken.
				</div><div
                class="para">
					For å godta loggmeldinger sendt fra andre maskiner må du sette opp <span
                  class="emphasis"><em>rsyslog</em></span>: I praksis, er det tilstrekkelig å aktivere de ferdig-til-bruk oppføringene i <code
                  class="filename">/etc/rsyslog.conf</code> (<code
                  class="literal">$ModLoad imudp</code> og <code
                  class="literal">$UDPServerRun 514</code>).
				</div></div></div></div></div><ul
        class="docnav"><li
          class="previous"><a
            accesskey="p"
            href="sect.administration-interfaces.html"><strong>Forrige</strong>9.4. Administrasjonsgrensesnitt</a></li><li
          class="up"><a
            accesskey="u"
            href="#"><strong>Opp</strong></a></li><li
          class="home"><a
            accesskey="h"
            href="index.html"><strong>Hjem</strong></a></li><li
          class="next"><a
            accesskey="n"
            href="sect.inetd.html"><strong>Neste</strong>9.6. Super-server inetd</a></li></ul><div
        id="translated_pages"><ul><li><a
              href="../ar-MA/sect.syslog.html">ar-MA</a></li><li><a
              href="../da-DK/sect.syslog.html">da-DK</a></li><li><a
              href="../de-DE/sect.syslog.html">de-DE</a></li><li><a
              href="../el-GR/sect.syslog.html">el-GR</a></li><li><a
              href="../en-US/sect.syslog.html">en-US</a></li><li><a
              href="../es-ES/sect.syslog.html">es-ES</a></li><li><a
              href="../fa-IR/sect.syslog.html">fa-IR</a></li><li><a
              href="../fr-FR/sect.syslog.html">fr-FR</a></li><li><a
              href="../hr-HR/sect.syslog.html">hr-HR</a></li><li><a
              href="../id-ID/sect.syslog.html">id-ID</a></li><li><a
              href="../it-IT/sect.syslog.html">it-IT</a></li><li><a
              href="../ja-JP/sect.syslog.html">ja-JP</a></li><li><a
              href="../ko-KR/sect.syslog.html">ko-KR</a></li><li><a
              href="../nb-NO/sect.syslog.html">nb-NO</a></li><li><a
              href="../pl-PL/sect.syslog.html">pl-PL</a></li><li><a
              href="../pt-BR/sect.syslog.html">pt-BR</a></li><li><a
              href="../ro-RO/sect.syslog.html">ro-RO</a></li><li><a
              href="../ru-RU/sect.syslog.html">ru-RU</a></li><li><a
              href="../tr-TR/sect.syslog.html">tr-TR</a></li><li><a
              href="../vi-VN/sect.syslog.html">vi-VN</a></li><li><a
              href="../zh-CN/sect.syslog.html">zh-CN</a></li><li><a
              href="../zh-TW/sect.syslog.html">zh-TW</a></li></ul></div></body></html>
