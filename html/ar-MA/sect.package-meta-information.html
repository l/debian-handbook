<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html
    xmlns="http://www.w3.org/1999/xhtml"><head><meta
        http-equiv="Content-Type"
        content="text/html; charset=UTF-8" /><title
        xmlns:d="http://docbook.org/ns/docbook">5.2. المعلومات الفوقية للحزمة</title><link
        rel="stylesheet"
        type="text/css"
        href="Common_Content/css/default.css" /><link
        rel="stylesheet"
        media="print"
        href="Common_Content/css/print.css"
        type="text/css" /><meta
        xmlns:d="http://docbook.org/ns/docbook"
        name="generator"
        content="publican v4.3.1" /><meta
        xmlns:d="http://docbook.org/ns/docbook"
        name="package"
        content="Debian-debian-handbook-8-ar-MA-1.0-1" /><meta
        name="keywords"
        content="حزمة ثنائية, حزمة مصدرية, dpkg, اعتماديات, تضارب" /><link
        rel="home"
        href="index.html"
        title="دفتر مدير دبيان" /><link
        rel="up"
        href="packaging-system.html"
        title="فصل 5. نظام الحزم: الأدوات والمبادئ الأساسية" /><link
        rel="prev"
        href="packaging-system.html"
        title="فصل 5. نظام الحزم: الأدوات والمبادئ الأساسية" /><link
        rel="next"
        href="sect.source-package-structure.html"
        title="5.3. بنية الحزمة المصدرية" /><link
        rel="canonical"
        href="http://l.github.io/debian-handbook/html/ar-MA/sect.package-meta-information.html" /></head><body
      dir="rtl"
      class="draft "><noscript><iframe
          src="//www.googletagmanager.com/ns.html?id=GTM-5H35QX"
          height="0"
          width="0"
          style="display:none;visibility:hidden"></iframe></noscript><script
        type="text/javascript">(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
j=d.createElement(s),dl=l!='dataLayer'?'&amp;l='+l:'';j.async=true;j.src=
'//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
})(window,document,'script','dataLayer','GTM-5H35QX');</script><div
        id="banner"><a
          href="http://debian-handbook.info/get/"><span
            class="text">Download the ebook</span></a></div><p
        id="title"><a
          class="left"
          href="http://www.debian.org"><img
            alt="Product Site"
            src="Common_Content/images//image_left.png" /></a><a
          class="right"
          href="http://debian-handbook.info"><img
            alt="Documentation Site"
            src="Common_Content/images//image_right.png" /></a></p><ul
        class="docnav top"><li
          class="previous"><a
            accesskey="p"
            href="packaging-system.html"><strong>السابق</strong></a></li><li
          class="home">دفتر مدير دبيان</li><li
          class="next"><a
            accesskey="n"
            href="sect.source-package-structure.html"><strong>التالي</strong></a></li></ul><div
        class="section"><div
          class="titlepage"><div><div><h2
                class="title"><a
                  id="sect.package-meta-information"></a>5.2. المعلومات الفوقية للحزمة</h2></div></div></div><a
          id="idm140642165103744"
          class="indexterm"></a><a
          id="idm140642165102816"
          class="indexterm"></a><div
          class="para">
			The Debian package is not only an archive of files intended for installation. It is part of a larger whole, and it describes its relationship with other Debian packages (dependencies, conflicts, suggestions). It also provides scripts that enable the execution of commands at different stages in the package's lifecycle (installation, removal, upgrades). These data are used by the package management tools but are not part of the packaged software; they are, within the package, what is called its “meta-information” (information about other information).
		</div><div
          class="section"><div
            class="titlepage"><div><div><h3
                  class="title"><a
                    id="sect.control"></a>5.2.1. وصف: الملف <code
                    class="filename">control</code></h3></div></div></div><a
            id="idm140642149584432"
            class="indexterm"></a><a
            id="idm140642149583504"
            class="indexterm"></a><a
            id="idm140642149582096"
            class="indexterm"></a><div
            class="para">
				This file uses a structure similar to email headers (as defined by RFC 2822). For example, for <span
              class="pkg pkg">apt</span>, the <code
              class="filename">control</code> file looks like the following:
			</div><pre
            class="screen">
<code
              class="computeroutput">$ </code><strong
              class="userinput"><code>apt-cache show apt</code></strong>
<code
              class="computeroutput">Package: apt
Version: 1.0.9.6
Installed-Size: 3788
Maintainer: APT Development Team &lt;deity@lists.debian.org&gt;
Architecture: amd64
Replaces: manpages-it (&lt;&lt; 2.80-4~), manpages-pl (&lt;&lt; 20060617-3~), openjdk-6-jdk (&lt;&lt; 6b24-1.11-0ubuntu1~), sun-java5-jdk (&gt;&gt; 0), sun-java6-jdk (&gt;&gt; 0)
Depends: libapt-pkg4.12 (&gt;= 1.0.9.6), libc6 (&gt;= 2.15), libgcc1 (&gt;= 1:4.1.1), libstdc++6 (&gt;= 4.9), debian-archive-keyring, gnupg
Suggests: aptitude | synaptic | wajig, dpkg-dev (&gt;= 1.17.2), apt-doc, python-apt
Conflicts: python-apt (&lt;&lt; 0.7.93.2~)
Breaks: manpages-it (&lt;&lt; 2.80-4~), manpages-pl (&lt;&lt; 20060617-3~), openjdk-6-jdk (&lt;&lt; 6b24-1.11-0ubuntu1~), sun-java5-jdk (&gt;&gt; 0), sun-java6-jdk (&gt;&gt; 0)
Description-en: commandline package manager
 This package provides commandline tools for searching and
 managing as well as querying information about packages
 as a low-level access to all features of the libapt-pkg library.
 .
 These include:
  * apt-get for retrieval of packages and information about them
    from authenticated sources and for installation, upgrade and
    removal of packages together with their dependencies
  * apt-cache for querying available information about installed
    as well as installable packages
  * apt-cdrom to use removable media as a source for packages
  * apt-config as an interface to the configuration settings
  * apt-key as an interface to manage authentication keys
Description-md5: 9fb97a88cb7383934ef963352b53b4a7
Tag: admin::package-management, devel::lang:ruby, hardware::storage,
 hardware::storage:cd, implemented-in::c++, implemented-in::perl,
 implemented-in::ruby, interface::commandline, network::client,
 protocol::ftp, protocol::http, protocol::ipv6, role::program,
 role::shared-lib, scope::application, scope::utility, sound::player,
 suite::debian, use::downloading, use::organizing, use::searching,
 works-with::audio, works-with::software:package, works-with::text
Section: admin
Priority: important
Filename: pool/main/a/apt/apt_1.0.9.6_amd64.deb
Size: 1107560
MD5sum: a325ccb14e69fef2c50da54e035a4df4
SHA1: 635d09fcb600ec12810e3136d51e696bcfa636a6
SHA256: 371a559ce741394b59dbc6460470a9399be5245356a9183bbeea0f89ecaabb03</code></pre><div
            class="sidebar"><div
              class="titlepage"><div><div><p
                    class="title"><strong><span
                        class="emphasis"><em>أساسيات</em></span> RFC — معايير الإنترنت</strong></p></div></div></div><a
              id="idm140642149574576"
              class="indexterm"></a><a
              id="idm140642149573616"
              class="indexterm"></a><div
              class="para">
				RFC هو اختصار للعبارة ”Request For Comments“ أي طلب التعليقات. RFC عادة هو مستند تقني يصف ما سيصبح معيار إنترنت لاحقًا. قبل توحيد وتجميد هذه المعايير، ترسل للمراجعة العلنية (من هنا جاء الاسم). تقرر IETF‏ (Internet Engineering Task Force) مدى تطور حالة هذه المستندات (معيار مقترح، مسودة معيار، أو معيار).
			</div><div
              class="para">
				يُعرِّف RFC 2026 عملية توحيد بروتوكولات الإنترنت. <div
                class="url">→ <a
                  href="http://www.faqs.org/rfcs/rfc2026.html">http://www.faqs.org/rfcs/rfc2026.html</a></div>
			</div></div><div
            class="section"><div
              class="titlepage"><div><div><h4
                    class="title"><a
                      id="idm140642149570416"></a>5.2.1.1. الاعتماديات: حقل <code
                      class="literal">Depends</code></h4></div></div></div><a
              id="idm140642165049728"
              class="indexterm"></a><a
              id="idm140642165048768"
              class="indexterm"></a><a
              id="idm140642165047488"
              class="indexterm"></a><div
              class="para">
					The dependencies are defined in the <code
                class="literal">Depends</code> field in the package header. This is a list of conditions to be met for the package to work correctly — this information is used by tools such as <code
                class="command">apt</code> in order to install the required libraries, in appropriate versions fulfilling the dependencies of the package to be installed. For each dependency, it is possible to restrict the range of versions that meet that condition. In other words, it is possible to express the fact that we need the package <span
                class="pkg pkg">libc6</span> in a version equal to or greater than “2.15” (written “<code
                class="command">libc6 (&gt;= 2.15)</code>”). Version comparison operators are as follows:
				</div><div
              xmlns:d="http://docbook.org/ns/docbook"
              class="itemizedlist"><ul><li
                  class="listitem"><div
                    class="para">
							<code
                      dir="ltr"
                      class="command">&lt;&lt;</code>: أقل من؛
						</div></li><li
                  class="listitem"><div
                    class="para">
							<code
                      dir="ltr"
                      class="command">&lt;=</code>: أقل من أو يساوي؛
						</div></li><li
                  class="listitem"><div
                    class="para">
							<code
                      class="command">=</code>: يساوي (لاحظ أن ”<code
                      class="literal">2.6.1</code>“ لا يساوي ”<code
                      dir="ltr"
                      class="literal">2.6.1-1‎</code>“)؛
						</div></li><li
                  class="listitem"><div
                    class="para">
							<code
                      dir="ltr"
                      class="command">&gt;=</code>: أكبر من أو يساوي؛
						</div></li><li
                  class="listitem"><div
                    class="para">
							<code
                      dir="ltr"
                      class="command">&gt;&gt;</code>: أكبر من؛
						</div></li></ul></div><div
              class="para">
					تخدم الفاصلة كحرف فصل في لائحة الشروط الواجب تحقيقها. يمكن تفسير معناها على أنها ”and“ منطقية. وفي لائحة الشروط أيضًا، يعبِّر الخط الشاقولي (”|“) عن عملية ”or“ المنطقية (عملية ”أو“ تضمنية ”inclusive or“ وليست عملية ”إما كذا أو كذا exclusive or“). ولأن أولويتها أكبر من أولوية ”and“، يمكن استخدامها قدر الحاجة. بالتالي، تُكتَب الاعتمادية ”A or B) and C)“ بالشكل <code
                class="command">A | B, C</code>. وفي المقابل، التعبير ”(A or (B and C“ يجب كتابته بالشكل ”(A or B) and (A or C)“، لأن حقل <code
                class="literal">Depends</code> لا يسمح بالأقواس التي تُغيِّر ترتيب الأولويات بين العمليات المنطقية ”or“ و ”and“. سيُكتب إذاً كالتالي <code
                class="command">A | B, A | C</code>. <div
                class="url">→ <a
                  href="http://www.debian.org/doc/debian-policy/ch-relationships.html">http://www.debian.org/doc/debian-policy/ch-relationships.html</a></div>
				</div><a
              id="idm140642165029984"
              class="indexterm"></a><div
              class="para">
					نظام الاعتماديات وسيلة جيدة لضمان عمل البرنامج، لكن له استخدام آخر عبر ”الحزم الفوقية“. هذه الحزم هي حزم فارغة تُعرّف فقط اعتماديات. وهي تُسهِّل تثبيت مجموعة مترابطة من البرامج التي يختارها مشرف الحزمة الفوقية مسبقاً؛ بالتالي، سيثبت الأمر <code
                class="command">apt-get install <em
                  class="replaceable">meta-package</em></code> جميع هذه البرامج آلياً باستخدام اعتماديات الحزمة الفوقية. الحزم <span
                class="pkg pkg">gnome</span>، و <span
                class="pkg pkg">kde-full</span> و <span
                class="pkg pkg">linux-image-amd64</span> هي أمثلة عن الحزم الفوقية.
				</div><div
              class="sidebar"><div
                class="titlepage"><div><div><p
                      class="title"><strong><span
                          class="emphasis"><em>سياسة دبيان</em></span> الاعتمادية الاستباقية، اعتمادية تلبيتها أصعب</strong></p></div></div></div><a
                id="idm140642165024144"
                class="indexterm"></a><a
                id="idm140642165022864"
                class="indexterm"></a><div
                class="para">
					”الاعتماديات الاستباقية pre-dependencies“، التي تذكر في الحقل ”<code
                  class="literal">Pre-Depends</code>“ في ترويسة الحزمة، تكمل الاعتماديات الطبيعية؛ وصيغة توصيفها مطابقة لها. تُبيّن الاعتمادية العادية أنه يجب فك الضغط عن الحزمة المطلوبة وإعدادها قبل إعداد الحزمة التي صَرَّحت عن الاعتمادية. أما الاعتمادية الاستباقية فهي تشترط فك الضغط عن الحزمة المطلوبة وإعدادها قبل تنفيذ سكربت الإعداد السابق للتثبيت الخاص بالحزمة التي صرحت عن الاعتمادية الاستباقية، أي قبل البدء بتثبيتها.
				</div><div
                class="para">
					الاعتماديات الاستباقية تُقيّد <code
                  class="command">apt</code> كثيراً، لأنها تضيف قيداً على ترتيب الحزم التي يجب تثبيتها. لذلك، لا ينصح باستخدام الاعتماديات الاستباقية إلا في حال الضرورة القصوى. بل إن الأفضل استشارة المطورين الآخرين على <code
                  class="email"><a
                    class="email"
                    href="mailto: debian-devel@lists.debian.org"> debian-devel@lists.debian.org</a></code> قبل إضافة اعتمادية استباقية. من الممكن عموماً إيجاد حل آخر للالتفاف حول المشكلة.
				</div></div><div
              class="sidebar"><div
                class="titlepage"><div><div><p
                      class="title"><strong><span
                          class="emphasis"><em>سياسة دبيان</em></span> حقول <code
                          class="literal">Recommends</code> و <code
                          class="literal">Suggests</code> و <code
                          class="literal">Enhances</code></strong></p></div></div></div><a
                id="idm140642165015744"
                class="indexterm"></a><a
                id="idm140642165014464"
                class="indexterm"></a><div
                class="para">
					يصف الحقلين <code
                  class="literal">Recommends</code> و <code
                  class="literal">Suggests</code> اعتماديات غير إلزامية. الاعتماديات في حقل ”recommended“ (المستحسنة أو الموصى بها)، أكثرها أهمية، تزيد وظائفية الحزمة بشكل واضح لكنها ليست ضرورية لتشغيلها. الاعتماديات في حقل ”suggested“ (المقترحة)، ذات أهمية ثانوية، وتشير إلى حزم معينة يمكن لها إكمال الأداة المثبتة وزيادة فائدتها، لكن من المنطقي تماماً تثبيت واحدة منها فقط دون البقية.
				</div><div
                class="para">
					عليك تثبيت الحزم ”الموصى بها“ دائماً، إلا إذا كنت تعلم سبب عدم حاجتك لها بدقة. بالمقابل، لا حاجة بثبيت الحزم ”المقترحة“ ما لم تعلم سبب حاجتك لها.
				</div><a
                id="idm140642165010448"
                class="indexterm"></a><div
                class="para">
					يصف الحقل <code
                  class="literal">Enhances</code> اقتراحات أيضاً، ولكن في سياق مختلف. يقع هذا الحقل في الحقيقة في الحزمة المُقتَرَحة، وليس في الحزمة التي تستفيد من الاقتراح. تكمن فائدته في أنه يمكن إضافة اقتراحات دون الحاجة لتعديل الحزمة المستفيدة. وهكذا، يمكن أن تظهر الإضافات، والامتدادات وغيرها من زيادات البرامج في قائمة المقترحات الخاصة بها. رغم أن هذا الحقل كان موجوداً منذ عدة سنوات، إلا أن البرامج مثل <code
                  class="command">apt-get</code> أو <code
                  class="command">synaptic</code> لا تزال تتجاهله غالباً. الهدف منه هو ظهور المقترحات المذكورة في حقل <code
                  class="literal">Enhances</code> للمستخدم بالإضافة للمقترحات التقليدية — التي تجدها في الحقل <code
                  class="literal">Suggests</code>.
				</div></div></div><div
            class="section"><div
              class="titlepage"><div><div><h4
                    class="title"><a
                      id="idm140642165005152"></a>5.2.1.2. تضارب: حقل <code
                      class="literal">Conflicts</code></h4></div></div></div><a
              id="idm140642165004032"
              class="indexterm"></a><a
              id="idm140642165003072"
              class="indexterm"></a><a
              id="idm140642165001792"
              class="indexterm"></a><div
              class="para">
					يبين الحقل <code
                class="literal">Conflicts</code> أن الحزمة لا يمكن تثبيتها على النظام عند وجود حزمة أخرى. أكثر الأسباب شيوعاً لهذا التضارب هي أن الحزمتين تحويان ملفاً له الاسم نفسه، أو تقدمان الخدمة ذاتها على نفس منفذ TCP، أو أنهما تتعارضان في عملهما.
				</div><div
              class="para">
					يرفض <code
                class="command">dpkg</code> تثبيت حزمة تتعارض مع حزمة مثبتة سابقاً، إلا إذا كانت الحزمة الجديدة تبين أنها ”تستبدل“ الحزمة المثبتة، في تلك الحالة، يختار <code
                class="command">dpkg</code> استبدال الحزمة القديمة بالجديدة. أما <code
                class="command">apt-get</code> فتتبع إرشاداتك دوماً: إذا اخترت تثبيت حزمة جديدة، سوف تعرض عليك تلقائياً إزالة الحزمة التي تسبب مشكلة.
				</div></div><div
            class="section"><div
              class="titlepage"><div><div><h4
                    class="title"><a
                      id="idm140642164996560"></a>5.2.1.3. عدم التوافق: حقل <code
                      class="literal">Breaks</code></h4></div></div></div><a
              id="idm140642164995472"
              class="indexterm"></a><a
              id="idm140642164994512"
              class="indexterm"></a><a
              id="idm140642164993232"
              class="indexterm"></a><div
              class="para">
					تأثير الحقل <code
                class="literal">Breaks</code> يشبه تأثير الحقل <code
                class="literal">Conflicts</code>، لكن له معنى خاص. يشير هذا الحقل إلى أن تثبيت الحزمة سوف ”يعطب“ حزمة أخرى (أو نسخة محددة منها). عموماً، هذا النوع من عدم التوافق بين الحزم انتقالي، وغالباً ما تحدد علاقة <code
                class="literal">Breaks</code> الإصدارات غير المتوافقة فيما بينها.
				</div><div
              class="para">
					يرفض <code
                class="command">dpkg</code> تثبيت حزمة تعطب حزمة مثبتة مسبقاً، أما <code
                class="command">apt-get</code> فتحاول حل المشكلة بتحديث الحزمة التي كانت ستتعطل إلى إصدار أحدث (الذي يفترض أنه قد أُصلِح، وأنه قد عاد متوافقاً من جديد).
				</div><div
              class="para">
					يحدث هذا النوع من الحالات في حال صدور تحديثات بدون توافق عكسي: هذا ما يحدث عندما لا تتوافق النسخة الجديدة مع النسخة القديمة، وتسبب أعطالاً في برامج أخرى ما لم تتخذ الاحتياطات المناسبة. يستخدم الحقل <code
                class="literal">Breaks</code> لمنع المستخدم من الخوض في هذه المشاكل.
				</div></div><div
            class="section"><div
              class="titlepage"><div><div><h4
                    class="title"><a
                      id="idm140642164986544"></a>5.2.1.4. العناصر المقدَّمة: حقل <code
                      class="literal">Provides</code></h4></div></div></div><a
              id="idm140642165295200"
              class="indexterm"></a><div
              class="para">
					يقدم هذا الحقل مفهوم ”الحزمة الظاهرية“. لهذا الحقل أدوار عديدة، لكن اثنين منها لهما أهمية خاصة. يتمثل الدور الأول في استخدام الحزمة الظاهرية لربطها مع خدمة عامة (الحزمة ”توفر provides“ الخدمة). أما الدور الثاني فهو أن هذا الحقل يشير إلى أن الحزمة تستبدل حزمة أخرى بالكامل، وأنها تستطيع أيضاً تلبية اعتماديات الحزم التي تعتمد على الحزمة المُستَبدَلَة. بالتالي، يمكن إنشاء حزمة بديلة دون الاضطرار لاستخدام اسم الحزمة نفسه.
				</div><div
              class="sidebar"><div
                class="titlepage"><div><div><p
                      class="title"><strong><span
                          class="emphasis"><em>مصطلحات</em></span> الحزمة الفوقية والحزمة الظاهرية</strong></p></div></div></div><a
                id="idm140642165291520"
                class="indexterm"></a><a
                id="idm140642165290560"
                class="indexterm"></a><a
                id="idm140642165289120"
                class="indexterm"></a><div
                class="para">
					من المهم التمييز بوضوح بين الحزم الفوقية وبين الحزم الظاهرية. الأولى هي حزم حقيقية (ولها ملفات <code
                  dir="ltr"
                  class="filename">‎.deb</code> حقيقية)، غرضها الوحيد التصريح عن اعتماديات.
				</div><div
                class="para">
					أما الحزم الظاهرية، فلا وجود لها فيزيائياً؛ بل هي مجرد وسيلة لمطابقة الحزم الحقيقية اعتماداً على معايير منطقية مشتركة (الخدمات المقدَّمة، التوافق مع برنامج معياري أو حزمة سابقة، الخ).
				</div></div><div
              class="section"><div
                class="titlepage"><div><div><h5
                      class="title"><a
                        id="idm140642165285904"></a>5.2.1.4.1. تقديم ”خدمة“</h5></div></div></div><div
                class="para">
						Let us discuss the first case in greater detail with an example: all mail servers, such as <span
                  class="pkg pkg">postfix</span> or <span
                  class="pkg pkg">sendmail</span> are said to “provide” the <span
                  class="pkg pkg">mail-transport-agent</span> virtual package. Thus, any package that needs this service to be functional (e.g. a mailing list manager, such as <span
                  class="pkg pkg">smartlist</span> or <span
                  class="pkg pkg">sympa</span>) simply states in its dependencies that it requires a <span
                  class="pkg pkg">mail-transport-agent</span> instead of specifying a large yet incomplete list of possible solutions (e.g. <code
                  class="command">postfix | sendmail | exim4 | …</code>). Furthermore, it is useless to install two mail servers on the same machine, which is why each of these packages declares a conflict with the <span
                  class="pkg pkg">mail-transport-agent</span> virtual package. A conflict between a package and itself is ignored by the system, but this technique will prohibit the installation of two mail servers side by side.
					</div><div
                class="sidebar"><div
                  class="titlepage"><div><div><p
                        class="title"><strong><span
                            class="emphasis"><em>سياسة دبيان</em></span> قائمة الحزم الظاهرية</strong></p></div></div></div><a
                  id="idm140642165278160"
                  class="indexterm"></a><div
                  class="para">
						حتى تتحقق الفائدة من الحزم الظاهرية، يجب أن يتوافق الجميع على أسمائها. لذلك تجعل سياسة دبيان هذه الحزم قياسية. تتضمن اللائحة <span
                    class="pkg pkg">mail-transport-agent</span> لمخدمات البريد، و <span
                    class="pkg pkg">c-compiler</span> لمترجمات لغة C، و <span
                    class="pkg pkg">www-browser</span> لمتصفحات الوب، و <span
                    class="pkg pkg">httpd</span> لمخدمات الوب، و <span
                    class="pkg pkg">ftp-server</span> لمخدمات FTP، و <span
                    class="pkg pkg">x-terminal-emulator</span> لمحاكيات الطرفية في الوضع الرسومي (<code
                    class="command">xterm</code>)، و <span
                    class="pkg pkg">x-window-manager</span> لبرامج إدارة النوافذ، بالإضافة إلى العديد من الأسماء الأخرى.
					</div><div
                  class="para">
						يمكنك الحصول على اللائحة الكاملة من الوب. <div
                    class="url">→ <a
                      href="http://www.debian.org/doc/packaging-manuals/virtual-package-names-list.txt">http://www.debian.org/doc/packaging-manuals/virtual-package-names-list.txt</a></div>
					</div></div></div><div
              class="section"><div
                class="titlepage"><div><div><h5
                      class="title"><a
                        id="idm140642165269408"></a>5.2.1.4.2. إبدال الحزم</h5></div></div></div><div
                class="para">
						The <code
                  class="literal">Provides</code> field is also interesting when the content of a package is included in a larger package. For example, the <span
                  class="pkg pkg">libdigest-md5-perl</span> Perl module was an optional module in Perl 5.6, and has been integrated as standard in Perl 5.8 (and later versions, such as 5.20 present in <span
                  class="distribution distribution">Jessie</span>). As such, the package <span
                  class="pkg pkg">perl</span> has since version 5.8 declared <code
                  class="literal">Provides: libdigest-md5-perl</code> so that the dependencies on this package are met if the user has Perl 5.8 (or newer). The <span
                  class="pkg pkg">libdigest-md5-perl</span> package itself has eventually been deleted, since it no longer had any purpose when old Perl versions were removed.
					</div><div
                class="figure"><a
                  id="idm140642165264272"></a><div
                  class="figure-contents"><div
                    class="mediaobject"><img
                      src="images/virtual-package.png"
                      alt="استعمال الحقل Provides للحفاظ على سلامة علاقات الاعتماد بين الحزم" /></div></div><p
                  class="title"><strong>شكل 5.1. استعمال الحقل <code
                      class="literal">Provides</code> للحفاظ على سلامة علاقات الاعتماد بين الحزم</strong></p></div><div
                class="para">
						هذه الميزة مفيدة جداً، لأنه لا يمكن أبداً التنبؤ بتقلبات التطوير، ومن المهم أن يكون هناك مجال للتكيف مع إعادة التسمية وغيرها من الاستبدالات الآلية للبرمجيات الميتة.
					</div><div
                class="sidebar"><div
                  class="titlepage"><div><div><p
                        class="title"><strong><span
                            class="emphasis"><em>أساسيات</em></span> بيرل، لغة برمجة</strong></p></div></div></div><a
                  id="idm140642165259200"
                  class="indexterm"></a><a
                  id="idm140642165258240"
                  class="indexterm"></a><div
                  class="para">
						بيرل (Perl = Practical Extraction and Report Language) هي لغة برمجة شهيرة جدًا. لها الكثير من الوحدات الجاهزة للاستخدام التي تغطي طيفًا واسعًا من التطبيقات، والتي توزعها مخدمات CPAN (شبكة أرشيفات بيرل الشاملة، Comprehensive Perl Archive Network)، وهي شبكة عملاقة لحزم بيرل. <div
                    class="url">→ <a
                      href="http://www.perl.org/‎">http://www.perl.org/‎</a></div>‎ <div
                    class="url">→ <a
                      href="http://www.cpan.org/">http://www.cpan.org/</a></div>‎
					</div><div
                  class="para">
						بما أنها لغة مفسرة، فلا يحتاج البرنامج المكتوب بها لترجمة قبل تنفيذه. ولهذا تدعى البرامج المكتوبة بها ”سكربتات بيرل“.
					</div></div></div><div
              class="section"><div
                class="titlepage"><div><div><h5
                      class="title"><a
                        id="idm140642165253776"></a>5.2.1.4.3. Past Limitations</h5></div></div></div><div
                class="para">
						Virtual packages used to suffer from some limitations, the most significant of which was the absence of a version number. To return to the previous example, a dependency such as <code
                  class="literal">Depends: libdigest-md5-perl (&gt;= 1.6)</code>, despite the presence of Perl 5.10, would never be considered as satisfied by the packaging system — while in fact it most likely is satisfied. Unaware of this, the package system chose the least risky option, assuming that the versions do not match.
					</div><div
                class="para">
						This limitation has been lifted in <span
                  class="pkg pkg">dpkg</span> 1.17.11, and is no longer relevant in Jessie.
					</div></div></div><div
            class="section"><div
              class="titlepage"><div><div><h4
                    class="title"><a
                      id="idm140642165250224"></a>5.2.1.5. استبدال الملفات: حقل <code
                      class="literal">Replaces</code></h4></div></div></div><a
              id="idm140642165249136"
              class="indexterm"></a><a
              id="idm140642165248176"
              class="indexterm"></a><a
              id="idm140642165246896"
              class="indexterm"></a><div
              class="para">
					The <code
                class="literal">Replaces</code> field indicates that the package contains files that are also present in another package, but that the package is legitimately entitled to replace them. Without this specification, <code
                class="command">dpkg</code> fails, stating that it can not overwrite the files of another package (technically, it is possible to force it to do so with the <code
                class="literal">--force-overwrite</code> option, but that's not considered standard operation). This allows identification of potential problems and requires the maintainer to study the matter prior to choosing whether to add such a field.
				</div><div
              class="para">
					يُبرَّر استخدام هذا الحقل عند تغيير اسم الحزمة أو عند تضمين حزمة في حزمة أخرى. كما يحدث هذا أيضاً عندما يقرر المشرف توزيع الملفات الناتجة عن حزمة مصدرية واحدة بشكل متفاوت بين عدة حزم ثنائية متنوعة: لم يعد الملف المستبدل ينتمي للحزمة القديمة، بل فقط للحزمة الجديدة.
				</div><div
              class="para">
					إذا استبدلت جميع ملفات إحدى الحزم المثبتة، تعتبر الحزمة مزالة. أخيراً، يشجع هذا الحقل <code
                class="command">dpkg</code> على إزالة الحزمة المستبدَلَة عند حدوث تضارب.
				</div><div
              class="sidebar"><a
                id="sidebar.debtags"></a><div
                class="titlepage"><div><div><p
                      class="title"><strong><span
                          class="emphasis"><em>التعمق أكثر</em></span> حقل <code
                          class="literal">Tag</code></strong></p></div></div></div><div
                class="para">
					في مثال <span
                  class="pkg pkg">apt</span> السابق، يمكننا أن نرى حقلاً لم نشرحه بعد، وهو الحقل <code
                  class="literal">Tag</code>. لا يُعرِّف هذا الحقل علاقة بين الحزم، بل يُستخدَم ببساطة لتصنيف الحزمة ضمن فئات حسب الموضوع. لقد كان تصنيف الحزم وفقاً لعدد من المعايير (نوع الواجهة، اللغة البرمجية، مجال التطبيق، الخ) متاحاً منذ زمن طويل. ورغم ذلك، هناك حزم ليس لها وسوم دقيقة، كما أن هذا التصنيف غير مدعوم في جميع أدوات دبيان؛ تعرض <code
                  class="command">aptitude</code> هذه الوسوم، وتسمح باستخدامها كمعايير للبحث. بالنسبة لمن ينفرون من معايير البحث في <code
                  class="command">aptitude</code>، يمكنهم التوجه للموقع التالي الذي يسمح بتصفح قاعدة بيانات هذه الوسوم: <div
                  class="url">→ <a
                    href="http://debtags.alioth.debian.org/">http://debtags.alioth.debian.org/</a></div>‎
				</div></div></div></div><div
          class="section"><div
            class="titlepage"><div><div><h3
                  class="title"><a
                    id="idm140642165234864"></a>5.2.2. سكربتات الإعداد</h3></div></div></div><a
            id="idm140642165234096"
            class="indexterm"></a><a
            id="idm140642165232976"
            class="indexterm"></a><a
            id="idm140642165231856"
            class="indexterm"></a><a
            id="idm140642165230736"
            class="indexterm"></a><a
            id="idm140642165229616"
            class="indexterm"></a><div
            class="para">
				بالإضافة إلى ملف <code
              class="filename">control</code>، قد يحتوي أرشيف <code
              class="filename">control.tar.gz</code> الموجود في كل حزمة دبيان على عدد من السكربتات، يستدعيها <code
              class="command">dpkg</code> في مراحل مختلفة من معالجة الحزمة. تصف سياسة دبيان الحالات المحتملة بالتفصيل، مُحدِّدَةً السكربتات المستدعاة والمتغيرات التي تستقبلها. هذه التسلسلات قد تكون معقدة، لأنه إذا فشل تنفيذ أحد السكربتات، سيحاول <code
              class="command">dpkg</code> العودة إلى حالة مُرضِيَة عبر إلغاء عملية التثبيت أو الإزالة الجارية (طالما كان ذلك ممكناً).
			</div><div
            class="sidebar"><div
              class="titlepage"><div><div><p
                    class="title"><strong><span
                        class="emphasis"><em>التعمق أكثر</em></span> قاعدة بيانات <code
                        class="command">dpkg</code></strong></p></div></div></div><a
              id="idm140642165224256"
              class="indexterm"></a><a
              id="idm140642165223136"
              class="indexterm"></a><div
              class="para">
				تُخزَّن جميع سكربتات الإعداد الخاصة بالحزم المثبتة في المجلد <code
                class="filename">/var/lib/dpkg/info/</code>، بشكل ملف مسبوق باسم الحزمة. يحوي هذا المجلد أيضًا على ملف امتداده <code
                dir="ltr"
                class="filename">.list</code> لكل حزمة، يحوي قائمة بالملفات التي تنتمي لتلك الحزمة.
			</div><div
              class="para">
				يحتوي الملف <code
                dir="ltr"
                class="filename">/var/lib/dpkg/status</code> على سلسلة من كتل البيانات (بتنسيق ترويسات البريد الشهير، RFC 2822) تصف حالة كل حزمة. كما تُنسَخ المعلومات من ملف <code
                class="filename">control</code> الخاص بالحزمة المثبتة هناك أيضًا.
			</div></div><div
            class="para">
				عموماً، يُنفَّذ السكربت <code
              class="filename">preinst</code> قبل تثبيت الحزمة، في حين يتبعه <code
              class="filename">postinst</code>. كذلك، يُستدعى <code
              class="filename">prerm</code> قبل إزالة الحزمة و <code
              class="filename">postrm</code> بعد ذلك. تحديث الحزمة يكافئ إزالة النسخة القديمة وتثبيت الجديدة. لا يمكن وصف جميع الحالات الممكنة هنا، لكننا سنناقش الحالتين الأكثر شيوعاً: التثبيت أو التحديث، والإزالة.
			</div><div
            class="sidebar"><div
              class="titlepage"><div><div><p
                    class="title"><strong><span
                        class="emphasis"><em>تحذير</em></span> أسماء السكربتات الرمزية</strong></p></div></div></div><div
              class="para">
				الأحداث الموصوفة في هذا القسم تدعو السكربتات بأسماء خاصة، مثل <code
                class="command">old-prerm</code> أو <code
                class="command">new-postinst</code>. هذه تعني السكربت <code
                class="command">prerm</code> الموجود في النسخة القديمة من الحزمة (المثبتة قبل التحديث) والسكربت <code
                class="command">postinst</code> الموجود في النسخة الجديدة (المثبتة بعد التحديث).
			</div></div><div
            class="sidebar"><div
              class="titlepage"><div><div><p
                    class="title"><strong><span
                        class="emphasis"><em>تلميح</em></span> مخططات الحالة</strong></p></div></div></div><div
              class="para">
				صنع Manoj Srivastava مخططات تشرح كيف يستدعي <code
                class="command">dpkg</code> سكربتات الإعداد. طَوَّر مشروع نساء دبيان (Debian Women) مخططات مشابهة أيضًا؛ وهي أيسر للفهم قليلاً، لكنها أقل اكتمالاً. <div
                class="url">→ <a
                  href="http://people.debian.org/~srivasta/MaintainerScripts.html">http://people.debian.org/~srivasta/MaintainerScripts.html</a></div> <div
                class="url">→ <a
                  href="http://wiki.debian.org/MaintainerScripts">http://wiki.debian.org/MaintainerScripts</a></div>
			</div></div><div
            class="section"><div
              class="titlepage"><div><div><h4
                    class="title"><a
                      id="idm140642165207248"></a>5.2.2.1. التثبيت والتحديث</h4></div></div></div><a
              id="idm140642165206480"
              class="indexterm"></a><div
              class="para">
					إليك ما يحدث خلال التثبيت (أو التحديث):
				</div><div
              xmlns:d="http://docbook.org/ns/docbook"
              class="orderedlist"><ol><li
                  class="listitem"><div
                    class="para">
							بالنسبة للتحديث، يستدعي <code
                      class="command">dpkg</code> الأمر <code
                      class="command">old-prerm upgrade <em
                        class="replaceable">new-version</em></code>.
						</div></li><li
                  class="listitem"><div
                    class="para">
							في التحديث أيضاً، ينفذ <code
                      class="command">dpkg</code> بعدها <code
                      class="command">new-preinst upgrade <em
                        class="replaceable">old-version</em></code>؛ أما بالنسبة للتثبيت للمرة الأولى فيستدعي <code
                      class="command">new-preinst install</code>. قد يضيف <code
                      class="command">dpkg</code> الإصدار القديم إلى ذيل البارامترات إذا كانت الحزمة مثبتة ومزالة من قبل (لكن لم يتم تطهيرها، أي أن ملفات إعداداتها لا تزال موجودة).
						</div></li><li
                  class="listitem"><div
                    class="para">
							بعدها يفك الضغط عن ملفات الحزمة الجديدة. تستبدل الملفات الموجودة سابقاً، لكن مع الاحتفاظ بنسخة احتياطية مؤقتة.
						</div></li><li
                  class="listitem"><div
                    class="para">
							بالنسبة للتحديث، يستدعي <code
                      class="command">dpkg</code> الأمر <code
                      class="command">old-postrm upgrade <em
                        class="replaceable">new-version</em></code>.
						</div></li><li
                  class="listitem"><div
                    class="para">
							يُحدِّث <code
                      class="command">dpkg</code> جميع البيانات الداخلية (لائحة الملفات، سكربتات الإعداد، الخ) ويحذف النسخ الاحتياطية للملفات المستبدلة. هذه هي نقطة اللاعودة: عند هذه اللحظة لا يعود <code
                      class="command">dpkg</code> قادراً على الوصول إلى جميع العناصر اللازمة للرجوع إلى الحالة السابقة.
						</div></li><li
                  class="listitem"><div
                    class="para">
							بعدها يُحدِّث <code
                      class="command">dpkg</code> ملفات الضبط، ويطلب من المستخدم اتخاذ قرار إذا لم يستطع إدارة هذه المهمة آلياً. تفاصيل هذه العملية مشروحة في <a
                      class="xref"
                      href="sect.package-meta-information.html#sect.conffiles">قسم 5.2.3, “شفرات التحقق، لائحة ملفات الضبط”</a>.
						</div></li><li
                  class="listitem"><div
                    class="para">
							أخيراً، يضبط <code
                      class="command">dpkg</code> الحزمة بتنفيذ <code
                      class="command">new-postinst configure <em
                        class="replaceable">last-version-configured</em></code>.
						</div></li></ol></div></div><div
            class="section"><div
              class="titlepage"><div><div><h4
                    class="title"><a
                      id="idm140642165188336"></a>5.2.2.2. إزالة حزمة</h4></div></div></div><div
              class="para">
					إليك ما يحدث أثناء إزالة حزمة:
				</div><div
              xmlns:d="http://docbook.org/ns/docbook"
              class="orderedlist"><ol><li
                  class="listitem"><div
                    class="para">
							يستدعي <code
                      class="command">dpkg</code> الأمر <code
                      class="command">prerm remove</code>.
						</div></li><li
                  class="listitem"><div
                    class="para">
							يزيل <code
                      class="command">dpkg</code> جميع ملفات الحزمة، عدا ملفات الضبط وسكربتات الإعداد.
						</div></li><li
                  class="listitem"><div
                    class="para">
							ينفذ <code
                      class="command">dpkg</code> الأمر <code
                      class="command">postrm remove</code>. تُحذَف جميع سكربتات الإعداد، عدا <code
                      class="filename">postrm</code>. إذا لم يطلب المستخدم خيار ”التطهير“، تنتهي العملية هنا.
						</div></li><li
                  class="listitem"><div
                    class="para">
							لتطهير الحزمة بالكامل (يطلب هذا الأمر بالشكل <code
                      class="command">dpkg --purge</code> أو <code
                      class="command">dpkg -P</code>)، تُحذَف ملفات الإعدادات أيضاً، بالإضافة لعدد معين من النسخ (<code
                      class="filename">dpkg-tmp.*</code>، <code
                      class="filename">‏dpkg-old.*</code>، <code
                      class="filename">‏dpkg-new.*</code>) والملفات المؤقتة؛ بعدها ينفذ <code
                      class="command">dpkg</code> الأمر <code
                      class="command">postrm purge</code>.
						</div></li></ol></div><div
              class="sidebar"><div
                class="titlepage"><div><div><p
                      class="title"><strong><span
                          class="emphasis"><em>مصطلحات</em></span> التطهير، إزالة الحزمة بالكامل</strong></p></div></div></div><a
                id="idm140642165174816"
                class="indexterm"></a><div
                class="para">
					عند إزالة حزمة دبيان، تبقى ملفات الإعداد في سبيل تسهيل إعادة التثبيت في المستقبل. كما يُحتَفظ عادةً بالبيانات التي تولدها الخِدْمات (مثل محتويات مجلد مخدم LDAP، أو محتويات قاعدة بيانات مخدم SQL).
				</div><div
                class="para">
					لإزالة جميع البيانات المتعلقة بالحزمة، يجب ”تطهير“ الحزمة بالأمر <code
                  class="command">dpkg -P <em
                    class="replaceable">package</em></code> أو الأمر <code
                  class="command">apt-get remove --purge <em
                    class="replaceable">package</em></code> أو <code
                  class="command">aptitude purge <em
                    class="replaceable">package</em></code>.
				</div><div
                class="para">
					Given the definitive nature of such data removals, a purge should not be taken lightly.
				</div></div><a
              id="idm140642165169328"
              class="indexterm"></a><div
              class="para">
					هناك سكربت <code
                class="filename">config</code> يكمل السكربتات الأربعة المذكورة سابقاً، توفره الحزم التي تعتمد على <code
                class="command">debconf</code> للحصول على معلومات من المستخدم لضبط الحزمة. يُحدِّد هذا السكربت أثناء التثبيت الأسئلة التي تطرحها <code
                class="command">debconf</code> بالتفصيل. تُسجَّل الإجابات في قاعدة بيانات <code
                class="command">debconf</code> للرجوع إليها مستقبلاً. تستدعي <code
                class="command">apt</code> هذا السكربت عموماً قبل تثبيت الحزم واحدة تلو الأخرى وذلك لتجميع كل الأسئلة وطرحها جميعاً على المستخدم في بداية العملية. يمكن بعدها أن تستفيد سكربتات ما قبل وما بعد التثبيت من هذه المعلومات حتى تتبع رغبات المستخدم.
				</div><div
              class="sidebar"><div
                class="titlepage"><div><div><p
                      class="title"><strong><span
                          class="emphasis"><em>أدوات</em></span> <code
                          class="command">debconf</code></strong></p></div></div></div><a
                id="idm140642165162768"
                class="indexterm"></a><div
                class="para">
					لقد أُنشِئَت <code
                  class="command">debconf</code> لحل مشكلة متكررة في دبيان. لقد كانت الحزم التي لا يمكن أن تعمل دون حد أدنى من الإعداد تطرح الأسئلة باستدعاء الأمرين <code
                  class="command">echo</code> و <code
                  class="command">read</code> في سكربتات <code
                  class="filename">postinst</code> (وغيره من السكربتات المشابهة). لكن هذا يعني أيضاً أن المستخدم أثناء عمليات التثبيت أو التحديث الكبيرة يجب أن يبقى مع الحاسوب للإجابة على الأسئلة المتنوعة التي قد تظهر في أي لحظة. لقد تخلصنا تماماً تقريباً من هذه التفاعلات اليدوية بعد استخدام الأداة <code
                  class="command">debconf</code>.
				</div><div
                class="para">
					تتمتع <code
                  class="command">debconf</code> بالعديد من المزايا المثيرة: فهي تفرض على المطور تحديد التفاعلات مع المستخدم؛ وتسمح بترجمة جميع النصوص المعروضة للمستخدم (تُخزَّن جميع الترجمات في ملف <code
                  class="filename">templates</code> الذي يُعرَّف التفاعلات)؛ ولها واجهات مختلفة لعرض الأسئلة على المستخدم (الوضع النصي، الوضع الرسومي، الوضع غير التفاعلي)؛ كما تسمح بإنشاء قاعدة بيانات مركزية للإجابات لمشاركة الإعدادات نفسها بين عدة حواسيب... لكن أهم ميزة هي أنه يمكن الآن طرح جميع الأسئلة على المستخدم على التعاقب، قبل بدء عمليات التثبيت أو التحديث الطويلة. يستطيع المستخدم بعدها أن ينطلق لأداء أعماله الأخرى بينما يتولى النظام عملية التثبيت وحده، دون الحاجة لبقاء المستخدم أمامه يحدِّق في الشاشة وينتظر الأسئلة.
				</div></div></div></div><div
          class="section"><div
            class="titlepage"><div><div><h3
                  class="title"><a
                    id="sect.conffiles"></a>5.2.3. شفرات التحقق، لائحة ملفات الضبط</h3></div></div></div><a
            id="idm140642165153920"
            class="indexterm"></a><a
            id="idm140642165152800"
            class="indexterm"></a><a
            id="idm140642165151680"
            class="indexterm"></a><a
            id="idm140642165150720"
            class="indexterm"></a><a
            id="idm140642165149312"
            class="indexterm"></a><div
            class="para">
				قد يحوي أرشيف <code
              class="filename">control.tar.gz</code> في حزمة دبيان ملفات مهمة أخرى بالإضافة لسكربتات الإعداد وبيانات التحكم المذكورة في الأقسام السابقة. أولها، <code
              class="filename">md5sums</code>، يحوي شفرات MD5 لجميع ملفات الحزمة. فائدته الأساسية هي أنه يسمح للأدوات مثل <code
              class="command">debsums</code> (التي سندرسها في <a
              class="xref"
              href="sect.supervision.html#sect.debsums">قسم 14.3.3.1, “فحص الحزم: <code
                class="command">debsums</code> وحدودها”</a>) للتأكد أن هذه الملفات لم تُعدَّل منذ تثبيتها. لاحظ أنه عند عدم وجود هذا الملف، سوف يولده dpkg ديناميكياً أثناء عملية التثبيت (ويخزنه في قاعدة بيانات dpkg مثل ملفات التحكم الأخرى).
			</div><div
            class="para">
				يسرد الملف <code
              class="filename">conffiles</code> ملفات الحزمة التي يجب معاملتها كملفات ضبط. قد يُعدِّل مدير النظام ملفات الضبط، وسوف يحاول <code
              class="command">dpkg</code> الحفاظ على هذه التعديلات عند تحديث الحزمة.
			</div><div
            class="para">
				في الواقع، يتصرف <code
              class="command">dpkg</code> بأذكى ما يمكن في هذه الحالات: إذا لم يتغيَّر ملف الإعدادات القياسي بين النسختين، لا يفعل أي شيء. لكن إذا تَغيَّر الملف، سيحاول تحديث هذا الملف. هناك احتمالين هنا: إما أن مدير النظام لم يلمس ملف الإعداد هذا، وفي تلك الحالة يُثبِّت <code
              class="command">dpkg</code> النسخة الجديدة آلياً؛ أو أن الملف قد عُدِّل، وفي تلك الحالة يسأل <code
              class="command">dpkg</code> مدير النظام عن النسخة التي يريد أن يستخدمها (النسخة القديمة المعدلة، أو الجديدة الموفرة مع الحزمة). حتى يساعد <code
              class="command">dpkg</code> في اتخاذ هذا القرار، يعرض عليك إظهار ”<code
              class="command">diff</code>“ يُبيِّنُ الاختلاف بين النسختين. إذا اختار المستخدم إبقاء النسخة القديمة، سوف تُخزَّن الجديدة في نفس المكان في ملف له اللاحقة <code
              class="filename">‎.dpkg-dist</code>. أما إذا اختار المستخدم النسخة الجديدة، تحفظ النسخة القديمة في ملف له اللاحقة <code
              class="filename">‎.dpkg-old</code>. هناك خيار آخر متاح وهو مقاطعة <code
              class="command">dpkg</code> مؤقتاً لتحرير الملف ومحاولة استرجاع التعديلات المناسبة (التي تم التعرف عليها باستخدام <code
              class="command">diff</code>).
			</div><div
            class="sidebar"><a
              id="sidebar.questions-conffiles"></a><div
              class="titlepage"><div><div><p
                    class="title"><strong><span
                        class="emphasis"><em>التعمق أكثر</em></span> تفادي أسئلة المتعلقة بملفات الضبط</strong></p></div></div></div><div
              class="para">
				يعالج <code
                class="command">dpkg</code> تحديث ملفات الضبط، لكنه يقطع عمله بانتظام أثناء هذه العملية، حتى يطلب مدخلات من مدير النظام. هذا لا يناسب الذين يبحثون عن تشغيل التحديثات بطريقة غير تفاعلية. لذلك يوفر هذا البرنامج خيارات تسمح للنظام بالاستجابة آلياً وفق منطق ثابت: يحفظ الخيار <code
                class="command">‎--force-confold</code> النسخة القديمة من الملف؛ أما <code
                class="command">‎--force-confnew</code> سيستخدم النسخة الجديدة منه (يلتزم البرنامج بهذه الخيارات حتى لو لم يكن مدير النظام قد عدَّل الملف، وهذا نادراً ما يكون الهدف المقصود). إذا أضيف الخيار <code
                class="command">‎--force-confdef</code> فسوف يتخذ <code
                class="command">dpkg</code> القرار بنفسه إذا كان ذلك ممكناً (أي عندما لا يكون ملف الإعدادات الأصلي معدلاً)، ويلتزم بالخيار <code
                class="command">‎--force-confnew</code> أو <code
                class="command">‎--force-confold</code> في الحالات الأخرى.
			</div><div
              class="para">
				هذه الخيارات تعمل مع <code
                class="command">dpkg</code>، لكن مدير النظام سيتعامل مباشرة مع <code
                class="command">aptitude</code> أو <code
                class="command">apt-get</code> في معظم الأحيان. بالتالي، يجب أن تعرف الصيغة المستخدمة لتحديد الخيارات بحيث يتم تمريرها إلى الأمر <code
                class="command">dpkg</code> (الصيغة المستخدمة متشابهة جداً في البرنامجين).
			</div><pre
              class="screen">
<code
                class="computeroutput"># </code><strong
                class="userinput"><code>apt-get -o DPkg::options::="--force-confdef" -o DPkg::options::="--force-confold" dist-upgrade</code></strong></pre><div
              class="para">
				يمكن تخزين هذه الخيارات مباشرة في إعدادات <code
                class="command">apt</code>. لعمل ذلك، أضف السطر التالي إلى الملف <code
                class="filename">‎/etc/apt/apt.conf.d/local</code> ببساطة:
			</div><div
              class="informalexample"><pre
                class="programlisting">
DPkg::options { "--force-confdef"; "--force-confold"; }
</pre></div><div
              class="para">
				إن تضمين هذا الخيار في ملف الإعداد يعني أنه سيستخدم أيضاً مع الواجهات الرسومية مثل <code
                class="command">aptitude</code>.
			</div></div><div
            class="sidebar"><a
              id="sidebar.questions-conffiles-bis"></a><div
              class="titlepage"><div><div><p
                    class="title"><strong><span
                        class="emphasis"><em>التعمق أكثر</em></span> إجبار dpkg على طرح أسئلة عن ملفات الإعداد</strong></p></div></div></div><div
              class="para">
				يطلب الخيار <code
                class="command">‎--force-confask</code> من <code
                class="command">dpkg</code> أن يعرض الأسئلة المتعلقة بملفات الإعداد، حتى في الحالات التي لا تكون فيها هذه الأسئلة ضرورية. إذن، عند إعادة تثبيت حزمة مع هذا الخيار، سوف يسأل <code
                class="command">dpkg</code> الأسئلة ثانية لجميع ملفات الإعداد التي عدَّلها مدير النظام. هذا مفيد جداً، خصوصاً بالنسبة لإعادة تثبيت ملف الإعداد الأصلي إذا حُذِف ولم تكن هناك نسخة أخرى متوفرة: إعادة التثبيت العادية لن تفيد، لأن <code
                class="command">dpkg</code> يعتبر إزالة الملفات نوع مشروع من التعديل عليها، وبالتالي لن يُثبِّت ملف الإعداد المطلوب.
			</div></div></div></div><ul
        class="docnav"><li
          class="previous"><a
            accesskey="p"
            href="packaging-system.html"><strong>السابق</strong>فصل 5. نظام الحزم: الأدوات والمبادئ الأساسية</a></li><li
          class="up"><a
            accesskey="u"
            href="#"><strong>أعلى</strong></a></li><li
          class="home"><a
            accesskey="h"
            href="index.html"><strong>البداية</strong></a></li><li
          class="next"><a
            accesskey="n"
            href="sect.source-package-structure.html"><strong>التالي</strong>5.3. بنية الحزمة المصدرية</a></li></ul><div
        id="translated_pages"><ul><li><a
              href="../ar-MA/sect.package-meta-information.html">ar-MA</a></li><li><a
              href="../da-DK/sect.package-meta-information.html">da-DK</a></li><li><a
              href="../de-DE/sect.package-meta-information.html">de-DE</a></li><li><a
              href="../el-GR/sect.package-meta-information.html">el-GR</a></li><li><a
              href="../en-US/sect.package-meta-information.html">en-US</a></li><li><a
              href="../es-ES/sect.package-meta-information.html">es-ES</a></li><li><a
              href="../fa-IR/sect.package-meta-information.html">fa-IR</a></li><li><a
              href="../fr-FR/sect.package-meta-information.html">fr-FR</a></li><li><a
              href="../hr-HR/sect.package-meta-information.html">hr-HR</a></li><li><a
              href="../id-ID/sect.package-meta-information.html">id-ID</a></li><li><a
              href="../it-IT/sect.package-meta-information.html">it-IT</a></li><li><a
              href="../ja-JP/sect.package-meta-information.html">ja-JP</a></li><li><a
              href="../pl-PL/sect.package-meta-information.html">pl-PL</a></li><li><a
              href="../pt-BR/sect.package-meta-information.html">pt-BR</a></li><li><a
              href="../ro-RO/sect.package-meta-information.html">ro-RO</a></li><li><a
              href="../ru-RU/sect.package-meta-information.html">ru-RU</a></li><li><a
              href="../tr-TR/sect.package-meta-information.html">tr-TR</a></li><li><a
              href="../zh-CN/sect.package-meta-information.html">zh-CN</a></li></ul></div></body></html>
