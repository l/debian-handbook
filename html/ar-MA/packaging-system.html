<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html
    xmlns="http://www.w3.org/1999/xhtml"><head><meta
        http-equiv="Content-Type"
        content="text/html; charset=UTF-8" /><title
        xmlns:d="http://docbook.org/ns/docbook">فصل 5. نظام الحزم: الأدوات والمبادئ الأساسية</title><link
        rel="stylesheet"
        type="text/css"
        href="Common_Content/css/default.css" /><link
        rel="stylesheet"
        media="print"
        href="Common_Content/css/print.css"
        type="text/css" /><meta
        xmlns:d="http://docbook.org/ns/docbook"
        name="generator"
        content="publican v4.3.2" /><meta
        xmlns:d="http://docbook.org/ns/docbook"
        name="package"
        content="Debian-debian-handbook-8-ar-MA-1.0-1" /><meta
        name="keywords"
        content="حزمة ثنائية, حزمة مصدرية, dpkg, اعتماديات, تضارب" /><link
        rel="home"
        href="index.html"
        title="دفتر مدير دبيان" /><link
        rel="up"
        href="index.html"
        title="دفتر مدير دبيان" /><link
        rel="prev"
        href="sect.after-first-boot.html"
        title="4.3. بعد الإقلاع الأول" /><link
        rel="next"
        href="sect.package-meta-information.html"
        title="5.2. المعلومات الفوقية للحزمة" /><meta
        name="viewport"
        content="width=device-width, initial-scale=1" /><link
        rel="canonical"
        href="http://l.github.io/debian-handbook/html/ar-MA/packaging-system.html" /></head><body
      dir="rtl"><noscript><iframe
          src="//www.googletagmanager.com/ns.html?id=GTM-5H35QX"
          height="0"
          width="0"
          style="display:none;visibility:hidden"></iframe></noscript><script
        type="text/javascript">(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
j=d.createElement(s),dl=l!='dataLayer'?'&amp;l='+l:'';j.async=true;j.src=
'//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
})(window,document,'script','dataLayer','GTM-5H35QX');</script><div
        id="banner"><a
          href="../../"><span
            class="text">Download the ebook</span></a></div><p
        id="title"><a
          class="left"
          href="http://www.debian.org"><img
            alt="Product Site"
            src="Common_Content/images//image_left.png" /></a><a
          class="right"
          href="index.html"><img
            alt="Documentation Site"
            src="Common_Content/images//image_right.png" /></a></p><ul
        class="docnav top"><li
          class="previous"><a
            accesskey="p"
            href="sect.after-first-boot.html"><strong>السابق</strong></a></li><li
          class="home">دفتر مدير دبيان</li><li
          class="next"><a
            accesskey="n"
            href="sect.package-meta-information.html"><strong>التالي</strong></a></li></ul><div
        xml:lang="ar-MA"
        class="chapter"
        lang="ar-MA"><div
          class="titlepage"><div><div><h1
                class="title"><a
                  id="packaging-system"></a>فصل 5. نظام الحزم: الأدوات والمبادئ الأساسية</h1></div></div></div><div
          class="toc"><dl
            class="toc"><dt><span
                class="section"><a
                  href="packaging-system.html#sect.binary-package-structure">5.1. بنية الحزمة الثنائية</a></span></dt><dt><span
                class="section"><a
                  href="sect.package-meta-information.html">5.2. المعلومات الفوقية للحزمة</a></span></dt><dd><dl><dt><span
                    class="section"><a
                      href="sect.package-meta-information.html#sect.control">5.2.1. وصف: الملف <code
                        class="filename">control</code></a></span></dt><dt><span
                    class="section"><a
                      href="sect.package-meta-information.html#sect.configuration-scripts">5.2.2. سكربتات الإعداد</a></span></dt><dt><span
                    class="section"><a
                      href="sect.package-meta-information.html#sect.conffiles">5.2.3. شفرات التحقق، لائحة ملفات الضبط</a></span></dt></dl></dd><dt><span
                class="section"><a
                  href="sect.source-package-structure.html">5.3. بنية الحزمة المصدرية</a></span></dt><dd><dl><dt><span
                    class="section"><a
                      href="sect.source-package-structure.html#id-1.8.7.4">5.3.1. الصيغة</a></span></dt><dt><span
                    class="section"><a
                      href="sect.source-package-structure.html#id-1.8.7.5">5.3.2. الاستخدام في دبيان</a></span></dt></dl></dd><dt><span
                class="section"><a
                  href="sect.manipulating-packages-with-dpkg.html">5.4. معالجة الحزم باستخدام <code
                    class="command">dpkg</code></a></span></dt><dd><dl><dt><span
                    class="section"><a
                      href="sect.manipulating-packages-with-dpkg.html#id-1.8.8.5">5.4.1. تثبيت الحزم</a></span></dt><dt><span
                    class="section"><a
                      href="sect.manipulating-packages-with-dpkg.html#id-1.8.8.6">5.4.2. إزالة حزمة</a></span></dt><dt><span
                    class="section"><a
                      href="sect.manipulating-packages-with-dpkg.html#id-1.8.8.7">5.4.3. الاستعلام في قاعدة بيانات <code
                        class="command">dpkg</code> وفحص ملفات <code
                        class="filename">‎.deb</code></a></span></dt><dt><span
                    class="section"><a
                      href="sect.manipulating-packages-with-dpkg.html#id-1.8.8.8">5.4.4. سجلات <code
                        class="command">dpkg</code></a></span></dt><dt><span
                    class="section"><a
                      href="sect.manipulating-packages-with-dpkg.html#sect.multi-arch">5.4.5. دعم تعدد المعماريات</a></span></dt></dl></dd><dt><span
                class="section"><a
                  href="sect.coexistence-with-other-packaging-systems.html">5.5. التعايش مع نظم التحزيم الأخرى</a></span></dt></dl></div><div
          class="highlights"><div
            class="para">
		بما أنك مدير دبيان، فسوف تتعامل مع حزم <code
              dir="ltr"
              class="filename">.deb</code> بشكل متكرر، التي تحوي عناصر وظيفية مترابطة (تطبيقات، وثائق... الخ)، تُسهِّل هذه الحزم تثبيتها وصيانتها. فمن الجيد إذن أن تعرف مما تتألف هذه الحزم وكيف تستخدمها.
	</div></div><div
          class="para">
		يصف هذا الفصل بنية ومحتويات الحزم ”الثنائية“ و ”المصدرية“. الأولى هي ملفات <code
            dir="ltr"
            class="filename">.deb</code>، يمكن الاستفادة منها مباشرة باستخدام <code
            class="command">dpkg</code>، في حين تحوي الأخيرة شفرة البرنامج المصدرية، بالإضافة إلى تعليمات بناء حزم ثنائية.
	</div><div
          class="section"><div
            class="titlepage"><div><div><h2
                  class="title"><a
                    id="sect.binary-package-structure"></a>5.1. بنية الحزمة الثنائية</h2></div></div></div><a
            id="id-1.8.5.2"
            class="indexterm"></a><a
            id="id-1.8.5.3"
            class="indexterm"></a><div
            class="para">
			صيغة حزم دبيان مصممة بحيث يمكن استخراج محتوياتها على أي نظام يونكس يملك الأوامر الكلاسيكية <code
              class="command">ar</code>، و <code
              class="command">tar</code>، و <code
              class="command">gzip</code> (وأحياناً <code
              class="command">xz</code> أو <code
              class="command">bzip2</code>). هذه الخاصية التافهة ظاهريًا حاسمة بالنسبة للمحمولية والإنقاذ في حالات الكوارث.
		</div><div
            class="para">
			تخيل، مثلا، أنك حذفت برنامج <code
              class="command">dpkg</code> عن طريق الخطأ، وأنك لا تستطيع بالتالي تثبيت حزم دبيان بعد ذلك. ولأن <code
              class="command">dpkg</code> هو حزمة دبيان بحد ذاته، يبدو أن نظامك قد انتهى أمره... لحسن الحظ، أنت تعرف صيغة الحزمة ويمكنك بالتالي تنزيل ملف <code
              class="filename">.deb</code> الخاص بحزمة <span
              class="pkg pkg">dpkg</span> ثم تثبته يدوياً (انظر الملاحظة الجانبية <a
              class="xref"
              href="packaging-system.html#sidebar.dpkg-apt-ar"><span
                class="emphasis"><em>أدوات</em></span> <code
                class="command">dpkg</code> ،<code
                class="command">APT</code> و <code
                class="command">ar</code></a>). إذا اختفى واحد أو أكثر من البرامج <code
              class="command">ar</code> ،<code
              class="command">tar</code> أو <code
              class="command">gzip</code>/<code
              class="command">xz</code>/<code
              class="command">bzip2</code> بسبب سوء الحظ، فكل ما تحتاج له هو نسخ البرنامج المفقود من نظام آخر (بما أن كل واحد من هذه البرامج يعمل بطريقة مستقلة تماماً، وليس له اعتماديات، فالنسخ البسيط سيكفي). حتى لو عاندتك الظروف التي يعاني منها نظامك أكثر من ذلك، وحتى لو لم تعمل هذه أيضاً (ربما اختفت بعض أهم المكتبات من النظام؟)، عليك تجربة النسخة الستاتيكية من <code
              class="command">busybox</code> (المتوفر في الحزمة <span
              class="pkg pkg">busybox-static</span>)، التي تعمل بشكل مستقل أكثر، وتوفر أوامر فرعية مثل <code
              class="command">busybox ar</code>، و<code
              class="command">busybox tar</code>، و<code
              class="command">busybox gunzip</code>.
		</div><div
            class="sidebar"><a
              id="sidebar.dpkg-apt-ar"></a><div
              class="titlepage"><div><div><p
                    class="title"><strong><span
                        class="emphasis"><em>أدوات</em></span> <code
                        class="command">dpkg</code> ،<code
                        class="command">APT</code> و <code
                        class="command">ar</code></strong></p></div></div></div><a
              id="id-1.8.5.6.2"
              class="indexterm"></a><a
              id="id-1.8.5.6.3"
              class="indexterm"></a><a
              id="id-1.8.5.6.4"
              class="indexterm"></a><div
              class="para">
			<code
                class="command">dpkg</code> هو البرنامج الذي يعالج ملفات <code
                dir="ltr"
                class="filename">.deb</code>، بالأخص الاستخراج، والتحليل، وفك الضغط عنها.
		</div><div
              class="para">
			<code
                class="command">APT</code> هي مجموعة من البرامج تسمح بتنفيذ تعديلات ذات مستوى أعلى على النظام: تثبيت أو إزالة حزمة (مع تلبية الاعتماديات)، وتحديث النظام، سرد الحزم المتوفرة، الخ.
		</div><a
              id="id-1.8.5.6.7"
              class="indexterm"></a><div
              class="para">
			أما بالنسبة للبرنامج <code
                class="command">ar</code>، فهو يسمح بمعالجة الملفات ذات الاسم نفسه: يعرض الأمر <code
                class="command">ar t <em
                  class="replaceable">archive</em></code> قائمة بالملفات الموجودة في أرشيف ar، يستخرج الأمر <code
                class="command">ar x <em
                  class="replaceable">archive</em></code> الملفات من الأرشيف إلى مجلد العمل الحالي، يحذف الأمر <code
                class="command">ar d <em
                  class="replaceable">archive</em> <em
                  class="replaceable">file</em></code> ملفًا من الأرشيف، الخ. تُوثّق صفحة الدليل الخاصة به (<span
                class="citerefentry"><span
                  class="refentrytitle">ar</span>(1)</span>‎) عملياته العديدة الأخرى. <code
                class="command">ar</code> أداة بدائية جدًا يمكن أن يستخدمها مدير يونكس في مناسبات نادرة، لكن مديري النظم يستخدمون <code
                class="command">tar</code> كثيرًا، وهو برنامج أرشفة وإدارة ملفات أكثر تطوراً. لهذا تكون استعادة <code
                class="command">dpkg</code> سهلة في حال حذفه خطأً. كل ما عليك فعله هو تنزيل حزمة دبيان واستخراج محتويات الأرشيف <code
                class="filename">data.tar.gz</code> في جذر النظام (<code
                class="filename">/</code>):
		</div><pre
              class="screen">
<code
                class="computeroutput"># </code><strong
                class="userinput"><code>ar x dpkg_1.17.23_amd64.deb</code></strong>
<code
                class="computeroutput"># </code><strong
                class="userinput"><code>tar -C / -p -xzf data.tar.gz</code></strong></pre></div><div
            class="sidebar"><div
              class="titlepage"><div><div><p
                    class="title"><strong><span
                        class="emphasis"><em>أساسيات</em></span> ترقيم صفحات الدليل</strong></p></div></div></div><div
              class="para">
			قد يُذهَل المبتدئون لوجود إشارة إلى ”<span
                class="citerefentry"><span
                  class="refentrytitle">ar</span>(1)</span>‎“ في النص. هذه عادةً طريقة مناسبة للإشارة إلى صفحة الدليل ذات الاسم <code
                class="literal">ar</code> في القسم 1.
		</div><div
              class="para">
			يستخدم هذا التدوين أحيانًا لرفع الالتباس، مثلاً للتفريق بين الأمر <code
                class="command">printf</code> الذي يمكن الإشارة إليه بـ <span
                class="citerefentry"><span
                  class="refentrytitle">printf</span>(1)</span>‎ أيضًا وبين الدالة <code
                class="function">printf</code> في لغة البرمجة C، التي يمكن الإشارة إليها بـ <span
                class="citerefentry"><span
                  class="refentrytitle">printf</span>(3)</span>‎.
		</div><div
              class="para">
			يناقش <a
                class="xref"
                href="solving-problems.html">فصل 7, <em>حل المشكلات والعثور على المعلومات</em></a> صفحات الدليل بتفصيل أكثر (انظر <a
                class="xref"
                href="solving-problems.html#sect.manual-pages">قسم 7.1.1, “صفحات الدليل”</a>).
		</div></div><div
            class="para">
			لنلقِ نظرة على محتويات ملف <code
              dir="ltr"
              class="filename">.deb</code>:
		</div><pre
            class="screen"><code
              class="computeroutput">$ </code><strong
              class="userinput"><code>ar t dpkg_1.17.23_amd64.deb</code></strong>
<code
              class="computeroutput">debian-binary
control.tar.gz
data.tar.gz
$ </code><strong
              class="userinput"><code>ar x dpkg_1.17.23_amd64.deb</code></strong>
<code
              class="computeroutput">$ </code><strong
              class="userinput"><code>ls</code></strong>
<code
              class="computeroutput">control.tar.gz  data.tar.gz  debian-binary  dpkg_1.17.23_amd64.deb
$ </code><strong
              class="userinput"><code>tar tzf data.tar.gz | head -n 15</code></strong>
<code
              class="computeroutput">./
./var/
./var/lib/
./var/lib/dpkg/
./var/lib/dpkg/parts/
./var/lib/dpkg/info/
./var/lib/dpkg/alternatives/
./var/lib/dpkg/updates/
./etc/
./etc/logrotate.d/
./etc/logrotate.d/dpkg
./etc/dpkg/
./etc/dpkg/dpkg.cfg.d/
./etc/dpkg/dpkg.cfg
./etc/alternatives/
$ </code><strong
              class="userinput"><code>tar tzf control.tar.gz</code></strong>
<code
              class="computeroutput">./
./conffiles
./postinst
./md5sums
./prerm
./preinst
./control
./postrm
$ </code><strong
              class="userinput"><code>cat debian-binary</code></strong>
<code
              class="computeroutput">2.0</code></pre><div
            class="para">
			كما ترى، يتألف أرشيف <code
              class="command">ar</code> الذي يضم حزمة دبيان من ثلاثة ملفات:
		</div><div
            xmlns:d="http://docbook.org/ns/docbook"
            class="itemizedlist"><ul><li
                class="listitem"><div
                  class="para">
					<code
                    class="filename">debian-binary</code>. هذا ملف نصي يشير ببساطة إلى نسخة ملف <code
                    dir="ltr"
                    class="filename">.deb</code> المستخدم (في 2015: الإصدارة 2.0).
				</div></li><li
                class="listitem"><div
                  class="para">
					<code
                    class="filename">control.tar.gz</code>. ملف الأرشيف هذا يحوي جميع المعلومات الفوقية المتاحة، مثل اسم الحزمة وإصدارها. تسمح بعض هذه المعلومات الفوقية لأدوات إدارة الحزم بأن تقرر إذا كان يمكن تثبيت الحزمة أو إزالتها، حسب قائمة الحزم المتوفرة مسبقاً على الجهاز مثلاً.
				</div></li><li
                class="listitem"><div
                  class="para">
					<code
                    class="filename">data.tar.gz</code>. يحوي هذا الأرشيف على جميع الملفات التي يجب استخراجها من الحزمة؛ هذا هو المكان حيث تخزن الملفات التنفيذية، الوثائق، الخ. قد تستخدم بعض الحزم صيغ ضغط مختلفة، حيث يتغير اسم الملف في تلك الحالة (<code
                    class="filename">data.tar.bz2</code> بالنسبة لصيغة bzip2،‏ <code
                    class="filename">data.tar.xz</code> بالنسبة لصيغة XZ).
				</div></li></ul></div></div></div><ul
        class="docnav"><li
          class="previous"><a
            accesskey="p"
            href="sect.after-first-boot.html"><strong>السابق</strong>4.3. بعد الإقلاع الأول</a></li><li
          class="up"><a
            accesskey="u"
            href="#"><strong>أعلى</strong></a></li><li
          class="home"><a
            accesskey="h"
            href="index.html"><strong>البداية</strong></a></li><li
          class="next"><a
            accesskey="n"
            href="sect.package-meta-information.html"><strong>التالي</strong>5.2. المعلومات الفوقية للحزمة</a></li></ul><div
        id="translated_pages"><ul><li><a
              href="../ar-MA/packaging-system.html">ar-MA</a></li><li><a
              href="../da-DK/packaging-system.html">da-DK</a></li><li><a
              href="../de-DE/packaging-system.html">de-DE</a></li><li><a
              href="../el-GR/packaging-system.html">el-GR</a></li><li><a
              href="../en-US/packaging-system.html">en-US</a></li><li><a
              href="../es-ES/packaging-system.html">es-ES</a></li><li><a
              href="../fa-IR/packaging-system.html">fa-IR</a></li><li><a
              href="../fr-FR/packaging-system.html">fr-FR</a></li><li><a
              href="../hr-HR/packaging-system.html">hr-HR</a></li><li><a
              href="../id-ID/packaging-system.html">id-ID</a></li><li><a
              href="../it-IT/packaging-system.html">it-IT</a></li><li><a
              href="../ja-JP/packaging-system.html">ja-JP</a></li><li><a
              href="../ko-KR/packaging-system.html">ko-KR</a></li><li><a
              href="../nb-NO/packaging-system.html">nb-NO</a></li><li><a
              href="../pl-PL/packaging-system.html">pl-PL</a></li><li><a
              href="../pt-BR/packaging-system.html">pt-BR</a></li><li><a
              href="../ro-RO/packaging-system.html">ro-RO</a></li><li><a
              href="../ru-RU/packaging-system.html">ru-RU</a></li><li><a
              href="../tr-TR/packaging-system.html">tr-TR</a></li><li><a
              href="../vi-VN/packaging-system.html">vi-VN</a></li><li><a
              href="../zh-CN/packaging-system.html">zh-CN</a></li><li><a
              href="../zh-TW/packaging-system.html">zh-TW</a></li></ul></div></body></html>
