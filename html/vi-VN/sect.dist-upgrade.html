<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html
    xmlns="http://www.w3.org/1999/xhtml"><head><meta
        http-equiv="Content-Type"
        content="text/html; charset=UTF-8" /><title
        xmlns:d="http://docbook.org/ns/docbook">6.6. Nâng cấp từ bản phân phối ổn định đến kế tiếp</title><link
        rel="stylesheet"
        type="text/css"
        href="Common_Content/css/default.css" /><link
        rel="stylesheet"
        media="print"
        href="Common_Content/css/print.css"
        type="text/css" /><meta
        xmlns:d="http://docbook.org/ns/docbook"
        name="generator"
        content="publican v4.3.2" /><meta
        xmlns:d="http://docbook.org/ns/docbook"
        name="package"
        content="Debian-debian-handbook-9-vi-VN-1.0-1" /><meta
        name="keywords"
        content="apt, apt-get, apt-cache, aptitude, synaptic, sources.list, apt-cdrom" /><link
        rel="home"
        href="index.html"
        title="Sổ tay Quản trị Debian" /><link
        rel="up"
        href="apt.html"
        title="Chương 6. Bảo trì và Cập nhật: Công cụ APT" /><link
        rel="prev"
        href="sect.package-authentication.html"
        title="6.5. Kiểm tra Tính xác thực Gói" /><link
        rel="next"
        href="sect.regular-upgrades.html"
        title="6.7. Đảm bảo một hệ thống luôn cập nhật" /><meta
        name="viewport"
        content="width=device-width, initial-scale=1" /><meta
        name="flattr:id"
        content="4pz9jq" /><link
        rel="canonical"
        href="http://l.github.io/debian-handbook/html/vi-VN/sect.dist-upgrade.html" /></head><body><noscript><iframe
          src="//www.googletagmanager.com/ns.html?id=GTM-5H35QX"
          height="0"
          width="0"
          style="display:none;visibility:hidden"></iframe></noscript><script
        type="text/javascript">(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
j=d.createElement(s),dl=l!='dataLayer'?'&amp;l='+l:'';j.async=true;j.src=
'//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
})(window,document,'script','dataLayer','GTM-5H35QX');</script><div
        id="banner"><a
          href="../../"><span
            class="text">Download the ebook</span></a></div><p
        id="title"><a
          class="left"
          href="http://www.debian.org"><img
            alt="Product Site"
            src="Common_Content/images//image_left.png" /></a><a
          class="right"
          href="index.html"><img
            alt="Documentation Site"
            src="Common_Content/images//image_right.png" /></a></p><ul
        class="docnav top"><li
          class="previous"><a
            accesskey="p"
            href="sect.package-authentication.html"><strong>Trước đó</strong></a></li><li
          class="home">Sổ tay Quản trị Debian</li><li
          class="next"><a
            accesskey="n"
            href="sect.regular-upgrades.html"><strong>Kế tiếp</strong></a></li></ul><div
        class="section"><div
          class="titlepage"><div><div><h2
                class="title"><a
                  id="sect.dist-upgrade"></a>6.6. Nâng cấp từ bản phân phối ổn định đến kế tiếp</h2></div></div></div><div
          class="para">
			Một trong những tính năng nổi tiếng nhất của Debian là khả năng nâng cấp một hệ thống được cài đặt từ một bản phát hành ổn định sang một phiên bản tiếp theo: <span
            class="foreignphrase"><em
              class="foreignphrase">dist-upgrade</em></span> - một cụm từ nổi tiếng - đã đóng góp phần lớn cho danh tiếng của dự án. Với một vài biện pháp phòng ngừa, việc nâng cấp máy tính chỉ có thể mất vài phút, hoặc vài phút, tùy thuộc vào tốc độ tải xuống từ các kho gói.
		</div><div
          class="section"><div
            class="titlepage"><div><div><h3
                  class="title"><a
                    id="id-1.9.15.3"></a>6.6.1. Thủ tục Khuyến cáo</h3></div></div></div><div
            class="para">
				Vì Debian đã có thời gian để phát triển giữa các bản phát hành ổn định nên bạn nên đọc ghi chú phát hành trước khi nâng cấp.
			</div><div
            class="sidebar"><div
              class="titlepage"><div><div><p
                    class="title"><strong><span
                        class="emphasis"><em>KIẾN THỨC CƠ BẢN</em></span> Ghi chú phát hành</strong></p></div></div></div><div
              class="para">
				Các lưu ý phát hành cho một hệ điều hành (và nói chung là cho bất kỳ phần mềm nào) là một tài liệu tổng quan về phần mềm, với một số chi tiết liên quan đến đặc thù của một phiên bản. Các tài liệu nói chung ngắn gọn so với tài liệu đầy đủ, và chúng thường liệt kê các tính năng đã được giới thiệu kể từ phiên bản trước đó. Nó cũng cung cấp chi tiết về thủ tục nâng cấp, cảnh báo cho người sử dụng các phiên bản trước, và đôi khi là danh sách các lỗi.
			</div><div
              class="para">
				Ghi chú phát hành có sẵn trên mạng: các ghi chú phát hành cho bản phát hành ổn định hiện tại có URL dành riêng, trong khi các ghi chú phát hành cũ hơn có thể được tìm thấy với tên mã của chúng: <div
                class="url">→ <a
                  href="http://www.debian.org/releases/stable/releasenotes">http://www.debian.org/releases/stable/releasenotes</a></div> <div
                class="url">→ <a
                  href="http://www.debian.org/releases/wheezy/releasenotes">http://www.debian.org/releases/wheezy/releasenotes</a></div>
			</div></div><div
            class="para">
				Trong phần này, chúng ta sẽ tập trung vào việc nâng cấp hệ thống <span
              class="distribution distribution">Wheezy</span> lên <span
              class="distribution distribution">Jessie</span>. Đây là một hoạt động chủ yếu trên một hệ thống; Do đó, nó không bao giờ 100% không có lỗi , và không nên thực hiện trước khi tất cả các dữ liệu quan trọng chưa được sao lưu.
			</div><div
            class="para">
				Một thói quen tốt khác làm cho việc nâng cấp dễ dàng hơn (và ngắn hơn) là làm sạch các gói đã cài đặt của bạn và chỉ giữ những gói cần thiết. Các công cụ hữu ích để làm bao gồm <code
              class="command">aptitude</code>, <code
              class="command">deborphan</code> và <code
              class="command">debfoster</code> (xem <a
              class="xref"
              href="sect.apt-get.html#sect.automatic-tracking">Phần 6.2.7, “Theo dõi gói cài đặt tự động”</a>). Ví dụ: bạn có thể sử dụng lệnh sau và sau đó sử dụng chế độ tương tác của <code
              class="command">aptitude</code> để kiểm tra kỹ và điều chỉnh theo lịch trình xóa:
			</div><pre
            class="screen"># <strong
              class="userinput"><code>deborphan | xargs aptitude --schedule-only remove</code></strong></pre><div
            class="para">
				Bây giờ đến phần nâng cấp chính. Trước tiên, bạn cần thay đổi tệp <code
              class="filename">/etc/apt/sources.list</code> để cho APT lấy gói của nó từ <span
              class="distribution distribution">Jessie</span> thay vì <span
              class="distribution distribution">Wheezy</span>. Nếu tập tin chỉ chứa các tham chiếu đến <span
              class="distribution distribution">Stable</span> thay vì tên mã rõ ràng, sự thay đổi thậm chí không bắt buộc, vì <span
              class="distribution distribution">Stable</span> luôn đề cập đến phiên bản phát hành mới nhất của Debian. Trong cả hai trường hợp, phải làm mới cơ sở dữ liệu của gói có sẵn (với lệnh <code
              class="command">apt update</code> hoặc nút làm mới trong <code
              class="command">synaptic</code>).
			</div><div
            class="para">
				Khi những mã nguồn gói mới này được đăng ký, trước tiên bạn nên làm một nâng cấp tối thiểu với <code
              class="command">apt upgrade</code>. Bằng cách nâng cấp theo hai bước, chúng ta sẽ giảm bớt công việc của các công cụ quản lý gói và thường đảm bảo rằng chúng ta có các phiên bản mới nhất, có thể đã tích lũy các bản sửa lỗi và cải tiến cần thiết để hoàn tất việc nâng cấp bản phân phối đầy đủ.
			</div><div
            class="para">
				Sau khi nâng cấp lần đầu tiên được thực hiện, đó là thời gian để tự quản lý bản nâng cấp, hoặc với <code
              class="command">apt full-upgrade</code>, <code
              class="command">aptitude</code> hoặc <code
              class="command">synaptic</code>. Bạn nên cẩn thận kiểm tra các hành động được đề xuất trước khi áp dụng: bạn có thể muốn thêm gói đề xuất hoặc bỏ chọn gói chỉ được đề nghị và được biết là không hữu ích. Trong bất kỳ trường hợp nào, giao diện người dùng phải có một kịch bản kết thúc bằng một hệ thống <span
              class="distribution distribution">Jessie</span> mạch lạc và cập nhật. Sau đó, tất cả những gì bạn cần làm là chờ đợi trong khi các gói cần thiết được tải xuống, trả lời các câu hỏi của Debconf về các tệp cấu hình được chỉnh sửa cục bộ và ngồi đợi trong khi APT thực hiện nhiệm vụ cao cả của nó.
			</div></div><div
          class="section"><div
            class="titlepage"><div><div><h3
                  class="title"><a
                    id="id-1.9.15.4"></a>6.6.2. Xử lý sự cố sau khi nâng cấp</h3></div></div></div><div
            class="para">
				Mặc dù những nỗ lực tốt nhất của người quản lý Debian, một nâng cấp hệ thống lớn không phải lúc nào cũng trôi chảy như bạn mong muốn. Phiên bản phần mềm mới có thể không tương thích với các phiên bản trước (ví dụ, hành vi mặc định của họ hoặc định dạng dữ liệu của họ có thể đã thay đổi). Ngoài ra, một số lỗi có thể trượt qua các vết nứt mặc dù giai đoạn thử nghiệm luôn đi trước một bản phát hành Debian.
			</div><div
            class="para">
				Để dự đoán một số vấn đề này, bạn có thể cài đặt gói <span
              class="pkg pkg">apt-listchanges</span>, hiển thị thông tin về các sự cố có thể xảy ra khi bắt đầu nâng cấp gói. Thông tin này do các nhà bảo trì gói tin lập và đưa vào tệp tin <code
              class="filename">/usr/share/doc/<em
                class="replaceable">package</em>/NEWS.Debian</code> vì lợi ích của người dùng. Đọc các tệp này (có thể thông qua <span
              class="pkg pkg">apt-listchanges</span>) sẽ giúp bạn tránh những sự trục trặc bất ngờ.
			</div><div
            class="para">
				Đôi khi bạn có thể thấy rằng phiên bản mới của một phần mềm không hoạt động. Điều này thường xảy ra nếu ứng dụng không phải là đặc biệt phổ biến và chưa được kiểm tra đủ; Cập nhật vào phút chót cũng có thể đưa ra các hồi quy chỉ được tìm thấy sau khi phát hành ổn định. Trong cả hai trường hợp, điều đầu tiên cần làm là xem hệ thống theo dõi lỗi tại <code
              class="literal">https: //bugs.debian.org/<em
                class="replaceable">package</em></code> và kiểm tra xem vấn đề đã được báo cáo hay chưa. Nếu không, bạn nên tự mình báo cáo với <code
              class="command">reportbug</code>. Nếu nó đã được biết, báo cáo lỗi và các thông điệp liên quan thường là một nguồn thông tin tuyệt vời liên quan đến lỗi:
			</div><div
            xmlns:d="http://docbook.org/ns/docbook"
            class="itemizedlist"><ul><li
                class="listitem"><div
                  class="para">
						Đôi khi một bản vá đã tồn tại, và nó có sẵn trên báo cáo lỗi; Bạn có thể biên dịch lại một phiên bản cố định của gói bị hỏng cục bộ(xem <a
                    class="xref"
                    href="debian-packaging.html#sect.rebuilding-package">Phần 15.1, “Rebuilding a Package from its Sources”</a>);
					</div></li><li
                class="listitem"><div
                  class="para">
						Trong một số trường hợp khác, người dùng có thể đã tìm ra giải pháp cho vấn đề và chia sẻ thông tin chi tiết về vấn đề này trong bài trả lời của họ cho báo cáo;
					</div></li><li
                class="listitem"><div
                  class="para">
						Trong các trường hợp khác, một gói cố định có thể đã được chuẩn bị và công khai bởi người bảo trì.
					</div></li></ul></div><div
            class="para">
				Tùy thuộc vào mức độ nghiêm trọng của lỗi, một phiên bản mới của gói có thể được chuẩn bị đặc biệt cho một bản sửa đổi mới của bản phát hành ổn định. Khi điều này xảy ra, gói cố định được tạo sẵn trong phần <code
              class="literal">proposed-updates</code> của các mirror của Debian (xem <a
              class="xref"
              href="apt.html#sect.proposed-updates">Phần 6.1.2.3, “Đề xuất cập nhật”</a>). Mục tương ứng có thể được tạm thời thêm vào tệp tin <code
              class="filename">sources.list</code> và các gói cập nhật có thể được cài đặt với <code
              class="command">apt</code> hoặc <code
              class="command">aptitude</code>.
			</div><div
            class="para">
				Đôi khi gói cố định không có sẵn trong phần này bởi vì nó đang chờ phê duyệt bởi Nhà quản lý phát hành phiên bản ổn định. Bạn có thể xác minh nếu có trường hợp đó trên trang web của họ. Các gói liệt kê không có sẵn, nhưng ít nhất bạn biết rằng quá trình xuất bản đang được tiến hành. <div
              class="url">→ <a
                href="https://release.debian.org/proposed-updates/stable.html">https://release.debian.org/proposed-updates/stable.html</a></div>
			</div></div></div><ul
        class="docnav"><li
          class="previous"><a
            accesskey="p"
            href="sect.package-authentication.html"><strong>Trước đó</strong>6.5. Kiểm tra Tính xác thực Gói</a></li><li
          class="up"><a
            accesskey="u"
            href="#"><strong>Lên</strong></a></li><li
          class="home"><a
            accesskey="h"
            href="index.html"><strong>Đầu</strong></a></li><li
          class="next"><a
            accesskey="n"
            href="sect.regular-upgrades.html"><strong>Kế tiếp</strong>6.7. Đảm bảo một hệ thống luôn cập nhật</a></li></ul><div
        id="translated_pages"><ul><li><a
              href="../ar-MA/sect.dist-upgrade.html">ar-MA</a></li><li><a
              href="../da-DK/sect.dist-upgrade.html">da-DK</a></li><li><a
              href="../de-DE/sect.dist-upgrade.html">de-DE</a></li><li><a
              href="../el-GR/sect.dist-upgrade.html">el-GR</a></li><li><a
              href="../en-US/sect.dist-upgrade.html">en-US</a></li><li><a
              href="../es-ES/sect.dist-upgrade.html">es-ES</a></li><li><a
              href="../fa-IR/sect.dist-upgrade.html">fa-IR</a></li><li><a
              href="../fr-FR/sect.dist-upgrade.html">fr-FR</a></li><li><a
              href="../hr-HR/sect.dist-upgrade.html">hr-HR</a></li><li><a
              href="../id-ID/sect.dist-upgrade.html">id-ID</a></li><li><a
              href="../it-IT/sect.dist-upgrade.html">it-IT</a></li><li><a
              href="../ja-JP/sect.dist-upgrade.html">ja-JP</a></li><li><a
              href="../ko-KR/sect.dist-upgrade.html">ko-KR</a></li><li><a
              href="../nb-NO/sect.dist-upgrade.html">nb-NO</a></li><li><a
              href="../pl-PL/sect.dist-upgrade.html">pl-PL</a></li><li><a
              href="../pt-BR/sect.dist-upgrade.html">pt-BR</a></li><li><a
              href="../ro-RO/sect.dist-upgrade.html">ro-RO</a></li><li><a
              href="../ru-RU/sect.dist-upgrade.html">ru-RU</a></li><li><a
              href="../tr-TR/sect.dist-upgrade.html">tr-TR</a></li><li><a
              href="../vi-VN/sect.dist-upgrade.html">vi-VN</a></li><li><a
              href="../zh-CN/sect.dist-upgrade.html">zh-CN</a></li><li><a
              href="../zh-TW/sect.dist-upgrade.html">zh-TW</a></li></ul></div></body></html>
