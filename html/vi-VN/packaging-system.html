<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html
    xmlns="http://www.w3.org/1999/xhtml"><head><meta
        http-equiv="Content-Type"
        content="text/html; charset=UTF-8" /><title
        xmlns:d="http://docbook.org/ns/docbook">Chương 5. Hệ thống gói: Công cụ và Nguyên tắc cơ bản</title><link
        rel="stylesheet"
        type="text/css"
        href="Common_Content/css/default.css" /><link
        rel="stylesheet"
        media="print"
        href="Common_Content/css/print.css"
        type="text/css" /><meta
        xmlns:d="http://docbook.org/ns/docbook"
        name="generator"
        content="publican v4.3.2" /><meta
        xmlns:d="http://docbook.org/ns/docbook"
        name="package"
        content="Debian-debian-handbook-9-vi-VN-1.0-1" /><meta
        name="keywords"
        content="Gói nhị phân, Gói mã nguồn, dpkg, dependencies, conflict" /><link
        rel="home"
        href="index.html"
        title="Sổ tay Quản trị Debian" /><link
        rel="up"
        href="index.html"
        title="Sổ tay Quản trị Debian" /><link
        rel="prev"
        href="sect.after-first-boot.html"
        title="4.3. After the First Boot" /><link
        rel="next"
        href="sect.package-meta-information.html"
        title="5.2. Package Meta-Information" /><meta
        name="viewport"
        content="width=device-width, initial-scale=1" /><meta
        name="flattr:id"
        content="4pz9jq" /><link
        rel="canonical"
        href="http://l.github.io/debian-handbook/html/vi-VN/packaging-system.html" /></head><body><noscript><iframe
          src="//www.googletagmanager.com/ns.html?id=GTM-5H35QX"
          height="0"
          width="0"
          style="display:none;visibility:hidden"></iframe></noscript><script
        type="text/javascript">(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
j=d.createElement(s),dl=l!='dataLayer'?'&amp;l='+l:'';j.async=true;j.src=
'//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
})(window,document,'script','dataLayer','GTM-5H35QX');</script><div
        id="banner"><a
          href="../../"><span
            class="text">Download the ebook</span></a></div><p
        id="title"><a
          class="left"
          href="http://www.debian.org"><img
            alt="Product Site"
            src="Common_Content/images//image_left.png" /></a><a
          class="right"
          href="index.html"><img
            alt="Documentation Site"
            src="Common_Content/images//image_right.png" /></a></p><ul
        class="docnav top"><li
          class="previous"><a
            accesskey="p"
            href="sect.after-first-boot.html"><strong>Trước đó</strong></a></li><li
          class="home">Sổ tay Quản trị Debian</li><li
          class="next"><a
            accesskey="n"
            href="sect.package-meta-information.html"><strong>Kế tiếp</strong></a></li></ul><div
        xml:lang="vi-VN"
        class="chapter"
        lang="vi-VN"><div
          class="titlepage"><div><div><h1
                class="title"><a
                  id="packaging-system"></a>Chương 5. Hệ thống gói: Công cụ và Nguyên tắc cơ bản</h1></div></div></div><div
          class="toc"><dl
            class="toc"><dt><span
                class="section"><a
                  href="packaging-system.html#sect.binary-package-structure">5.1. Cấu trúc của một Gói nhị phân</a></span></dt><dt><span
                class="section"><a
                  href="sect.package-meta-information.html">5.2. Package Meta-Information</a></span></dt><dd><dl><dt><span
                    class="section"><a
                      href="sect.package-meta-information.html#sect.control">5.2.1. Mô tả: tệp tin <code
                        class="filename">control</code></a></span></dt><dt><span
                    class="section"><a
                      href="sect.package-meta-information.html#sect.configuration-scripts">5.2.2. Kịch bản Cấu hình</a></span></dt><dt><span
                    class="section"><a
                      href="sect.package-meta-information.html#sect.conffiles">5.2.3. Checksums, Danh sách Tệp Cấu hình</a></span></dt></dl></dd><dt><span
                class="section"><a
                  href="sect.source-package-structure.html">5.3. Cấu trúc của Gói nguồn</a></span></dt><dd><dl><dt><span
                    class="section"><a
                      href="sect.source-package-structure.html#id-1.8.7.4">5.3.1. Định dạng</a></span></dt><dt><span
                    class="section"><a
                      href="sect.source-package-structure.html#id-1.8.7.5">5.3.2. Cách sử dụng trong Debian</a></span></dt></dl></dd><dt><span
                class="section"><a
                  href="sect.manipulating-packages-with-dpkg.html">5.4. Thao tác các gói với <code
                    class="command">dpkg</code></a></span></dt><dd><dl><dt><span
                    class="section"><a
                      href="sect.manipulating-packages-with-dpkg.html#id-1.8.8.5">5.4.1. Cài đặt Gói</a></span></dt><dt><span
                    class="section"><a
                      href="sect.manipulating-packages-with-dpkg.html#id-1.8.8.6">5.4.2. Xóa Gói</a></span></dt><dt><span
                    class="section"><a
                      href="sect.manipulating-packages-with-dpkg.html#id-1.8.8.7">5.4.3. Truy vấn cơ sở dữ liệu của <code
                        class="command">dpkg</code> và kiểm tra các tệp <code
                        class="filename">.deb</code></a></span></dt><dt><span
                    class="section"><a
                      href="sect.manipulating-packages-with-dpkg.html#id-1.8.8.8">5.4.4. Tệp log của <code
                        class="command">dpkg</code></a></span></dt><dt><span
                    class="section"><a
                      href="sect.manipulating-packages-with-dpkg.html#sect.multi-arch">5.4.5. Hỗ trợ Multi-Arch</a></span></dt></dl></dd><dt><span
                class="section"><a
                  href="sect.coexistence-with-other-packaging-systems.html">5.5. Cùng tồn tại với các Hệ thống Gói Khác</a></span></dt></dl></div><div
          class="highlights"><div
            class="para">
		Như một người quản trị hệ thống Debian, bạn sẽ thường xuyên làm việc với các gói <code
              class="filename">.deb</code>, vì chúng chứa các đơn vị chức năng (ứng dụng, tài liệu, etc.) trong việc cài đặt và bảo trì. Vì vậy, là một ý tưởng tốt để biết nó là gì và làm sao đế sử dụng nó.
	</div></div><div
          class="para">
		Chương này mô tả kiến trúc và nội dung của các gói “binary” và “source”. Định dạng các tệp tin <code
            class="filename">.deb</code>, sử dụng trực tiếp bởi <code
            class="command">dpkg</code>, sau nữa là mã nguồn, cũng như hướng dẫn xây dựng các gói nhị phân.
	</div><div
          class="section"><div
            class="titlepage"><div><div><h2
                  class="title"><a
                    id="sect.binary-package-structure"></a>5.1. Cấu trúc của một Gói nhị phân</h2></div></div></div><a
            id="id-1.8.5.2"
            class="indexterm"></a><a
            id="id-1.8.5.3"
            class="indexterm"></a><div
            class="para">
			Định dạng gói Debian được thiết kế sao cho nội dung của nó có thể giải nén trên bất kì hệ thống Unix nào bằng câu lệnh cơ bản <code
              class="command">ar</code>, <code
              class="command">tar</code>, and <code
              class="command">gzip</code> (sometimes <code
              class="command">xz</code> or <code
              class="command">bzip2</code>). Tính năng dường như bình thường này lại quan trọng cho tính linh động và khôi phục thảm hoạ.
		</div><div
            class="para">
			Thử tưởng tượng một ví dụ, rằng bạn đã lỡ xoá mất chương trình <code
              class="command">dpkg</code>, và bạn không thể cài đặt các gói Debian. <code
              class="command">dpkg</code> trở thành gói của chính nó, nó sẽ có vẻ như hệ thống của bạn được thực hiện cho... May mắn thay, bạn hiểu về định dạng của một gói và bạn có thể tải tệp <code
              class="filename">*.deb</code> của gói <span
              class="pkg pkg">dpkg</span> và cài đặt nó bình thường (xem sidebar <a
              class="xref"
              href="packaging-system.html#sidebar.dpkg-apt-ar"><span
                class="emphasis"><em>Các công cụ</em></span> <code
                class="command">dpkg</code>, <code
                class="command">APT</code> and <code
                class="command">ar</code></a>). Nếu thiếu một hoặc nhiều các chương trình <code
              class="command">ar</code>, <code
              class="command">tar</code> hoặc <code
              class="command">gzip</code>/<code
              class="command">xz</code>/<code
              class="command">bzip2</code>, bạn sẽ chỉ cần sao chép chương trình thiếu từ một hệ thống khác (vì mỗi gói là một chương trình hoàn chỉnh, không phụ thuộc, một bản sao là đủ). Nếu hệ thống của bạn đã bị thiếu tài nguyên cần thiết, và thậm chí hệ thống không làm việc (có thể các thư viện sâu của hệ thống bị thiếu?), bạn có thể thử các phiên bản tĩnh của <code
              class="command">busybox</code> (đã cung cấp trong gói <span
              class="pkg pkg">busybox-static</span> package), mà thậm chí còn nhiều hơn, cung cấp các câu lệnh con trên chính nó như <code
              class="command">busybox ar</code>, <code
              class="command">busybox tar</code> và <code
              class="command">busybox gunzip</code>.
		</div><div
            class="sidebar"><a
              id="sidebar.dpkg-apt-ar"></a><div
              class="titlepage"><div><div><p
                    class="title"><strong><span
                        class="emphasis"><em>Các công cụ</em></span> <code
                        class="command">dpkg</code>, <code
                        class="command">APT</code> and <code
                        class="command">ar</code></strong></p></div></div></div><a
              id="id-1.8.5.6.2"
              class="indexterm"></a><a
              id="id-1.8.5.6.3"
              class="indexterm"></a><a
              id="id-1.8.5.6.4"
              class="indexterm"></a><div
              class="para">
			<code
                class="command">dpkg</code> là chương trình xử lý tệp tin <code
                class="filename">.deb</code>, chủ yếu cài đặt, phân tích và giải nén các tập tin.
		</div><div
              class="para">
			<code
                class="command">APT</code> là một nhóm các chương trình cho phép thực hiện các thay đổi cấp cao hơn tới hệ thống: cài đặt và xoá một gói (trong khi giữ phụ thuộc một cách tốt), cập nhật hệ thống, liệt kê các gói đã có, vân vân
		</div><a
              id="id-1.8.5.6.7"
              class="indexterm"></a><div
              class="para">
			Đối với chương trình <code
                class="command">ar</code>, cho phép xử lý tệp tin như: <code
                class="command">ar t <em
                  class="replaceable">archive</em></code> hiển thị danh sách các tệp tin ở trong một archive, <code
                class="command">ar x <em
                  class="replaceable">archive</em></code> giải nén các file từ archive vào thư mục đang làm việc, <code
                class="command">ar d <em
                  class="replaceable">archive</em> <em
                  class="replaceable">file</em></code> xoá một tệp tin từ archive, vân vân. Trang hướng dấn tất cả tính năng khác của lệnh này (<span
                class="citerefentry"><span
                  class="refentrytitle">ar</span>(1)</span>). <code
                class="command">ar</code> là một công cụ rất thô sơ mà một quản trị Unix sử dụng hiếm hoi. Nhưng các quản trị thường xuyên sử dụng <code
                class="command">tar</code>, một chương trình quản lý và lưu trữ files phát triển hơn. Đây là lý do tịa sao nó rất dễ để khôi phục <code
                class="command">dpkg</code> khi có sai sot nào đó. Bạn có thể chỉ cần tài gói Debian và giải nén nội dung từ tệp lưu trữ <code
                class="filename">data.tar.gz</code> vào thư mục gốc (<code
                class="filename">/</code>) của hệ thống.
		</div><pre
              class="screen">
<code
                class="computeroutput"># </code><strong
                class="userinput"><code>ar x dpkg_1.17.23_amd64.deb</code></strong>
<code
                class="computeroutput"># </code><strong
                class="userinput"><code>tar -C / -p -xzf data.tar.gz</code></strong></pre></div><div
            class="sidebar"><div
              class="titlepage"><div><div><p
                    class="title"><strong><span
                        class="emphasis"><em>Trở về cơ bản</em></span> Man page notation</strong></p></div></div></div><div
              class="para">
			Có thể nhầm lần cho người mới bắt đầu để tham chiếu tới “<span
                class="citerefentry"><span
                  class="refentrytitle">ar</span>(1)</span>” trong các tài liệu. Đây là thường là một phương tiện tiện lợi để tham chiếu tới trang tài liệu <code
                class="literal">ar</code> trong nội dung 1
		</div><div
              class="para">
			Đôi khi những ký hiệu này cũng được sử dụng để loại bỏ những mơ hồ, ví dụ phân biệt giữa lệnh <code
                class="command">printf</code> lệnh này có thể cũng được chỉ ra bởi <span
                class="citerefentry"><span
                  class="refentrytitle">printf</span>(1)</span> và hàm <code
                class="function">printf</code> trong ngôn ngữ lập trình C, có thể được tham chiếu bằng <span
                class="citerefentry"><span
                  class="refentrytitle">printf</span>(3)</span>.
		</div><div
              class="para">
			<a
                class="xref"
                href="solving-problems.html">Chương 7, <em>Solving Problems and Finding Relevant Information</em></a> thảo luận về trang hương dẫn chi tiết hơn (see <a
                class="xref"
                href="solving-problems.html#sect.manual-pages">Phần 7.1.1, “Manual Pages”</a>).
		</div></div><div
            class="para">
			Cái nhìn về nội dung trong tệp tin <code
              class="filename">.deb</code>
		</div><pre
            class="screen"><code
              class="computeroutput">$ </code><strong
              class="userinput"><code>ar t dpkg_1.17.23_amd64.deb</code></strong>
<code
              class="computeroutput">debian-binary
control.tar.gz
data.tar.gz
$ </code><strong
              class="userinput"><code>ar x dpkg_1.17.23_amd64.deb</code></strong>
<code
              class="computeroutput">$ </code><strong
              class="userinput"><code>ls</code></strong>
<code
              class="computeroutput">control.tar.gz  data.tar.gz  debian-binary  dpkg_1.17.23_amd64.deb
$ </code><strong
              class="userinput"><code>tar tzf data.tar.gz | head -n 15</code></strong>
<code
              class="computeroutput">./
./var/
./var/lib/
./var/lib/dpkg/
./var/lib/dpkg/parts/
./var/lib/dpkg/info/
./var/lib/dpkg/alternatives/
./var/lib/dpkg/updates/
./etc/
./etc/logrotate.d/
./etc/logrotate.d/dpkg
./etc/dpkg/
./etc/dpkg/dpkg.cfg.d/
./etc/dpkg/dpkg.cfg
./etc/alternatives/
$ </code><strong
              class="userinput"><code>tar tzf control.tar.gz</code></strong>
<code
              class="computeroutput">./
./conffiles
./postinst
./md5sums
./prerm
./preinst
./control
./postrm
$ </code><strong
              class="userinput"><code>cat debian-binary</code></strong>
<code
              class="computeroutput">2.0</code></pre><div
            class="para">
			Như bạn có thể thấy, với góc nhìn qua tệp nén từ lệnh <code
              class="command">ar</code> của một gói Debian gồm có ba tập tin:
		</div><div
            xmlns:d="http://docbook.org/ns/docbook"
            class="itemizedlist"><ul><li
                class="listitem"><div
                  class="para">
					<code
                    class="filename">debian-binary</code>. Đây là một tệp văn bản đơn thuần mà chỉ ra phiên bản của tệp <code
                    class="filename">.deb</code> đã sử dụng (từ năm 2015: version 2.0).
				</div></li><li
                class="listitem"><div
                  class="para">
					<code
                    class="filename">control.tar.gz</code>. Đây là tệp nén chứa tất cả thông tin meta, giống như tên và phiên bản của gói. Một vài thông tin cho phép các công cụ quản lý gói xác định nếu nó có thể cài đặt hoặc gỡ bỏ được nó, ví dụ thể hiện danh sách các gói đã có trên máy tính.
				</div></li><li
                class="listitem"><div
                  class="para">
					<code
                    class="filename">data.tar.gz</code>. Đây là tệp nén chứa tất cả các tệp tin đã được xuất từ gói; đây là nơi các tệp thực thi, tài liệu, vân vân., được lưu trữ. Vài các gói có thể sử dụng bởi chuẩn nén khách, trong trường hợp đó tệp sẽ có tên khác (<code
                    class="filename">data.tar.bz2</code> cho bzip2, <code
                    class="filename">data.tar.xz</code> cho XZ).
				</div></li></ul></div></div></div><ul
        class="docnav"><li
          class="previous"><a
            accesskey="p"
            href="sect.after-first-boot.html"><strong>Trước đó</strong>4.3. After the First Boot</a></li><li
          class="up"><a
            accesskey="u"
            href="#"><strong>Lên</strong></a></li><li
          class="home"><a
            accesskey="h"
            href="index.html"><strong>Đầu</strong></a></li><li
          class="next"><a
            accesskey="n"
            href="sect.package-meta-information.html"><strong>Kế tiếp</strong>5.2. Package Meta-Information</a></li></ul><div
        id="translated_pages"><ul><li><a
              href="../ar-MA/packaging-system.html">ar-MA</a></li><li><a
              href="../da-DK/packaging-system.html">da-DK</a></li><li><a
              href="../de-DE/packaging-system.html">de-DE</a></li><li><a
              href="../el-GR/packaging-system.html">el-GR</a></li><li><a
              href="../en-US/packaging-system.html">en-US</a></li><li><a
              href="../es-ES/packaging-system.html">es-ES</a></li><li><a
              href="../fa-IR/packaging-system.html">fa-IR</a></li><li><a
              href="../fr-FR/packaging-system.html">fr-FR</a></li><li><a
              href="../hr-HR/packaging-system.html">hr-HR</a></li><li><a
              href="../id-ID/packaging-system.html">id-ID</a></li><li><a
              href="../it-IT/packaging-system.html">it-IT</a></li><li><a
              href="../ja-JP/packaging-system.html">ja-JP</a></li><li><a
              href="../ko-KR/packaging-system.html">ko-KR</a></li><li><a
              href="../nb-NO/packaging-system.html">nb-NO</a></li><li><a
              href="../pl-PL/packaging-system.html">pl-PL</a></li><li><a
              href="../pt-BR/packaging-system.html">pt-BR</a></li><li><a
              href="../ro-RO/packaging-system.html">ro-RO</a></li><li><a
              href="../ru-RU/packaging-system.html">ru-RU</a></li><li><a
              href="../tr-TR/packaging-system.html">tr-TR</a></li><li><a
              href="../vi-VN/packaging-system.html">vi-VN</a></li><li><a
              href="../zh-CN/packaging-system.html">zh-CN</a></li><li><a
              href="../zh-TW/packaging-system.html">zh-TW</a></li></ul></div></body></html>
