<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html
    xmlns="http://www.w3.org/1999/xhtml"><head><meta
        http-equiv="Content-Type"
        content="text/html; charset=UTF-8" /><title
        xmlns:d="http://docbook.org/ns/docbook">6.8. Tự động nâng cấp</title><link
        rel="stylesheet"
        type="text/css"
        href="Common_Content/css/default.css" /><link
        rel="stylesheet"
        media="print"
        href="Common_Content/css/print.css"
        type="text/css" /><meta
        xmlns:d="http://docbook.org/ns/docbook"
        name="generator"
        content="publican v4.3.2" /><meta
        xmlns:d="http://docbook.org/ns/docbook"
        name="package"
        content="Debian-debian-handbook-9-vi-VN-1.0-1" /><meta
        name="keywords"
        content="apt, apt-get, apt-cache, aptitude, synaptic, sources.list, apt-cdrom" /><link
        rel="home"
        href="index.html"
        title="Sổ tay Quản trị Debian" /><link
        rel="up"
        href="apt.html"
        title="Chương 6. Bảo trì và Cập nhật: Công cụ APT" /><link
        rel="prev"
        href="sect.regular-upgrades.html"
        title="6.7. Đảm bảo một hệ thống luôn cập nhật" /><link
        rel="next"
        href="sect.searching-packages.html"
        title="6.9. Tìm gói" /><meta
        name="viewport"
        content="width=device-width, initial-scale=1" /><meta
        name="flattr:id"
        content="4pz9jq" /><link
        rel="canonical"
        href="http://l.github.io/debian-handbook/html/vi-VN/sect.automatic-upgrades.html" /></head><body><noscript><iframe
          src="//www.googletagmanager.com/ns.html?id=GTM-5H35QX"
          height="0"
          width="0"
          style="display:none;visibility:hidden"></iframe></noscript><script
        type="text/javascript">(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
j=d.createElement(s),dl=l!='dataLayer'?'&amp;l='+l:'';j.async=true;j.src=
'//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
})(window,document,'script','dataLayer','GTM-5H35QX');</script><div
        id="banner"><a
          href="../../"><span
            class="text">Download the ebook</span></a></div><p
        id="title"><a
          class="left"
          href="http://www.debian.org"><img
            alt="Product Site"
            src="Common_Content/images//image_left.png" /></a><a
          class="right"
          href="index.html"><img
            alt="Documentation Site"
            src="Common_Content/images//image_right.png" /></a></p><ul
        class="docnav top"><li
          class="previous"><a
            accesskey="p"
            href="sect.regular-upgrades.html"><strong>Trước đó</strong></a></li><li
          class="home">Sổ tay Quản trị Debian</li><li
          class="next"><a
            accesskey="n"
            href="sect.searching-packages.html"><strong>Kế tiếp</strong></a></li></ul><div
        class="section"><div
          class="titlepage"><div><div><h2
                class="title"><a
                  id="sect.automatic-upgrades"></a>6.8. Tự động nâng cấp</h2></div></div></div><a
          id="id-1.9.17.2"
          class="indexterm"></a><a
          id="id-1.9.17.3"
          class="indexterm"></a><div
          class="para">
			Vì Falcot Corp có nhiều máy tính nhưng chỉ có giới hạn nhân lực, nên các quản trị viên cố gắng nâng cấp càng nhiều càng tốt. Các chương trình phụ trách các quá trình này do đó phải chạy mà không có sự can thiệp của con người.
		</div><div
          class="section"><div
            class="titlepage"><div><div><h3
                  class="title"><a
                    id="id-1.9.17.5"></a>6.8.1. Cấu hình <code
                    class="command">dpkg</code></h3></div></div></div><div
            class="para">
				Như đã đề cập ở trên, <code
              class="command">dpkg</code> có thể được tùy chọn không yêu cầu xác nhận khi thay thế tệp tin cấu hình (với tùy chọn <code
              class="literal"> - force-confdef --force-confold</code>). Tương tác có thể có ba nguồn khác: một số đến từ chính APT, một số được quản lý bởi <code
              class="command">debconf</code>, và một số xảy ra trên dòng lệnh do các tập lệnh cấu hình gói.
			</div></div><div
          class="section"><div
            class="titlepage"><div><div><h3
                  class="title"><a
                    id="id-1.9.17.6"></a>6.8.2. Cấu hình APT</h3></div></div></div><div
            class="para">
				Trường hợp của APT rất đơn giản: tùy chọn <code
              class="literal">-y</code> (hoặc <code
              class="literal">--assum-yes</code>) cho APT biết câu trả lời cho tất cả các câu hỏi là “có“.
			</div></div><div
          class="section"><div
            class="titlepage"><div><div><h3
                  class="title"><a
                    id="id-1.9.17.7"></a>6.8.3. Cấu hình <code
                    class="command">debconf</code></h3></div></div></div><div
            class="para">
				Trường hợp của <code
              class="command">debconf</code> cần được cung cấp thêm chi tiết. Chương trình này đã được thiết kế để kiểm soát sự liên quan và số lượng của câu hỏi được hiển thị cho người dùng, cũng như cách chúng được hiển thị. Đó là lý do tại sao cấu hình yêu cầu một sự ưu tiên tối thiểu cho các câu hỏi; Chỉ những câu hỏi trên mức ưu tiên tối thiểu được hiển thị. <code
              class="command">debconf</code> giả định câu trả lời mặc định (được xác định bởi người duy trì gói) đối với các câu hỏi mà nó quyết định bỏ qua.
			</div><div
            class="para">
				Thành phần cấu hình có liên quan khác là giao diện được sử dụng bởi giao diện người dùng. Nếu bạn chọn <code
              class="literal">noninteractive</code> trong số các lựa chọn, tất cả tương tác người dùng sẽ bị vô hiệu hoá. Nếu một gói cố gắng hiển thị một lưu ý thông tin, nó sẽ được gửi tới quản trị viên qua email.
			</div><div
            class="para">
				Để định cấu hình lại <code
              class="command">debconf</code>, hãy sử dụng công cụ <code
              class="command">dpkg-reconfigure</code> từ gói <span
              class="pkg pkg">debconf</span>; Lệnh có liên quan là <code
              class="command">dpkg-cấu hình lại debconf</code>. Lưu ý rằng các giá trị được cấu hình có thể được tạm thời ghi đè bằng các biến môi trường khi cần thiết (ví dụ: <code
              class="varname">DEBIAN_FRONTEND</code> điều khiển giao diện, như đã được ghi lại trong trang hướng dẫn sử dụng. <span
              class="citerefentry"><span
                class="refentrytitle">debconf</span>(7)</span>).
			</div></div><div
          class="section"><div
            class="titlepage"><div><div><h3
                  class="title"><a
                    id="id-1.9.17.8"></a>6.8.4. Xử lý tương tác dòng lệnh</h3></div></div></div><div
            class="para">
				Nguồn cuối cùng của các tương tác, và hầu như cần phải có, là các tập lệnh cấu hình được chạy bởi <code
              class="command">dpkg</code>. Không may là không có giải pháp tiêu chuẩn, và không có câu trả lời luôn luôn tốt nhất.
			</div><div
            class="para">
				Cách tiếp cận phổ biến là để ngăn chặn các đầu vào tiêu chuẩn bằng cách chuyển hướng nội dung trống của <code
              class="filename">/dev/null</code> vào nó với <code
              class="command"><em
                class="replaceable">command</em> &lt;/dev/ null</code> hoặc để cung cấp cho nó với một số lượng bất tận các dòng mới. Không có phương pháp nào trong số này là 100% đáng tin cậy nhưng thường dẫn đến các câu trả lời mặc định đang được sử dụng, vì hầu hết các kịch bản đều xem xét việc thiếu câu trả lời như là sự chấp nhận giá trị mặc định.
			</div></div><div
          class="section"><div
            class="titlepage"><div><div><h3
                  class="title"><a
                    id="id-1.9.17.9"></a>6.8.5. Kết hợp Hoàn hảo</h3></div></div></div><div
            class="para">
				Bằng cách kết hợp các thành phần đã nêu, có thể thiết kế một kịch bản nhỏ nhưng đáng tin cậy có thể xử lý các nâng cấp tự động.
			</div><div
            class="example"><a
              id="example.non-interactive-upgrade"></a><p
              class="title"><strong>Ví dụ 6.4. Tập lệnh nâng cấp không tương tác</strong></p><div
              class="example-contents"><pre
                class="programlisting">export DEBIAN_FRONTEND=noninteractive
yes '' | apt-get -y -o DPkg::options::="--force-confdef" -o DPkg::options::="--force-confold" dist-upgrade</pre></div></div><div
            class="sidebar"><div
              class="titlepage"><div><div><p
                    class="title"><strong><span
                        class="emphasis"><em>TRONG THỰC HÀNH</em></span> Trường hợp của Falcot Corp</strong></p></div></div></div><div
              class="para">
				Các máy tính Falcot là một hệ thống không đồng nhất, với các máy có các chức năng khác nhau. Do đó, các quản trị viên sẽ chọn giải pháp phù hợp nhất cho mỗi máy tính.
			</div><div
              class="para">
				In practice, the servers running <span
                class="distribution distribution">Stretch</span> are configured with the “miracle combination” above, and are kept up to date automatically. Only the most critical servers (the firewalls, for instances) are set up with <code
                class="command">apticron</code>, so that upgrades always happen under the supervision of an administrator.
			</div><div
              class="para">
				The office workstations in the administrative services also run <span
                class="distribution distribution">Stretch</span>, but they are equipped with <span
                class="pkg pkg">gnome-packagekit</span>, so that users trigger the upgrades themselves. The rationale for this decision is that if upgrades happen without an explicit action, the behavior of the computer might change unexpectedly, which could cause confusion for the main users.
			</div><div
              class="para">
				Trong phòng thí nghiệm, một số máy tính sử dụng <span
                class="distribution distribution">Testing</span> - để tận dụng các phiên bản phần mềm mới nhất - cũng không được nâng cấp tự động. Quản trị viên chỉ cấu hình APT để chuẩn bị nâng cấp nhưng không ban hành; Khi họ quyết định nâng cấp (thủ công) thì sẽ tránh được những phần tẻ nhạt trong danh sách gói tải xuống và gói tải xuống và quản trị viên có thể tập trung vào phần thực sự hữu ích.
			</div></div></div></div><ul
        class="docnav"><li
          class="previous"><a
            accesskey="p"
            href="sect.regular-upgrades.html"><strong>Trước đó</strong>6.7. Đảm bảo một hệ thống luôn cập nhật</a></li><li
          class="up"><a
            accesskey="u"
            href="#"><strong>Lên</strong></a></li><li
          class="home"><a
            accesskey="h"
            href="index.html"><strong>Đầu</strong></a></li><li
          class="next"><a
            accesskey="n"
            href="sect.searching-packages.html"><strong>Kế tiếp</strong>6.9. Tìm gói</a></li></ul><div
        id="translated_pages"><ul><li><a
              href="../ar-MA/sect.automatic-upgrades.html">ar-MA</a></li><li><a
              href="../da-DK/sect.automatic-upgrades.html">da-DK</a></li><li><a
              href="../de-DE/sect.automatic-upgrades.html">de-DE</a></li><li><a
              href="../el-GR/sect.automatic-upgrades.html">el-GR</a></li><li><a
              href="../en-US/sect.automatic-upgrades.html">en-US</a></li><li><a
              href="../es-ES/sect.automatic-upgrades.html">es-ES</a></li><li><a
              href="../fa-IR/sect.automatic-upgrades.html">fa-IR</a></li><li><a
              href="../fr-FR/sect.automatic-upgrades.html">fr-FR</a></li><li><a
              href="../hr-HR/sect.automatic-upgrades.html">hr-HR</a></li><li><a
              href="../id-ID/sect.automatic-upgrades.html">id-ID</a></li><li><a
              href="../it-IT/sect.automatic-upgrades.html">it-IT</a></li><li><a
              href="../ja-JP/sect.automatic-upgrades.html">ja-JP</a></li><li><a
              href="../ko-KR/sect.automatic-upgrades.html">ko-KR</a></li><li><a
              href="../nb-NO/sect.automatic-upgrades.html">nb-NO</a></li><li><a
              href="../pl-PL/sect.automatic-upgrades.html">pl-PL</a></li><li><a
              href="../pt-BR/sect.automatic-upgrades.html">pt-BR</a></li><li><a
              href="../ro-RO/sect.automatic-upgrades.html">ro-RO</a></li><li><a
              href="../ru-RU/sect.automatic-upgrades.html">ru-RU</a></li><li><a
              href="../tr-TR/sect.automatic-upgrades.html">tr-TR</a></li><li><a
              href="../vi-VN/sect.automatic-upgrades.html">vi-VN</a></li><li><a
              href="../zh-CN/sect.automatic-upgrades.html">zh-CN</a></li><li><a
              href="../zh-TW/sect.automatic-upgrades.html">zh-TW</a></li></ul></div></body></html>
