<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html
    xmlns="http://www.w3.org/1999/xhtml"><head><meta
        http-equiv="Content-Type"
        content="text/html; charset=UTF-8" /><title
        xmlns:d="http://docbook.org/ns/docbook">6.7. Đảm bảo một hệ thống luôn cập nhật</title><link
        rel="stylesheet"
        type="text/css"
        href="Common_Content/css/default.css" /><link
        rel="stylesheet"
        media="print"
        href="Common_Content/css/print.css"
        type="text/css" /><meta
        xmlns:d="http://docbook.org/ns/docbook"
        name="generator"
        content="publican v4.3.2" /><meta
        xmlns:d="http://docbook.org/ns/docbook"
        name="package"
        content="Debian-debian-handbook-9-vi-VN-1.0-1" /><meta
        name="keywords"
        content="apt, apt-get, apt-cache, aptitude, synaptic, sources.list, apt-cdrom" /><link
        rel="home"
        href="index.html"
        title="Sổ tay Quản trị Debian" /><link
        rel="up"
        href="apt.html"
        title="Chương 6. Bảo trì và Cập nhật: Công cụ APT" /><link
        rel="prev"
        href="sect.dist-upgrade.html"
        title="6.6. Nâng cấp từ bản phân phối ổn định đến kế tiếp" /><link
        rel="next"
        href="sect.automatic-upgrades.html"
        title="6.8. Tự động nâng cấp" /><meta
        name="viewport"
        content="width=device-width, initial-scale=1" /><meta
        name="flattr:id"
        content="4pz9jq" /><link
        rel="canonical"
        href="http://l.github.io/debian-handbook/html/vi-VN/sect.regular-upgrades.html" /></head><body><noscript><iframe
          src="//www.googletagmanager.com/ns.html?id=GTM-5H35QX"
          height="0"
          width="0"
          style="display:none;visibility:hidden"></iframe></noscript><script
        type="text/javascript">(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
j=d.createElement(s),dl=l!='dataLayer'?'&amp;l='+l:'';j.async=true;j.src=
'//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
})(window,document,'script','dataLayer','GTM-5H35QX');</script><div
        id="banner"><a
          href="../../"><span
            class="text">Download the ebook</span></a></div><p
        id="title"><a
          class="left"
          href="http://www.debian.org"><img
            alt="Product Site"
            src="Common_Content/images//image_left.png" /></a><a
          class="right"
          href="index.html"><img
            alt="Documentation Site"
            src="Common_Content/images//image_right.png" /></a></p><ul
        class="docnav top"><li
          class="previous"><a
            accesskey="p"
            href="sect.dist-upgrade.html"><strong>Trước đó</strong></a></li><li
          class="home">Sổ tay Quản trị Debian</li><li
          class="next"><a
            accesskey="n"
            href="sect.automatic-upgrades.html"><strong>Kế tiếp</strong></a></li></ul><div
        class="section"><div
          class="titlepage"><div><div><h2
                class="title"><a
                  id="sect.regular-upgrades"></a>6.7. Đảm bảo một hệ thống luôn cập nhật</h2></div></div></div><div
          class="para">
			Bản phân phối Debian rất năng động và thay đổi liên tục. Hầu hết các thay đổi đều có trong các phiên bản <span
            class="distribution distribution">Testing</span> và <span
            class="distribution distribution">Unstable</span>, nhưng ngay cả <span
            class="distribution distribution">Stable</span> cũng được cập nhật theo thời gian, chủ yếu dành cho các bản sửa lỗi liên quan đến bảo mật. Cho dù phiên bản nào của Debian đang chạy, luôn cố gắng đảm bảo cho nó được cập nhật, để bạn có thể có được lợi ích của những tiến triển mới nhất và các bản sửa lỗi.
		</div><div
          class="para">
			Mặc dù có thể chạy thường xuyên một công cụ để kiểm tra các bản cập nhật có sẵn và chạy các nâng cấp, nhưng đó là một công việc lặp đi lặp lại rất tẻ nhạt, đặc biệt khi nó cần phải được thực hiện trên một số máy. May mắn thay, giống như nhiều nhiệm vụ lặp đi lặp lại, nó có thể được tự động hóa một phần, và một bộ công cụ đã được phát triển để làm điều đó.
		</div><div
          class="para">
			Công cụ đầu tiên trong số này là <code
            class="command">apticron</code>, trong gói có cùng tên. Công dụng chính của nó là chạy một kịch bản hàng ngày (thông qua <code
            class="command">cron</code>). Kịch bản cập nhật danh sách các gói có sẵn, và nếu một số gói cài đặt không có trong phiên bản mới nhất, nó sẽ gửi một email với một danh sách các gói này cùng với những thay đổi đã được thực hiện trong các phiên bản mới. Rõ ràng, gói này chủ yếu nhắm tới người dùng của Debian <span
            class="distribution distribution">Stable</span>, vì email hàng ngày sẽ rất dài cho các phiên bản nhịp độ nhanh hơn của Debian. Khi cập nhật có sẵn, <code
            class="command">apticron</code> tự động tải chúng xuống. Nó không cài đặt chúng - quản trị viên vẫn sẽ làm điều đó - nhưng các gói đã được tải về và có sẵn cục bộ (trong bộ nhớ cache của APT) làm cho công việc nhanh hơn.
		</div><div
          class="para">
			Các quản trị viên phụ trách một số máy tính sẽ đánh gía cao khi được thông báo về các nâng cấp chưa được nâng cấp, nhưng việc nâng cấp vẫn còn tẻ nhạt như trước, đó là nơi tập lệnh <code
            class="filename">/etc/cron.daily/apt</code> (trong gói <span
            class="pkg pkg">apt</span>) Có ích. Tập lệnh này cũng được chạy hàng ngày (và không tương tác) bởi <code
            class="command">cron</code>. Để kiểm soát hành vi của nó, sử dụng các biến cấu hình APT (do đó lưu trữ trong một tệp tin dưới <code
            class="filename">/etc/apt/apt.conf.d /</code>). Các biến số chính là:
		</div><div
          class="variablelist"><dl
            class="variablelist"><dt><span
                class="term"><code
                  class="literal">APT::Periodic::Update-Package-Lists</code></span></dt><dd><div
                class="para">
						Tùy chọn này cho phép bạn xác định tần số (tính theo ngày) mà danh sách gói được làm mới. Người dùng có thể thực hiện lệnh mà không cần có biến này, vì <code
                  class="command">apticron</code> đã làm nhiệm vụ này.
					</div></dd><dt><span
                class="term"><code
                  class="literal">APT::Periodic::Download-Upgradeable-Packages</code></span></dt><dd><div
                class="para">
						Tương tự, tùy chọn này cho thấy một tần số (tính theo ngày), lần này để tải các gói thực tế. Và có thể, người dùng <code
                  class="command">apticron</code> sẽ không cần nó.
					</div></dd><dt><span
                class="term"><code
                  class="literal">APT::Periodic::AutocleanInterval</code></span></dt><dd><div
                class="para">
						Tuỳ chọn này bao gồm một tính năng mà <code
                  class="command">apticron</code> không có. Nó kiểm soát các gói đã lỗi thời (những gì không được tham chiếu bởi bất kỳ phân phối nào nữa) được xóa khỏi bộ nhớ cache APT. Điều này giữ cho bộ nhớ cache APT ở một kích thước hợp lý và có nghĩa là bạn không cần phải lo lắng về nhiệm vụ đó.
					</div></dd><dt><span
                class="term"><code
                  class="literal">APT::Periodic::Unattended-Upgrade</code></span></dt><dd><a
                id="id-1.9.16.6.4.2.1"
                class="indexterm"></a><div
                class="para">
						Khi tùy chọn này được kích hoạt, tập lệnh hàng ngày sẽ thực thi <code
                  class="command">unattended-upgrade</code> (từ gói <span
                  class="pkg pkg">unattended-upgrades</span>) - theo đề nghị của nó - có thể tự động hóa quá trình nâng cấp cho một số gói (theo mặc định nó chỉ cần đảm bảo cập nhật bảo mật, Có thể được tùy chỉnh trong <code
                  class="filename">/etc/apt/apt.conf.d/50unattended-upgrades</code>). Lưu ý rằng tùy chọn này có thể được thiết lập với sự trợ giúp của debconf bằng cách chạy <code
                  class="command">dpkg-reconfigure -plow unattended-upgrades</code>.
					</div></dd></dl></div><div
          class="para">
			Các tùy chọn khác có thể cho phép bạn kiểm soát hành vi làm sạch bộ nhớ cache với độ chính xác hơn. Chúng không được liệt kê ở đây, nhưng chúng được mô tả trong tập lệnh <code
            class="filename">/etc/cron.daily/apt</code>.
		</div><a
          id="id-1.9.16.8"
          class="indexterm"></a><div
          class="para">
			Những công cụ này làm việc rất tốt cho các máy chủ, nhưng người dùng máy tính để bàn thường thích một hệ thống tương tác hơn. Đó là lý do tại sao nhiệm vụ “Môi trường máy tính để bàn Debian“ cài đặt <span
            class="pkg pkg">gnome-packagekit</span> (ít nhất khi bạn chọn GNOME làm môi trường máy tính để bàn). Nó cung cấp một biểu tượng trong khu vực thông báo của môi trường máy tính để bàn khi cập nhật có sẵn; Nhấp vào biểu tượng này sau đó chạy <code
            class="command">gpk-update-viewer</code>, một giao diện đơn giản để thực hiện cập nhật. Bạn có thể duyệt qua các bản cập nhật khả dụng, đọc mô tả ngắn gọn về các gói có liên quan và các mục tương ứng <code
            class="filename">changelog</code> và chọn áp dụng bản cập nhật hay không theo từng trường hợp.
		</div><div
          class="figure"><a
            id="id-1.9.16.10"></a><div
            class="figure-contents"><div
              class="mediaobject"><img
                src="images/gnome-packagekit.png"
                alt="Nâng cấp với gpk-update-viewer" /></div></div><p
            class="title"><strong>Hình 6.3. Nâng cấp với <code
                class="command">gpk-update-viewer</code></strong></p></div></div><ul
        class="docnav"><li
          class="previous"><a
            accesskey="p"
            href="sect.dist-upgrade.html"><strong>Trước đó</strong>6.6. Nâng cấp từ bản phân phối ổn định đến kế tiếp</a></li><li
          class="up"><a
            accesskey="u"
            href="#"><strong>Lên</strong></a></li><li
          class="home"><a
            accesskey="h"
            href="index.html"><strong>Đầu</strong></a></li><li
          class="next"><a
            accesskey="n"
            href="sect.automatic-upgrades.html"><strong>Kế tiếp</strong>6.8. Tự động nâng cấp</a></li></ul><div
        id="translated_pages"><ul><li><a
              href="../ar-MA/sect.regular-upgrades.html">ar-MA</a></li><li><a
              href="../da-DK/sect.regular-upgrades.html">da-DK</a></li><li><a
              href="../de-DE/sect.regular-upgrades.html">de-DE</a></li><li><a
              href="../el-GR/sect.regular-upgrades.html">el-GR</a></li><li><a
              href="../en-US/sect.regular-upgrades.html">en-US</a></li><li><a
              href="../es-ES/sect.regular-upgrades.html">es-ES</a></li><li><a
              href="../fa-IR/sect.regular-upgrades.html">fa-IR</a></li><li><a
              href="../fr-FR/sect.regular-upgrades.html">fr-FR</a></li><li><a
              href="../hr-HR/sect.regular-upgrades.html">hr-HR</a></li><li><a
              href="../id-ID/sect.regular-upgrades.html">id-ID</a></li><li><a
              href="../it-IT/sect.regular-upgrades.html">it-IT</a></li><li><a
              href="../ja-JP/sect.regular-upgrades.html">ja-JP</a></li><li><a
              href="../ko-KR/sect.regular-upgrades.html">ko-KR</a></li><li><a
              href="../nb-NO/sect.regular-upgrades.html">nb-NO</a></li><li><a
              href="../pl-PL/sect.regular-upgrades.html">pl-PL</a></li><li><a
              href="../pt-BR/sect.regular-upgrades.html">pt-BR</a></li><li><a
              href="../ro-RO/sect.regular-upgrades.html">ro-RO</a></li><li><a
              href="../ru-RU/sect.regular-upgrades.html">ru-RU</a></li><li><a
              href="../tr-TR/sect.regular-upgrades.html">tr-TR</a></li><li><a
              href="../vi-VN/sect.regular-upgrades.html">vi-VN</a></li><li><a
              href="../zh-CN/sect.regular-upgrades.html">zh-CN</a></li><li><a
              href="../zh-TW/sect.regular-upgrades.html">zh-TW</a></li></ul></div></body></html>
