<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html
    xmlns="http://www.w3.org/1999/xhtml"><head><meta
        http-equiv="Content-Type"
        content="text/html; charset=UTF-8" /><title
        xmlns:d="http://docbook.org/ns/docbook">3.2. Hoe Migreren</title><link
        rel="stylesheet"
        type="text/css"
        href="Common_Content/css/default.css" /><link
        rel="stylesheet"
        media="print"
        href="Common_Content/css/print.css"
        type="text/css" /><meta
        xmlns:d="http://docbook.org/ns/docbook"
        name="generator"
        content="publican v4.3.2" /><meta
        xmlns:d="http://docbook.org/ns/docbook"
        name="package"
        content="Debian-debian-handbook-9-nl-NL-1.0-1" /><meta
        name="keywords"
        content="Bestaande Installatie, Hergebruik, Migratie" /><link
        rel="home"
        href="index.html"
        title="Het Debian Beheerders Handboek" /><link
        rel="up"
        href="existing-setup.html"
        title="Hoofdstuk 3. De Bestaande Installatie Analyseren en Migreren" /><link
        rel="prev"
        href="existing-setup.html"
        title="Hoofdstuk 3. De Bestaande Installatie Analyseren en Migreren" /><link
        rel="next"
        href="installation.html"
        title="Hoofdstuk 4. Installatie" /><meta
        name="viewport"
        content="width=device-width, initial-scale=1" /><meta
        name="flattr:id"
        content="4pz9jq" /><link
        rel="canonical"
        href="http://l.github.io/debian-handbook/html/nl-NL/sect.how-to-migrate.html" /></head><body><noscript><iframe
          src="//www.googletagmanager.com/ns.html?id=GTM-5H35QX"
          height="0"
          width="0"
          style="display:none;visibility:hidden"></iframe></noscript><script
        type="text/javascript">(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
j=d.createElement(s),dl=l!='dataLayer'?'&amp;l='+l:'';j.async=true;j.src=
'//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
})(window,document,'script','dataLayer','GTM-5H35QX');</script><div
        id="banner"><a
          href="../../"><span
            class="text">Download the ebook</span></a></div><p
        id="title"><a
          class="left"
          href="http://www.debian.org"><img
            alt="Product Site"
            src="Common_Content/images//image_left.png" /></a><a
          class="right"
          href="index.html"><img
            alt="Documentation Site"
            src="Common_Content/images//image_right.png" /></a></p><ul
        class="docnav top"><li
          class="previous"><a
            accesskey="p"
            href="existing-setup.html"><strong>Terug</strong></a></li><li
          class="home">Het Debian Beheerders Handboek</li><li
          class="next"><a
            accesskey="n"
            href="installation.html"><strong>Volgende</strong></a></li></ul><div
        class="section"><div
          class="titlepage"><div><div><h2
                class="title"><a
                  id="sect.how-to-migrate"></a>3.2. Hoe Migreren</h2></div></div></div><a
          id="id-1.6.5.2"
          class="indexterm"></a><div
          class="para">
			Om continuïteit van de diensten te garanderen moet iedere computer migratie gepland en uitgevoerd worden volgens het plan. Dit principe geldt altijd, wat het gebruikte besturingssysteem ook is.
		</div><div
          class="section"><div
            class="titlepage"><div><div><h3
                  class="title"><a
                    id="id-1.6.5.4"></a>3.2.1. Onderzoek en Diensten Identificeren</h3></div></div></div><div
            class="para">
				Hoe simpel het lijkt, deze stap is essentieel. Een serieuze beheerder weet echt de principiële rol van iedere server, maar zulke rollen kunnen veranderen en soms hebben gebruikers met ervaring bepaalde “wilde” diensten geïnstalleerd. Weten dat deze bestaan zal je ten minste laten beslissen wat ermee te doen, in tegenstelling tot ze halsoverkop te verwijderen.
			</div><div
            class="para">
				Voor dit doel is het verstandig jouw gebruikers te informeren over het project voor de server te migreren. Om hen te betrekken in het project kan het goed zijn om de meest algemene vrij software programma's op hun desktops te installeren voor de migratie, met welke ze weer in aanraking komen na de migratie naar Debian; Libre Office en het Mozilla Pakket zijn hier de beste voorbeelden.
			</div><div
            class="section"><div
              class="titlepage"><div><div><h4
                    class="title"><a
                      id="id-1.6.5.4.4"></a>3.2.1.1. Netwerk en Processen</h4></div></div></div><a
              id="id-1.6.5.4.4.2"
              class="indexterm"></a><div
              class="para">
					Het <code
                class="command">nmap</code> gereedschap (in het pakket met dezelfde naam) zal Internet diensten snel identificeren geherbergd door een machine verbonden aan het netwerk zelfs zonder er op te moeten inloggen. geef simpelweg het volgende commando op een andere machine verbonden met hetzelfde netwerk:
				</div><pre
              class="screen">
<code
                class="computeroutput">$ </code><strong
                class="userinput"><code>nmap mirwiz</code></strong>
<code
                class="computeroutput">Starting Nmap 7.40 ( https://nmap.org ) at 2017-06-06 14:41 CEST
Nmap scan report for mirwiz (192.168.1.104)
Host is up (0.00062s latency).
Not shown: 992 closed ports
PORT     STATE SERVICE
22/tcp   open  ssh
25/tcp   open  smtp
80/tcp   open  http
111/tcp  open  rpcbind
139/tcp  open  netbios-ssn
445/tcp  open  microsoft-ds
5666/tcp open  nrpe
9999/tcp open  abyss

Nmap done: 1 IP address (1 host up) scanned in 0.06 seconds</code></pre><div
              class="sidebar"><div
                class="titlepage"><div><div><p
                      class="title"><strong><span
                          class="emphasis"><em>ALTERNATIEF</em></span> Gebruik <code
                          class="command">netstat</code> om een lijst van beschikbare diensten te vinden</strong></p></div></div></div><div
                class="para">
					Op een Linux machine toont het <code
                  class="command">netstat -tupan</code> commando een lijst van actieve of TCP sessies in wacht, alsook UDP poorten waarop programma's draaien en luisteren. Dit faciliteert de identificatie van diensten aangeboden op het netwerk.
				</div></div><div
              class="sidebar"><div
                class="titlepage"><div><div><p
                      class="title"><strong><span
                          class="emphasis"><em>VERDER GAAN</em></span> IPv6</strong></p></div></div></div><div
                class="para">
					Sommige netwerk commando's kunnen werken met IPv4 (meestal de standaard) en met IPv6. Deze bevatten de <code
                  class="command">nmap</code> en <code
                  class="command">netstat</code> commando's, maar ook andere, zoals <code
                  class="command">route</code> of <code
                  class="command">ip</code>. De cenventie is dat dit gedrag wordt ingeschakeld door de <em
                  class="parameter"><code>-6</code></em> commando-lijn optie.
				</div></div><div
              class="para">
					Als de server een Unix machine is die shell accounts bied aan gebruikers, is het interessant om uit te maken of processen in de achtergrond worden uitgevoerd in de afwezigheid van hun eigenaar. Het commando <code
                class="command">ps auxw</code> toont een lijst van alle processen met de identiteit van hun gebruiker. Door deze informatie te vergelijken met de output van het <code
                class="command">who</code> commando, welke een lijst geeft van gebruikers die zijn ingelogd, is het mogelijk om schurk of ongedefinieerde servers of programma's die draaien in de achtergrond. Kijkend naar <code
                class="filename">crontabs</code> (tabellen die automatische geplande acties van gebruikers bevat) zal vaak interessante informatie bieden over functies uitgevoerd door de server (een complete uitleg van <code
                class="command">cron</code> is beschikbaar in <a
                class="xref"
                href="sect.task-scheduling-cron-atd.html">Paragraaf 9.7, “Scheduling Tasks with <code
                  class="command">cron</code> and <code
                  class="command">atd</code>”</a>).
				</div><div
              class="para">
					In ieder geval, is het essentieel om jouw servers te back-uppen: dit laat toe om achteraf de informatie te herstellen, wanneer gebruikers specifieke problemen rapporteren ten gevolge van de migratie.
				</div></div></div><div
          class="section"><div
            class="titlepage"><div><div><h3
                  class="title"><a
                    id="id-1.6.5.5"></a>3.2.2. de Configuratie back-uppen</h3></div></div></div><div
            class="para">
				Het is verstandig de configuratie van iedere geïdentificeerde dienst te bewaren om in staat te zijn om het equivalent te installeren op de ge-update server. Het echte minimum is om een backup te maken van de configuratie bestanden.
			</div><div
            class="para">
				Voor Unix machines zijn de configuratie bestanden meestal te vinden in <code
              class="filename">/etc/</code>, maar ze kunnen ook gevonden worden in een sub-directory van <code
              class="filename">/usr/local/</code>. Dit is het geval als een programma is geïnstalleerd van broncode in plaats van met een pakket. In sommige gevallen, kan men ze ook vinden onder <code
              class="filename">/opt/</code>.
			</div><div
            class="para">
				Voor data beheer systemen (zoals een databank) is het zeer sterk aanbevolen de date te exporteren naar een standaard formaat dat gemakkelijk kan geïmporteerd worden in de nieuwe software. Zo'n formaat is meestal in tekst modus en gedocumenteerd; Het kan, bij voorbeeld, een SQL dump zijn van een databank, of een LDIF bestand voor een LDAP server.
			</div><div
            class="figure"><a
              id="id-1.6.5.5.5"></a><div
              class="figure-contents"><div
                class="mediaobject"><img
                  src="images/existing-setup-2.png"
                  alt="Databank Back-up" /></div></div><p
              class="title"><strong>Afbeelding 3.2. Databank Back-up</strong></p></div><div
            class="para">
				Iedere server software is anders en het is onmogelijk om alle bestaande gevallen in detail te beschrijven. Vergelijk de documentatie voor de bestaande en de nieuwe software om de exporteerbare (dus her-importeerbaar) delen en deze welke manuele handeling nodig hebben. Dit boek lezen zal de configuratie van de hoofd Linux server programma's verduidelijken.
			</div></div><div
          class="section"><div
            class="titlepage"><div><div><h3
                  class="title"><a
                    id="id-1.6.5.6"></a>3.2.3. Een Bestaande Debian Server overnemen</h3></div></div></div><a
            id="id-1.6.5.6.2"
            class="indexterm"></a><a
            id="id-1.6.5.6.3"
            class="indexterm"></a><a
            id="id-1.6.5.6.4"
            class="indexterm"></a><div
            class="para">
				Om het onderhoud effectief over te nemen, kan men een machine die al Debian draait analyseren.
			</div><div
            class="para">
				Het eerste bestand te controleren is <code
              class="filename">/etc/debian_version</code>, welke meestal het versie nummer van het geïnstalleerde Debian systeem bevat (het is onderdeel van het <span
              class="emphasis"><em>base-files</em></span> pakket). Als het de <code
              class="literal"><em
                class="replaceable">codenaam</em>/sid</code> bevat, betekend dit dat het systeem is ge-updatet met pakketten komende van een van de ontwikkel distributies (ofwel van testen of onstabiel).
			</div><div
            class="para">
				Het <code
              class="command">apt-show-versions</code> programma (van het Debian pakket met dezelfde naam) controleert de lijst van geïnstalleerde pakketten en identificeert de beschikbare versies. <code
              class="command">aptitude</code> kan ook gebruikt worden voor deze taken, zij het wel in een minder systematische methode.
			</div><div
            class="para">
				Een blik op het <code
              class="filename">/etc/apt/sources.list</code> bestand (en <code
              class="filename">/etc/apt/sources.list.d/</code> directory) zal tonen waar de geïnstalleerde Debian pakketten waarschijnlijk vandaan kwamen. Als er veel onbekende bronnen verschijnen kan de beheerder ervoor kiezen om het besturingssysteem van de computer volledig te herinstalleren om een optimale compatibiliteit met de software aangeboden door Debian verzekeren.
			</div><div
            class="para">
				Het <code
              class="filename">sources.list</code> bestand is vaak een goede indicator: de meerderheid van beheerders houden, ten minste in commentaren, de lijst van APT bronnen die eerder werden gebruikt bij. Maar je zou niet moeten vergeten dat bronnen gebruikt in het verleden gewist zijn, en dat sommige willekeurige pakketten gegrepen van het Internet manueel geïnstalleerd kunnen zijn. (met het <code
              class="command">dpkg</code> commando). In dit geval, is de machine misleidend in zijn uiterlijk van “standaard” Debian. Dit is waarom je moet opletten voor iedere indicatie die de aanwezigheid van externe pakketten (aanwezigheid van <code
              class="filename">deb</code> bestanden in ongebruikelijke directory's, pakket versie nummers met een speciale achtervoegsel die aangeeft dat de oorsprong van buiten het Debian project ligt, zoals <code
              class="literal">ubuntu</code> of <code
              class="literal">lmde</code>, enz.)
			</div><div
            class="para">
				Het is ook interessant om de inhoud van de <code
              class="filename">/usr/local/</code> directory te analyseren, wiens doel het is om programma's manueel gecompileerd en geïnstalleerd te bevatten. geïnstalleerde software op deze manier op lijsten is instructief, omdat het de vraag doet rijzen waarom men het corresponderende Debian pakket, indien zo'n pakket bestaat, niet gebruikt is.
			</div><div
            class="sidebar"><div
              class="titlepage"><div><div><p
                    class="title"><strong><span
                        class="emphasis"><em>SNELLE KIJK</em></span> <span
                        class="pkg pkg">cruft</span></strong></p></div></div></div><div
              class="para">
				Het <span
                class="pkg pkg">cruft</span> pakket stelt een lijst voor met beschikbare bestanden die geen eigendom zijn van enige pakket. Het heeft enkele filters (meer of minder effectief en min of meer recent) om de rapportage van sommige ligitieme bestanden te voorkomen (gegenereerd door Debian pakketten of gegenereerde configuratie bestanden die niet door <code
                class="command">dpkg</code> beheerd worden, enz.).
			</div><div
              class="para">
				Let op om niet alles wat <code
                class="command">cruft</code> kan rapporteren zomaar te verwijderen!
			</div></div></div><div
          class="section"><div
            class="titlepage"><div><div><h3
                  class="title"><a
                    id="id-1.6.5.7"></a>3.2.4. Debian installeren</h3></div></div></div><div
            class="para">
				Eenmaal alle nodige informatie op de huidige server bekend is, kunnen we hem uitschakelen en beginnen met de installatie van Debian.
			</div><a
            id="id-1.6.5.7.3"
            class="indexterm"></a><div
            class="para">
				Om de geschikte versie te kiezen moeten we de architectuur van de computer kennen. Als het een redelijk recente PC is, is het meer daan waarschijnlijk een amd64 (oudere PC's waren meestal i386). In andere gevallen kunnen we de mogelijkheden beperken aan de hand van het vorige systeem.
			</div><div
            class="para">
				<a
              class="xref"
              href="sect.how-to-migrate.html#tab-corresp">Tabel 3.1</a> is niet bedoeld om uitvoerig te zijn, maar kan behulpzaam zijn. In ieder geval is de originele documentatie van de computer de betrouwbaarste bron om deze informatie te vinden.
			</div><div
            class="table"><a
              id="tab-corresp"></a><p
              class="title"><strong>Tabel 3.1. Passende besturingssystemen en architecturen</strong></p><div
              class="table-contents"><table
                xmlns:d="http://docbook.org/ns/docbook"
                class="lt-4-cols gt-7-rows"
                summary="Passende besturingssystemen en architecturen"><colgroup><col /><col /></colgroup><thead><tr><th>Besturingssysteem</th><th>Architectuur(en)</th></tr></thead><tbody><tr><td>DEC Unix (OSF/1)</td><td>alpha, mipsel</td></tr><tr><td>HP Unix</td><td>ia64, hppa</td></tr><tr><td>IBM AIX</td><td>powerpc</td></tr><tr><td>Irix</td><td>mips</td></tr><tr><td>OS X</td><td>amd64, powerpc, i386</td></tr><tr><td>Z/OS, MVS</td><td>s390x, s390</td></tr><tr><td>Solaris, SunOS</td><td>sparc, i386, m68k</td></tr><tr><td>Ultrix</td><td>mips</td></tr><tr><td>VMS</td><td>alpha</td></tr><tr><td>Windows 95/98/ME</td><td>i386</td></tr><tr><td>Windows NT/2000</td><td>i386, alpha, ia64, mipsel</td></tr><tr><td>Windows XP / Windows Server 2008</td><td>i386, amd64, ia64</td></tr><tr><td>Windows RT</td><td>armel, armhf, arm64</td></tr><tr><td>Windows Vista / Windows 7-8-10</td><td>i386, amd64</td></tr></tbody></table></div></div><div
            class="sidebar"><div
              class="titlepage"><div><div><p
                    class="title"><strong><span
                        class="emphasis"><em>HARWARE</em></span> 64 bit PC versus 32 bit PC</strong></p></div></div></div><a
              id="id-1.6.5.7.7.2"
              class="indexterm"></a><a
              id="id-1.6.5.7.7.3"
              class="indexterm"></a><div
              class="para">
				De meeste recente computers hebben 64 bit Intel of AMD Processoren, compatibel met oudere 32 bit processoren; de software gecompileerd voor “i386” architectuur werken dus. Aan de andere kant benut deze compatibiliteits-modus de mogelijkheden van deze nieuwe processoren niet. Dit is waarom Debian de “amd64” architectuur aanbied, welke erkt voor recente AMD chips en ook met Intel “em64t” processoren (inclusief de meeste van de Core reeks), welke heel gelijkaardig is aan AMD64.
			</div></div></div><div
          class="section"><div
            class="titlepage"><div><div><h3
                  class="title"><a
                    id="id-1.6.5.8"></a>3.2.5. Installatie en Configuratie van de Geselecteerde Diensten</h3></div></div></div><div
            class="para">
				Eenmaal Debian geïnstalleerd is moeten we alle diensten die deze computer zal herbergen één-voor-één installeren en configureren. De nieuwe configuratie moet rekening houden met de voorgaande om een gemakkelijke transitie te verzekeren. Alle informatie verzamelt in de eerste twee stappen zullen bruikbaar zijn om dit deel met succes af te sluiten.
			</div><div
            class="figure"><a
              id="id-1.6.5.8.3"></a><div
              class="figure-contents"><div
                class="mediaobject"><img
                  src="images/existing-setup-4.png"
                  alt="Installeer de geselecteerde diensten" /></div></div><p
              class="title"><strong>Afbeelding 3.3. Installeer de geselecteerde diensten</strong></p></div><div
            class="para">
				Voordat we met bij de voeten in de oefeningen duiken, wordt het ten zeerste aangeraden dat de rest van dit boek leest. Hierna zal je een beter begrip hebben van hoe de te verwachten diensten te configureren.
			</div><div
            class="para">
			</div></div></div><ul
        class="docnav"><li
          class="previous"><a
            accesskey="p"
            href="existing-setup.html"><strong>Terug</strong>Hoofdstuk 3. De Bestaande Installatie Analyseren ...</a></li><li
          class="up"><a
            accesskey="u"
            href="#"><strong>Omhoog</strong></a></li><li
          class="home"><a
            accesskey="h"
            href="index.html"><strong>Begin</strong></a></li><li
          class="next"><a
            accesskey="n"
            href="installation.html"><strong>Volgende</strong>Hoofdstuk 4. Installatie</a></li></ul><div
        id="translated_pages"><ul><li><a
              href="../ar-MA/sect.how-to-migrate.html">ar-MA</a></li><li><a
              href="../da-DK/sect.how-to-migrate.html">da-DK</a></li><li><a
              href="../de-DE/sect.how-to-migrate.html">de-DE</a></li><li><a
              href="../el-GR/sect.how-to-migrate.html">el-GR</a></li><li><a
              href="../en-US/sect.how-to-migrate.html">en-US</a></li><li><a
              href="../es-ES/sect.how-to-migrate.html">es-ES</a></li><li><a
              href="../fa-IR/sect.how-to-migrate.html">fa-IR</a></li><li><a
              href="../fr-FR/sect.how-to-migrate.html">fr-FR</a></li><li><a
              href="../hr-HR/sect.how-to-migrate.html">hr-HR</a></li><li><a
              href="../id-ID/sect.how-to-migrate.html">id-ID</a></li><li><a
              href="../it-IT/sect.how-to-migrate.html">it-IT</a></li><li><a
              href="../ja-JP/sect.how-to-migrate.html">ja-JP</a></li><li><a
              href="../ko-KR/sect.how-to-migrate.html">ko-KR</a></li><li><a
              href="../nb-NO/sect.how-to-migrate.html">nb-NO</a></li><li><a
              href="../pl-PL/sect.how-to-migrate.html">pl-PL</a></li><li><a
              href="../pt-BR/sect.how-to-migrate.html">pt-BR</a></li><li><a
              href="../ro-RO/sect.how-to-migrate.html">ro-RO</a></li><li><a
              href="../ru-RU/sect.how-to-migrate.html">ru-RU</a></li><li><a
              href="../tr-TR/sect.how-to-migrate.html">tr-TR</a></li><li><a
              href="../vi-VN/sect.how-to-migrate.html">vi-VN</a></li><li><a
              href="../zh-CN/sect.how-to-migrate.html">zh-CN</a></li><li><a
              href="../zh-TW/sect.how-to-migrate.html">zh-TW</a></li></ul></div></body></html>
