<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html
    xmlns="http://www.w3.org/1999/xhtml"><head><meta
        http-equiv="Content-Type"
        content="text/html; charset=UTF-8" /><title
        xmlns:d="http://docbook.org/ns/docbook">Bab 15. Membuat paket Debian</title><link
        rel="stylesheet"
        type="text/css"
        href="Common_Content/css/default.css" /><link
        rel="stylesheet"
        media="print"
        href="Common_Content/css/print.css"
        type="text/css" /><meta
        xmlns:d="http://docbook.org/ns/docbook"
        name="generator"
        content="publican v4.3.2" /><meta
        xmlns:d="http://docbook.org/ns/docbook"
        name="package"
        content="Debian-debian-handbook-9-id-ID-1.0-1" /><meta
        name="keywords"
        content="Backport, Rebuild, Paket sumber, Arsip, Meta-package, Pengembang Debian, Maintainer" /><link
        rel="home"
        href="index.html"
        title="Buku Panduan Administrator Debian" /><link
        rel="up"
        href="index.html"
        title="Buku Panduan Administrator Debian" /><link
        rel="prev"
        href="sect.dealing-with-compromised-machine.html"
        title="14.7. Dealing with a Compromised Machine" /><link
        rel="next"
        href="sect.building-first-package.html"
        title="15.2. Membangun Ulang Paket Pertama Anda" /><meta
        name="viewport"
        content="width=device-width, initial-scale=1" /><meta
        name="flattr:id"
        content="4pz9jq" /><link
        rel="canonical"
        href="http://l.github.io/debian-handbook/html/id-ID/debian-packaging.html" /></head><body><noscript><iframe
          src="//www.googletagmanager.com/ns.html?id=GTM-5H35QX"
          height="0"
          width="0"
          style="display:none;visibility:hidden"></iframe></noscript><script
        type="text/javascript">(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
j=d.createElement(s),dl=l!='dataLayer'?'&amp;l='+l:'';j.async=true;j.src=
'//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
})(window,document,'script','dataLayer','GTM-5H35QX');</script><div
        id="banner"><a
          href="../../"><span
            class="text">Download the ebook</span></a></div><p
        id="title"><a
          class="left"
          href="http://www.debian.org"><img
            alt="Product Site"
            src="Common_Content/images//image_left.png" /></a><a
          class="right"
          href="index.html"><img
            alt="Documentation Site"
            src="Common_Content/images//image_right.png" /></a></p><ul
        class="docnav top"><li
          class="previous"><a
            accesskey="p"
            href="sect.dealing-with-compromised-machine.html"><strong>Sebelumnya</strong></a></li><li
          class="home">Buku Panduan Administrator Debian</li><li
          class="next"><a
            accesskey="n"
            href="sect.building-first-package.html"><strong>Lanjut</strong></a></li></ul><div
        xml:lang="id-ID"
        class="chapter"
        lang="id-ID"><div
          class="titlepage"><div><div><h1
                class="title"><a
                  id="debian-packaging"></a>Bab 15. Membuat paket Debian</h1></div></div></div><div
          class="toc"><dl
            class="toc"><dt><span
                class="section"><a
                  href="debian-packaging.html#sect.rebuilding-package">15.1. Membangun ulang sebuah Paket dari Source-nya</a></span></dt><dd><dl><dt><span
                    class="section"><a
                      href="debian-packaging.html#id-1.18.4.3">15.1.1. Mendapatkan Sumber</a></span></dt><dt><span
                    class="section"><a
                      href="debian-packaging.html#id-1.18.4.4">15.1.2. Membuat Perubahan</a></span></dt><dt><span
                    class="section"><a
                      href="debian-packaging.html#id-1.18.4.5">15.1.3. Memulai Rebuild</a></span></dt></dl></dd><dt><span
                class="section"><a
                  href="sect.building-first-package.html">15.2. Membangun Ulang Paket Pertama Anda</a></span></dt><dd><dl><dt><span
                    class="section"><a
                      href="sect.building-first-package.html#id-1.18.5.2">15.2.1. Meta-Packages atau Paket Palsu</a></span></dt><dt><span
                    class="section"><a
                      href="sect.building-first-package.html#id-1.18.5.3">15.2.2. Berkas Archive Sederhana</a></span></dt></dl></dd><dt><span
                class="section"><a
                  href="sect.setup-apt-package-repository.html">15.3. Membuat Repositori Paket untuk APT</a></span></dt><dt><span
                class="section"><a
                  href="sect.becoming-package-maintainer.html">15.4. Menjadi seorang Maintainer Paket</a></span></dt><dd><dl><dt><span
                    class="section"><a
                      href="sect.becoming-package-maintainer.html#id-1.18.7.2">15.4.1. Belajar untuk Membuat Perubahan</a></span></dt><dt><span
                    class="section"><a
                      href="sect.becoming-package-maintainer.html#id-1.18.7.3">15.4.2. Proses Penerimaan</a></span></dt></dl></dd></dl></div><div
          class="highlights"><div
            class="para">
		Sudah menjadi hal umum bagi administrator yang rutin menangani paket Debian, pada suatu saat ingin membuat paket Debian-nya sendiri, atau memodifikasi paket yang sudah ada. Bab ini berusaha menjawab pertanyaan yang paling sering diajukan dalam topik paket Debian, dan menyediakan bagian-bagian yang diperlukan untuk memanfaatkan keunggulan infrastruktur Debian dengan cara terbaik. Dengan sedikit keberuntungan, setelah mencoba sendiri membuat paket Debian, bisa jadi Anda merasa tertarik untuk melanjutkan dan bergabung dengan proyek Debian itu sendiri!
	</div></div><div
          class="section"><div
            class="titlepage"><div><div><h2
                  class="title"><a
                    id="sect.rebuilding-package"></a>15.1. Membangun ulang sebuah Paket dari Source-nya</h2></div></div></div><div
            class="para">
			Membangun ulang sebuah paket biner dibutuhkan dalam beberapa kondisi. Dalam kondisi tertentu, administrator membutuhkan fitur perangkat lunak yang mensyaratkan untuk di-compile dari source, dengan opsi kompilasi tertentu; pada kasus lain, perangkat yang dipaketkan dalam Debian yang terpasang tidak cukup anyar. Pada kasus kedua, administrator umumnya akan mem-build paket yang lebih terkini diambil dari Debian dengan versi yang lebih baru — seperti <span
              class="distribution distribution">Testing</span> atau bahkan <span
              class="distribution distribution">Unstable</span> — sehingga paket yang lebih baru ini dapat bekerja pada distribusi <span
              class="distribution distribution">Stable</span> mereka; operasi ini disebut dengan “backporting”. Seperti biasa, perlu waspada sebelum memutuskan melakukan tugas seperti itu, dengan memeriksa apakah sebelumnya sudah pernah dilakukan — pencarian cepat pada Debian Package Tracker untuk paket tersebut akan mengungkap informasi itu. <div
              class="url">→ <a
                href="https://tracker.debian.org/">https://tracker.debian.org/</a></div>. <a
              id="id-1.18.4.2.5"
              class="indexterm"></a>
		</div><div
            class="section"><div
              class="titlepage"><div><div><h3
                    class="title"><a
                      id="id-1.18.4.3"></a>15.1.1. Mendapatkan Sumber</h3></div></div></div><div
              class="para">
				Membangun ulang sebuah paket Debian dimulai dengan mendapatkan kode sumber. Cara yang paling mudah adalah menggunakan perintah <code
                class="command">apt-get source <em
                  class="replaceable">nama-paket-sumber</em></code>. Perintah ini membutuhkan baris <code
                class="literal">deb-src</code> pada berkas <code
                class="filename">/etc/apt/sources.list</code>, dan berkas indeks yang mutakhir (yaitu <code
                class="command">apt-get update</code>). Kondisi ini harusnya sudah terpenuhi jika Anda mengikuti instruksi dari bab mengenai konfigurasi APT (lihat <a
                class="xref"
                href="apt.html#sect.apt-sources.list">Bagian 6.1, “Mengisi Berkas <code
                  class="filename">sources.list</code>”</a>). Perhatikan, bahwa Anda akan mengunduh paket sumber dari versi Debian yang disebutkan dalam baris <code
                class="literal">deb-src</code>. Jika Anda membutuhkan versi lainnya, Anda dapat mengunduh secara manual dari cermin Debian atau dari situs web. Hal ini melibatkan dua atau tiga berkas (dengan ekstensi <code
                class="filename">*.dsc</code> — untuk <span
                class="emphasis"><em>Debian Source Control</em></span> — <code
                class="filename">*.tar.<em
                  class="replaceable">comp</em></code>, dan terkadang <code
                class="filename">*.diff.gz</code> atau <code
                class="filename">*.debian.tar.<em
                  class="replaceable">comp</em></code> — <em
                class="replaceable">comp</em> dengan alternatif <code
                class="literal">gz</code>, <code
                class="literal">bz2</code>, atau <code
                class="literal">xz</code> tergantung perkakas kompresi yang digunakan), lalu jalankan perintah <code
                class="command">dpkg-source -x <em
                  class="replaceable">file.dsc</em></code>. Jika berkas <code
                class="filename">*.dsc</code> dapat diakses langsung pada URL tertentu, terdapat cara yang lebih sederhana untuk mem-fetch-nya, yaitu dengan perintah <code
                class="command">dget <em
                  class="replaceable">URL</em></code>. Perintah ini (yang dapat ditemukan di paket <span
                class="pkg pkg">devscripts</span>) mem-fetch berkas <code
                class="filename">*.dsc</code> pada alamat yang diberikan, menganalisis isinya, dan secara otomatis mem-fetch berkas atau berkas-berkas yang diacu di dalamnya. Sekali semua telah diunduh, itu mengekstraksi paket sumber (kecuali bila opsi <code
                class="literal">-d</code> atau <code
                class="literal">--download-only</code> dipakai.
			</div></div><div
            class="section"><div
              class="titlepage"><div><div><h3
                    class="title"><a
                      id="id-1.18.4.4"></a>15.1.2. Membuat Perubahan</h3></div></div></div><div
              class="para">
				Sumber dari paket sekarang tersedia di dalam direktori dengan nama paket sumber berikut dengan versinya (sebagai contoh, <span
                class="emphasis"><em>samba-4.1.17+dfsg</em></span>); di sinilah kita akan bekerja untuk melakukan perubahan lokal.
			</div><div
              class="para">
				Hal pertama yang perlu dilakukan adalah mengubah nomor versi paket, sehingga paket hasil rebuilt dapat dibedakan dari paket asalnya yang disediakan Debian. Dengan asumsi versi saat ini adalah <code
                class="literal">2:4.1.17+dfsg-2</code>, kita dapat membuat versi <code
                class="literal">2:4.1.17+dfsg-2falcot1</code>, yang dengan jelas menandakan asal dari paket. Hal ini membuat nomor versi paket lebih tinggi dari yang disediakan Debian, sehingga paket akan dengan mudah ter-install sebagai pemutakhiran dari paket asalnya. Perubahan seperti ini paling baik dihasilkan menggunakan perintah <code
                class="command">dch</code> (<span
                class="emphasis"><em>Debian CHangelog</em></span>) dari paket <span
                class="pkg pkg">devscripts</span>, dengan invokasi seperti <code
                class="command">dch - --local falcot</code>. Invokasi ini meng-invoke penyunting teks (<code
                class="command">sensible-editor</code> — ini harus menjadi penyunting teks favorit Anda jika disebutkan dalam variabel lingkungan <code
                class="varname">VISUAL</code> atau <code
                class="varname">EDITOR</code>, dan penyunting teks bawaan bila tidak) untuk dapat mendokumentasikan perbedaan yang dihasilkan oleh rebuild ini. Penyunting ini menunjukkan bahwa <code
                class="command">dch</code> benar-benar mengubah berkas <code
                class="filename">debian/changelog</code>.
			</div><div
              class="para">
				Saat perubahan pada opsi build diperlukan, perubahan perlu dibuat pada <code
                class="filename">debian/rules</code>, yang mendorong langkah-langkah pada proses build. Pada kasus yang paling sederhana, baris terkait konfigurasi awal (<code
                class="literal">./configure …</code>) atau pada build sesungguhnya (<code
                class="literal">$(MAKE) …</code> atau <code
                class="literal">make …</code>) dapat dengan mudah ditemukan. Jika perintah ini tidak dipanggil secara eksplisit, mereka merupakan efek samping dari perintah eksplisit lainnya, yang pada kasus tertentu mengacu pada dokumentasi mereka untuk mempelajari lebih lanjut bagaimana mengubah perilaku default. Dengan paket-paket yang memakai <code
                class="command">dh</code>, Anda mungkin perlu menambah override untuk perintah <code
                class="command">dh_auto_configure</code> atau <code
                class="command">dh_auto_build</code> (lihat halaman manual masing-masing untuk penjelasan tentang bagaimana mencapai ini).
			</div><div
              class="para">
				Tergantung pada perubahan lokal pada paket, pemutakhiran bisa jadi dibutuhkan dalam berkas <code
                class="filename">debian/control</code>, yang berisi deskripsi dari paket yang dihasilkan. Secara spesifik, berkas ini berisi baris <code
                class="literal">Build-Depends</code> yang mengendalikan daftar dependensi yang perlu dipenuhi pada paket yang dibangun. Hal ini seringkali mengacu pada versi paket yang ada di dalam distribusi dari sumber paket asal, namun tidak tersedia di dalam distribusi yang digunakan untuk rebuild. Tidak ada cara otomatis untuk menentukan jika dependensi benar-benar dibutuhkan atau hanya disebutkan untuk menjamin bahwa build hanya dicoba dengan versi terbaru dari pustaka — ini merupakan satu-satunya cara untuk memaksa <span
                class="emphasis"><em>autobuilder</em></span> untuk menggunakan versi paket yang diberikan selama proses build, hal inilah mengapa Debian maintainer seringkali menggunakan versi build-dependencies yang ketat.
			</div><div
              class="para">
				Jika Anda tahu secara yakin bahwa build-dependencies terlalu ketat, Anda bebas untuk melonggarkannya secara lokal. Dengan membaca berkas yang mendokumentasikan standar membangun perangkat lunak — berkas ini sering disebut sebagai <code
                class="filename">INSTALL</code> — akan membantu Anda mengetahui dependensi yang sesuai. Idealnya, semua dependensi harus dapat dipenuhi dari distribusi yang digunakan untuk rebuild; jika tidak, sebuah proses rekursif dimulai, yaitu saat paket yang disebutkan dalam field <code
                class="literal">Build-Depends</code> harus di-backport sebelum paket target dapat di-backport. Beberapa paket bisa jadi tidak perlu di-backport, dan dapat di-install apa-adanya selama proses build (contoh yang jelas adalah <span
                class="pkg pkg">debhelper</span>). Perlu dicatat bahwa proses backport dapat dengan cepat menjadi kompleks jika Anda tidak hati-hati. Oleh karena itu, backport sedapat mungkin diminimalisir.
			</div><div
              class="sidebar"><div
                class="titlepage"><div><div><p
                      class="title"><strong><span
                          class="emphasis"><em>TIP</em></span> Menginstall <code
                          class="literal">Build-Depends</code></strong></p></div></div></div><a
                id="id-1.18.4.4.7.2"
                class="indexterm"></a><div
                class="para">
				<code
                  class="command">apt-get</code> memungkinkan memasang semua paket yang disebutkan dalam field <code
                  class="literal">Build-Depends</code> dari paket sumber yang tersedia di dalam distribusi yang disebutkan dalam baris <code
                  class="literal">deb-src</code> dalam berkas <code
                  class="filename">/etc/apt/sources.list</code>. Hal ini merupakan masalah sederhana dengan menjalankan perintah <code
                  class="command">apt-get build-dep <em
                    class="replaceable">paket-sumber</em></code>.
			</div></div></div><div
            class="section"><div
              class="titlepage"><div><div><h3
                    class="title"><a
                      id="id-1.18.4.5"></a>15.1.3. Memulai Rebuild</h3></div></div></div><div
              class="para">
				Saat semua perubahan yang diperlukan telah diterapkan pada sumber, kita dapat memulai membuat paket binari sesungguhnya (<code
                class="filename">.deb</code> file). Semua proses ini dikelola oleh perintah <code
                class="command">dpkg-buildpackage</code>.
			</div><div
              class="example"><a
                id="id-1.18.4.5.3"></a><p
                class="title"><strong>Contoh 15.1. Membangun ulang sebuah paket</strong></p><div
                class="example-contents"><pre
                  class="screen"><code
                    class="computeroutput">$ </code><strong
                    class="userinput"><code>dpkg-buildpackage -us -uc
</code></strong><code
                    class="computeroutput">[...]
</code></pre></div></div><div
              class="sidebar"><a
                id="sidebar.fakeroot"></a><div
                class="titlepage"><div><div><p
                      class="title"><strong><span
                          class="emphasis"><em>PERKAKAS</em></span> <code
                          class="command">fakeroot</code></strong></p></div></div></div><div
                class="para">
				Esensinya, proses pembuatan paket adalah sesederhana mengumpulkan suatu set berkas yang ada (atau yang dibangun) ke dalam sebuah arsip; mayoritas berkas akan berakhir menjadi milik <span
                  class="emphasis"><em>root</em></span> dalam arsip. Namun, membangun seluruh paket di bawah pengguna ini berarti meningkatkan risiko; untungnya hal ini dapat dihindari dengan perintah <code
                  class="command">fakeroot</code>. Perkakas ini dapat digunakan untuk menjalankan sebuah program dan memberikan kesan seolah berjalan sebagai <span
                  class="emphasis"><em>root</em></span> dan membuat berkas dengan kepemilikan dan izin sebarang. Saat program membuat arsip yang akan menjadi paket Debian, hal ini diakali dengan membuat sebuah archive yang mengandung berkas ditandai dengan kepemilikan sebarang, termasuk <span
                  class="emphasis"><em>root</em></span>. Penyiapan ini sungguh nyaman sehingga <code
                  class="command">dpkg-buildpackage</code> menggunakan <code
                  class="command">fakeroot</code> secara baku saat membangun paket.
			</div><div
                class="para">
				Perhatikan bahwa program hanya mengakali sehingga “seolah-olah percaya” beroperasi dengan akun ber-privilege, dan proses sesungguhnya berjalan sebagai pengguna menjalankan <code
                  class="command">fakeroot <em
                    class="replaceable">program</em></code> (dan berkas sesungguhnya dibuat dengan permission pengguna). Dalam proses ini sama sekali tidak menggunakan privilege root sehingga tidak mungkin terjadi abuse.
			</div></div><div
              class="para">
				Perintah sebelumnya dapat gagal jika field <code
                class="literal">Build-Depends</code> belum diperbaharui, atau jika paket terkait tidak ter-install. Pada kasus seperti ini, mungkin untuk meng-overrule kondisi ini dengan memberikan opsi <code
                class="literal">-d</code> ke <code
                class="command">dpkg-buildpackage</code>. Namun, dengan secara eksplisit mengacuhkan dependensi ini akan berisiko terjadi kegagalan pada tahap berikutnya. Lebih buruk lagi, paket bisa jadi terlihat di-build dengan benar namun tidak berjalan sebagaimana mestinya: beberapa program secara otomatis men-disable beberapa fitur saat pustaka yang dibutuhkan tidak tersedia saat waktu build.
			</div><div
              class="para">
				Lebih sering, pengembang Debian menggunakan program dengan tingkat lebih tinggi (higher-level program) seperti <code
                class="command">debuild</code>; debuild menjalankan <code
                class="command">dpkg-buildpackage</code>, namun juga menambahkan invokasi dari program yang menjalankan pemeriksaan untuk memvalidasi paket terhadap Debian policy. Script ini juga membersihkan environment sehingga variabel environment lokal tidak “mengotori” paket yang di-build. Perintah <code
                class="command">debuild</code> adalah salah satu perkakas dalam <span
                class="emphasis"><em>devscripts</em></span> suite, yang berbagi konsistensi yang sama dan konfigurasi yang sama untuk membuat pekerjaan maintainer menjadi lebih mudah.
			</div><div
              class="sidebar"><div
                class="titlepage"><div><div><p
                      class="title"><strong><span
                          class="emphasis"><em>SEKILAS</em></span> <code
                          class="command">pbuilder</code></strong></p></div></div></div><a
                id="id-1.18.4.5.7.2"
                class="indexterm"></a><div
                class="para">
				Program <code
                  class="command">pbuilder</code> (dalam paket dengan nama mirip) memungkinkan mem-build paket Debian dalam lingkungan <span
                  class="emphasis"><em>chrooted</em></span>. Pada awalnya pbuilder membuat direktori temporer berisi sistem minimal yang dibutuhkan untuk mem-build paket (termasuk paket yang disebutkan dalam field <span
                  class="emphasis"><em>Build-Depends</em></span>). Direktori ini digunakan sebagai direktori root (<code
                  class="filename">/</code>), menggunakan perintah <code
                  class="command">chroot</code>, saat proses build.
			</div><div
                class="para">
				Perkakas ini memungkinkan proses build terjadi dalam lingkungan yang tidak dikotak-katik oleh pengguna. Hal ini juga memungkinkan untuk mendeteksi build-dependencies yang hilang (karena build akan gagal kecuali dependensi terkait didokumentasikan). Akhirnya, pbuilder memungkinkan untuk membangun paket versi Debian yang tidak digunakan oleh sistem secara keseluruhan: mesin dapat menggunakan <span
                  class="distribution distribution">Stable</span> untuk beban kerja normal, dan <code
                  class="command">pbuilder</code> berjalan pada mesin yang sama menggunakan <span
                  class="distribution distribution">Unstable</span> untuk membangun paket.
			</div></div></div></div></div><ul
        class="docnav"><li
          class="previous"><a
            accesskey="p"
            href="sect.dealing-with-compromised-machine.html"><strong>Sebelumnya</strong>14.7. Dealing with a Compromised Machine</a></li><li
          class="up"><a
            accesskey="u"
            href="#"><strong>Induk</strong></a></li><li
          class="home"><a
            accesskey="h"
            href="index.html"><strong>Depan</strong></a></li><li
          class="next"><a
            accesskey="n"
            href="sect.building-first-package.html"><strong>Lanjut</strong>15.2. Membangun Ulang Paket Pertama Anda</a></li></ul><div
        id="translated_pages"><ul><li><a
              href="../ar-MA/debian-packaging.html">ar-MA</a></li><li><a
              href="../da-DK/debian-packaging.html">da-DK</a></li><li><a
              href="../de-DE/debian-packaging.html">de-DE</a></li><li><a
              href="../el-GR/debian-packaging.html">el-GR</a></li><li><a
              href="../en-US/debian-packaging.html">en-US</a></li><li><a
              href="../es-ES/debian-packaging.html">es-ES</a></li><li><a
              href="../fa-IR/debian-packaging.html">fa-IR</a></li><li><a
              href="../fr-FR/debian-packaging.html">fr-FR</a></li><li><a
              href="../hr-HR/debian-packaging.html">hr-HR</a></li><li><a
              href="../id-ID/debian-packaging.html">id-ID</a></li><li><a
              href="../it-IT/debian-packaging.html">it-IT</a></li><li><a
              href="../ja-JP/debian-packaging.html">ja-JP</a></li><li><a
              href="../ko-KR/debian-packaging.html">ko-KR</a></li><li><a
              href="../nb-NO/debian-packaging.html">nb-NO</a></li><li><a
              href="../pl-PL/debian-packaging.html">pl-PL</a></li><li><a
              href="../pt-BR/debian-packaging.html">pt-BR</a></li><li><a
              href="../ro-RO/debian-packaging.html">ro-RO</a></li><li><a
              href="../ru-RU/debian-packaging.html">ru-RU</a></li><li><a
              href="../tr-TR/debian-packaging.html">tr-TR</a></li><li><a
              href="../vi-VN/debian-packaging.html">vi-VN</a></li><li><a
              href="../zh-CN/debian-packaging.html">zh-CN</a></li><li><a
              href="../zh-TW/debian-packaging.html">zh-TW</a></li></ul></div></body></html>
