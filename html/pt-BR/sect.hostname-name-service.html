<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html
    xmlns="http://www.w3.org/1999/xhtml"><head><meta
        http-equiv="Content-Type"
        content="text/html; charset=UTF-8" /><title
        xmlns:d="http://docbook.org/ns/docbook">8.3. Ajustando o Nome de Host e Configurando o Serviço de Nomes</title><link
        rel="stylesheet"
        type="text/css"
        href="Common_Content/css/default.css" /><link
        rel="stylesheet"
        media="print"
        href="Common_Content/css/print.css"
        type="text/css" /><meta
        xmlns:d="http://docbook.org/ns/docbook"
        name="generator"
        content="publican v4.3.1" /><meta
        xmlns:d="http://docbook.org/ns/docbook"
        name="package"
        content="Debian-debian-handbook-8-pt-BR-1.0-1" /><meta
        name="keywords"
        content="Configuração, Localização, Localidades, Rede, Resolução de nomes, Usuários, Grupos, Contas, Interpretador de linha de comando, Shell, Impressão, Sistema de iniciação, Compilação de kernel" /><link
        rel="home"
        href="index.html"
        title="O Manual do Administrador Debian" /><link
        rel="up"
        href="basic-configuration.html"
        title="Capítulo 8. Configuração Básica: Rede, Contas, Impressão..." /><link
        rel="prev"
        href="sect.network-config.html"
        title="8.2. Configurando a Rede" /><link
        rel="next"
        href="sect.user-group-databases.html"
        title="8.4. Usuário e grupo bancos de dados" /><link
        rel="canonical"
        href="http://l.github.io/debian-handbook/html/pt-BR/sect.hostname-name-service.html" /></head><body
      class="draft "><noscript><iframe
          src="//www.googletagmanager.com/ns.html?id=GTM-5H35QX"
          height="0"
          width="0"
          style="display:none;visibility:hidden"></iframe></noscript><script
        type="text/javascript">(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
j=d.createElement(s),dl=l!='dataLayer'?'&amp;l='+l:'';j.async=true;j.src=
'//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
})(window,document,'script','dataLayer','GTM-5H35QX');</script><div
        id="banner"><a
          href="http://debian-handbook.info/get/"><span
            class="text">Download the ebook</span></a></div><p
        id="title"><a
          class="left"
          href="http://www.debian.org"><img
            alt="Product Site"
            src="Common_Content/images//image_left.png" /></a><a
          class="right"
          href="http://debian-handbook.info"><img
            alt="Documentation Site"
            src="Common_Content/images//image_right.png" /></a></p><ul
        class="docnav top"><li
          class="previous"><a
            accesskey="p"
            href="sect.network-config.html"><strong>Anterior</strong></a></li><li
          class="home">O Manual do Administrador Debian</li><li
          class="next"><a
            accesskey="n"
            href="sect.user-group-databases.html"><strong>Próxima</strong></a></li></ul><div
        class="section"><div
          class="titlepage"><div><div><h2
                class="title"><a
                  id="sect.hostname-name-service"></a>8.3. Ajustando o Nome de Host e Configurando o Serviço de Nomes</h2></div></div></div><a
          id="idm140194931638688"
          class="indexterm"></a><a
          id="idm140194931637280"
          class="indexterm"></a><div
          class="para">
			O motivo de atribuir nomes a números de IP é fazê-los fáceis de lembrar. Na verdade, um endereço IP identifica uma interface de rede associada a um dispositivo como uma placa de rede. Já que cada máquina pode ter várias placas de rede, e várias interfaces em cada cada placa, um computador único pode ter vários nomes no sistema de nomes de domínio.
		</div><div
          class="para">
			Entretanto, cada máquina é identificada por um nome principal (ou "canônico"), armazenado no arquivo <code
            class="filename">/etc/hostname</code> e comunicado ao núcleo Linux por scripts de início através do comando <code
            class="command">hostname</code>. O valor atual é disponível num sistema de arquivos virtual, e você pode obtê-lo com o comando <code
            class="command">cat /proc/sys/kernel/hostname</code>.
		</div><a
          id="idm140194931633568"
          class="indexterm"></a><div
          class="sidebar"><div
            class="titlepage"><div><div><p
                  class="title"><strong><span
                      class="emphasis"><em>DE VOLTA AO BÁSICO</em></span> <code
                      class="filename">/proc/</code> e <code
                      class="filename">/sys/</code>, sistemas de arquivos virtuais</strong></p></div></div></div><a
            id="idm140194931630400"
            class="indexterm"></a><a
            id="idm140194931629280"
            class="indexterm"></a><a
            id="idm140194931628160"
            class="indexterm"></a><a
            id="idm140194931627040"
            class="indexterm"></a><div
            class="para">
			As árvores de arquivos <code
              class="filename">/proc/</code> e <code
              class="filename">/sys/</code> são geradas por sistemas de arquivos "virtuais". Esta é uma forma prática de recuperar informações do núcleo (listando arquivos virtuais) e comunicando-os para o núcleo (escrevendo para arquivos virtuais).
		</div><div
            class="para">
			<code
              class="filename">/sys/</code> em particular, é projetado para fornecer acesso a objetos de kernel interno, especialmente aqueles que representam os diversos dispositivos no sistema. O kernel pode, assim, partilhar vários pedaços de informação: o status de cada dispositivo (por exemplo, se está no modo de poupança de energia), seja um dispositivo removível, etc. Note-se que <code
              class="filename">/sys/</code> só existe desde a versão do kernel 2.6.
		</div></div><div
          class="para">
			Surpreendentemente, o nome de domínio não é gerenciado da mesma forma, mas vem de um nome de máquina completo, adquirido através de resolução de nome. Você pode mudá-lo no arquivo <code
            class="filename">/etc/hosts</code>; simplesmente escreva um nome completo para a máquina no começo da lista de nomes associada com o endereço da máquina, como no exemplo seguinte:
		</div><div
          class="informalexample"><pre
            class="programlisting">
127.0.0.1     localhost
192.168.0.1   arrakis.falcot.com arrakis
</pre></div><a
          id="idm140194931620112"
          class="indexterm"></a><a
          id="idm140194931618992"
          class="indexterm"></a><a
          id="idm140194931617872"
          class="indexterm"></a><a
          id="idm140194931616432"
          class="indexterm"></a><a
          id="idm140194931614992"
          class="indexterm"></a><div
          class="section"><div
            class="titlepage"><div><div><h3
                  class="title"><a
                    id="sect.name-resolution"></a>8.3.1. Resolução de Nome</h3></div></div></div><a
            id="idm140194931612976"
            class="indexterm"></a><a
            id="idm140194931611536"
            class="indexterm"></a><div
            class="para">
				O mecanismo para resolução de nomes no Linux é modular e pode usar várias fontes de informação declarada no arquivo <code
              class="filename">/etc/nsswitch.conf</code>. A entrada que envolve a resolução de nomes de host é <code
              class="literal">hosts</code>. Por padrão, contém <code
              class="literal">files dns</code>, o que significa que o sistema consulta o arquivo <code
              class="filename">/etc/hosts</code> primeiro, então os servidores DNS. NIS / NIS + ou LDAP servidores são outras fontes possíveis.
			</div><div
            class="sidebar"><div
              class="titlepage"><div><div><p
                    class="title"><strong><span
                        class="emphasis"><em>NOTA</em></span> NSS e DNS</strong></p></div></div></div><div
              class="para">
				Esteja ciente de que os comandos destinados especificamente a consulta DNS (especialmente <code
                class="command">host</code>) não utilize o mecanismo de resolução de nome padrão (NSS). Como conseqüência, eles não levam em consideração <code
                class="filename">/etc/nsswitch.conf</code> e, portanto, não <code
                class="filename">/etc/hosts</code> também.
			</div></div><div
            class="section"><div
              class="titlepage"><div><div><h4
                    class="title"><a
                      id="sect.dns-server-configuration"></a>8.3.1.1. Configurando Servidores DNS</h4></div></div></div><a
              id="idm140194931603392"
              class="indexterm"></a><a
              id="idm140194931602432"
              class="indexterm"></a><div
              class="para">
					DNS (Domain Name System - Sistema de Nomes de Domínios) é um mapeamento de serviço distribuída e hierárquica nomes para endereços IP e vice-versa. Especificamente, ele pode transformar um nome amigável como <code
                class="literal">www.eyrolles.com</code> no endereço IP real, <code
                class="literal">213.244.11.247</code>.
				</div><div
              class="para">
					Para acessar informações de DNS, um servidor DNS deve estar disponível para solicitações de retransmissão. Falcot Corp tem a sua própria, mas um usuário individual é mais propensos a usar os servidores DNS fornecidos pelo seu ISP.
				</div><a
              id="idm140194931599104"
              class="indexterm"></a><a
              id="idm140194931597984"
              class="indexterm"></a><div
              class="para">
					Os servidores DNS a serem usados são indicados no <code
                class="filename">/etc/resolv.conf</code>, um por linha, com a palavra-chave <code
                class="literal">nameserver</code> seguida por um endereço IP, como no exemplo a seguir:
				</div><pre
              class="programlisting">
nameserver 212.27.32.176
nameserver 212.27.32.177
nameserver 8.8.8.8
</pre><div
              class="para">
					Note that the <code
                class="filename">/etc/resolv.conf</code> file may be handled automatically (and overwritten) when the network is managed by NetworkManager or configured via DHCP.
				</div></div><div
            class="section"><div
              class="titlepage"><div><div><h4
                    class="title"><a
                      id="sect.etc-hosts"></a>8.3.1.2. O arquivo <code
                      class="filename">/etc/hosts</code></h4></div></div></div><a
              id="idm140194931592224"
              class="indexterm"></a><a
              id="idm140194931591104"
              class="indexterm"></a><div
              class="para">
					Se não houver nenhum nome do servidor na rede local, é ainda possível estabelecer uma pequena tabela de mapeamento de endereços IP e nomes de máquina no <code
                class="filename">/etc/hosts</code>, normalmente reservados para as estações da rede local. A sintaxe deste arquivo é muito simples: cada linha indica um endereço IP específico, seguido pela lista de quaisquer denominações associadas (sendo o primeiro "completamente qualificado", ou seja, inclui o nome de domínio).
				</div><div
              class="para">
					Este arquivo está disponível mesmo durante interrupções de rede ou quando os servidores DNS são inacessíveis, mas realmente só serão úteis quando duplicados em todas as máquinas na rede. A menor alteração em correspondência exigirá o arquivo a ser atualizado em todos os lugares. É por isso que <code
                class="filename">/etc/hosts</code> geralmente contém apenas as entradas mais importantes.
				</div><div
              class="para">
					Este arquivo será suficiente para uma rede pequena sem conexão com a internet, mas com 5 máquinas ou mais, é recomendado a instalação de um servidor DNS adequado.
				</div><div
              class="sidebar"><div
                class="titlepage"><div><div><p
                      class="title"><strong><span
                          class="emphasis"><em>DICA</em></span> Ignorando o DNS</strong></p></div></div></div><div
                class="para">
					Desde que os aplicativos verificar o <code
                  class="filename">/etc/hosts</code> antes de consultar o DNS, é possível incluir informações que é diferente do que o DNS retornaria e, portanto, ignorar a resolução de nome DNS com base em normal.
				</div><div
                class="para">
					Isso permite que, em caso de alterações DNS ainda não propagadas, para testar o acesso a um Web site com o nome pretendido, mesmo que este nome não está devidamente mapeado para o endereço IP correto ainda.
				</div><div
                class="para">
					Outro uso possível é o redirecionamento de tráfico feito de uma máquina específica para o localhost, evitando assim qualquer comunicação com a dada máquina. Por exemplo, nomes de hosts de servidores dedicados a fornecer propaganda podem ser desviados o que evitaria estas propagandas tornando a navegação mais fluida e menos dispersa.
				</div></div></div></div></div><ul
        class="docnav"><li
          class="previous"><a
            accesskey="p"
            href="sect.network-config.html"><strong>Anterior</strong>8.2. Configurando a Rede</a></li><li
          class="up"><a
            accesskey="u"
            href="#"><strong>Acima</strong></a></li><li
          class="home"><a
            accesskey="h"
            href="index.html"><strong>Principal</strong></a></li><li
          class="next"><a
            accesskey="n"
            href="sect.user-group-databases.html"><strong>Próxima</strong>8.4. Usuário e grupo bancos de dados</a></li></ul><div
        id="translated_pages"><ul><li><a
              href="../ar-MA/sect.hostname-name-service.html">ar-MA</a></li><li><a
              href="../da-DK/sect.hostname-name-service.html">da-DK</a></li><li><a
              href="../de-DE/sect.hostname-name-service.html">de-DE</a></li><li><a
              href="../el-GR/sect.hostname-name-service.html">el-GR</a></li><li><a
              href="../en-US/sect.hostname-name-service.html">en-US</a></li><li><a
              href="../es-ES/sect.hostname-name-service.html">es-ES</a></li><li><a
              href="../fa-IR/sect.hostname-name-service.html">fa-IR</a></li><li><a
              href="../fr-FR/sect.hostname-name-service.html">fr-FR</a></li><li><a
              href="../hr-HR/sect.hostname-name-service.html">hr-HR</a></li><li><a
              href="../id-ID/sect.hostname-name-service.html">id-ID</a></li><li><a
              href="../it-IT/sect.hostname-name-service.html">it-IT</a></li><li><a
              href="../ja-JP/sect.hostname-name-service.html">ja-JP</a></li><li><a
              href="../pl-PL/sect.hostname-name-service.html">pl-PL</a></li><li><a
              href="../pt-BR/sect.hostname-name-service.html">pt-BR</a></li><li><a
              href="../ro-RO/sect.hostname-name-service.html">ro-RO</a></li><li><a
              href="../ru-RU/sect.hostname-name-service.html">ru-RU</a></li><li><a
              href="../tr-TR/sect.hostname-name-service.html">tr-TR</a></li><li><a
              href="../zh-CN/sect.hostname-name-service.html">zh-CN</a></li></ul></div></body></html>
