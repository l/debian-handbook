<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html
    xmlns="http://www.w3.org/1999/xhtml"><head><meta
        http-equiv="Content-Type"
        content="text/html; charset=UTF-8" /><title
        xmlns:d="http://docbook.org/ns/docbook">5.3. Estrutura de um Pacote Fonte</title><link
        rel="stylesheet"
        type="text/css"
        href="Common_Content/css/default.css" /><link
        rel="stylesheet"
        media="print"
        href="Common_Content/css/print.css"
        type="text/css" /><meta
        xmlns:d="http://docbook.org/ns/docbook"
        name="generator"
        content="publican v4.3.1" /><meta
        xmlns:d="http://docbook.org/ns/docbook"
        name="package"
        content="Debian-debian-handbook-8-pt-BR-1.0-1" /><meta
        name="keywords"
        content="Pacote Binário, Pacote fonte, dpkg, dependências, conflitos" /><link
        rel="home"
        href="index.html"
        title="O Manual do Administrador Debian" /><link
        rel="up"
        href="packaging-system.html"
        title="Capítulo 5. Sistema de Pacotes: Ferramentas e Princípios Fundamentais" /><link
        rel="prev"
        href="sect.package-meta-information.html"
        title="5.2. Metainformação do Pacote" /><link
        rel="next"
        href="sect.manipulating-packages-with-dpkg.html"
        title="5.4. Manipulando Pacotes com o dpkg" /><link
        rel="canonical"
        href="http://l.github.io/debian-handbook/html/pt-BR/sect.source-package-structure.html" /></head><body
      class="draft "><noscript><iframe
          src="//www.googletagmanager.com/ns.html?id=GTM-5H35QX"
          height="0"
          width="0"
          style="display:none;visibility:hidden"></iframe></noscript><script
        type="text/javascript">(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
j=d.createElement(s),dl=l!='dataLayer'?'&amp;l='+l:'';j.async=true;j.src=
'//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
})(window,document,'script','dataLayer','GTM-5H35QX');</script><div
        id="banner"><a
          href="http://debian-handbook.info/get/"><span
            class="text">Download the ebook</span></a></div><p
        id="title"><a
          class="left"
          href="http://www.debian.org"><img
            alt="Product Site"
            src="Common_Content/images//image_left.png" /></a><a
          class="right"
          href="http://debian-handbook.info"><img
            alt="Documentation Site"
            src="Common_Content/images//image_right.png" /></a></p><ul
        class="docnav top"><li
          class="previous"><a
            accesskey="p"
            href="sect.package-meta-information.html"><strong>Anterior</strong></a></li><li
          class="home">O Manual do Administrador Debian</li><li
          class="next"><a
            accesskey="n"
            href="sect.manipulating-packages-with-dpkg.html"><strong>Próxima</strong></a></li></ul><div
        class="section"><div
          class="titlepage"><div><div><h2
                class="title"><a
                  id="sect.source-package-structure"></a>5.3. Estrutura de um Pacote Fonte</h2></div></div></div><a
          id="idm140194934101456"
          class="indexterm"></a><a
          id="idm140194934100016"
          class="indexterm"></a><div
          class="section"><div
            class="titlepage"><div><div><h3
                  class="title"><a
                    id="idm140194934098576"></a>5.3.1. Formato</h3></div></div></div><a
            id="idm140194934097776"
            class="indexterm"></a><a
            id="idm140194934096816"
            class="indexterm"></a><a
            id="idm140194934095536"
            class="indexterm"></a><a
            id="idm140194934094256"
            class="indexterm"></a><div
            class="para">
				Um pacote fonte é normalmente composto de três arquivos, um <code
              class="filename">.dsc</code>, um <code
              class="filename">.orig.tar.gz</code> e um <code
              class="filename">.debian.tar.gz</code> (ou <code
              class="filename">.diff.gz</code>). Eles permitem a criação de pacotes binários (arquivos <code
              class="filename">.deb</code> descritos acima) dos arquivos de código fonte do programa, que são escritos em uma linguagem de programação.
			</div><div
            class="para">
				O arquivo <code
              class="filename">.dsc</code> (Debian Source Control) é um arquivo com um texto curto contendo um cabeçalho RFC 2822 (assim como o arquivo <code
              class="filename">control</code> estudado no <a
              class="xref"
              href="sect.package-meta-information.html#sect.control">Seção 5.2.1, “Descrição: O arquivo <code
                class="filename">control</code>”</a>) que descreve o pacote fonte e indica quais outros arquivos são partes "thereof". É assinado pelo mantenedor, que garante autenticidade. Veja <a
              class="xref"
              href="sect.package-authentication.html">Seção 6.5, “Verificando Autenticidade do Pacote”</a> para mais detalhes sobre o assunto.
			</div><div
            class="example"><a
              id="idm140194934087056"></a><p
              class="title"><strong>Exemplo 5.1. Um arquivo <code
                  class="filename">.dsc</code></strong></p><div
              class="example-contents"><pre
                class="programlisting">
-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA256

Format: 3.0 (quilt)
Source: zim
Binary: zim
Architecture: all
Version: 0.62-3
Maintainer: Emfox Zhou &lt;emfox@debian.org&gt;
Uploaders: Raphaël Hertzog &lt;hertzog@debian.org&gt;
Homepage: http://zim-wiki.org
Standards-Version: 3.9.6
Vcs-Browser: http://anonscm.debian.org/gitweb/?p=collab-maint/zim.git
Vcs-Git: git://anonscm.debian.org/collab-maint/zim.git
Build-Depends: debhelper (&gt;= 9), xdg-utils, python (&gt;= 2.6.6-3~), libgtk2.0-0 (&gt;= 2.6), python-gtk2, python-xdg
Package-List:
 zim deb x11 optional arch=all
Checksums-Sha1:
 ad8de170826682323c10195b65b9f1243fd75637 1772246 zim_0.62.orig.tar.gz
 a4f70d6f7fb404022c9cc4870a4e62ea3ca08388 14768 zim_0.62-3.debian.tar.xz
Checksums-Sha256:
 19d62aebd2c1a92d84d80720c6c1dcdb779c39a2120468fed01b7f252511bdc2 1772246 zim_0.62.orig.tar.gz
 fc2e827e83897d5e33f152f124802c46c3c01c5158b75a8275a27833f1f6f1de 14768 zim_0.62-3.debian.tar.xz
Files:
 43419efba07f7086168442e3d698287a 1772246 zim_0.62.orig.tar.gz
 725a69663a6c2961f07673ae541298e4 14768 zim_0.62-3.debian.tar.xz

-----BEGIN PGP SIGNATURE-----
Version: GnuPG v2
Comment: Signed by Raphael Hertzog

iQEcBAEBCAAGBQJUR2jqAAoJEAOIHavrwpq5WFcH/RsdzCHc1oXXxHitU23hEqMj
T6ok29M1UFDJDowMXW75jQ1nT4WPUtvEGygkCHeoO/PvjEvB0sjU8GQlX+N9ddSB
aHfqfAYmVhADNGxrXQT5inZXUa8qGeeq2Sqf6YcWtsnuD56lDbvxkyf/XYopoIEl
oltfl05z/AI+vYsW482YrCz0fxNAKAvkyuPhDebYI8jnKWeAANoqmKpsNc/HYyvT
+ZiA5o57OiGdOKT6XGy3/FiF3dkHiRY8lXW7xdr1BbIgulwl9UmiUNwuxwOYbQO7
edtjiTJqOaFUA0x1zB/XGv5tHr1MjP8naT+kfVoVHTOox51CDbeu5D3DZY4imcY=
=Wtoa
-----END PGP SIGNATURE-----</pre></div></div><a
            id="idm140194934083744"
            class="indexterm"></a><div
            class="para">
				Observe que o pacote fonte também tem dependências (<code
              class="literal">Build-Depends</code>) completamente diferentes dos pacotes fonte, já que ele indicam ferramentas necessárias para a compilação do programa em questão e da construção do pacote binário.
			</div><div
            class="sidebar"><div
              class="titlepage"><div><div><p
                    class="title"><strong><span
                        class="emphasis"><em>ATENÇÃO</em></span> espaço de nomes distinto</strong></p></div></div></div><div
              class="para">
				É importante notar aqui que não existe correspondência obrigatória entre o nome do pacote fonte e o do(s) pacote(s) binário(s) que ele gera. Isto é fácil de perceber se você sabe que cada pacote fonte pode gerar vários pacotes binários. É por isso que o arquivo <code
                class="filename">.dsc</code> tem os campos <code
                class="literal">Source</code> e <code
                class="literal">Binary</code> para explicitamente nomear o pacote fonte e armazenar a lista de pacotes binários que ele gera.
			</div></div><div
            class="sidebar"><div
              class="titlepage"><div><div><p
                    class="title"><strong><span
                        class="emphasis"><em>CULTURA</em></span> Por que dividir entre vários pacotes</strong></p></div></div></div><div
              class="para">
				Com frequência, um pacote fonte (para um certo programa) pode gerar vários pacotes binários. As separação é justificada pela possibilidade de usar o software (ou partes dele) em diferentes contextos. Considere uma biblioteca compartilhada, ela pode ser instalada para fazer uma aplicação funcionar (por exemplo, <span
                class="pkg pkg">libc6</span>), ou ela pode ser instalada para desenvolver um novo programa (neste caso a <span
                class="pkg pkg">libc6-dev</span> é o pacote correto). Encontramos a mesma lógica para serviços cliente/servidor onde queremos instalar a parte do servidos em uma máquina e a parte cliente em outras (este é o caso, por exemplo, do <span
                class="pkg pkg">openssh-server</span> e do <span
                class="pkg pkg">openssh-client</span>).
			</div><div
              class="para">
				Com a mesma frequência, a documentação é fornecida num pacote dedicado: o usuário pode instalar ela independente do software, e pode, a qualquer momento removê-la para economizar espaço em disco. Adicionalmente, isto também economiza espaço em disco em espelhos Debian, já que o pacote de documentação será compartilhado entre todas as arquiteturas (ao invés de ter a documentação duplicada nos pacotes para cada arquitetura).
			</div></div><div
            class="sidebar"><div
              class="titlepage"><div><div><p
                    class="title"><strong><span
                        class="emphasis"><em>PERSPECTIVA</em></span> Formatos de pacotes fonte diferentes</strong></p></div></div></div><div
              class="para">
				Originalmente existia apenas um formato de pacote fonte. Este é o formato <code
                class="literal">1.0</code>, que associa um arquivamento <code
                class="filename">.orig.tar.gz</code> a um patch de "debianização" <code
                class="filename">.diff.gz</code> (também existe uma variante, que consiste de um arquivamento único <code
                class="filename">.tar.gz</code>, que é usada automaticamente se nenhum <code
                class="filename">.orig.tar.gz</code> estiver disponível).
			</div><div
              class="para">
				Since Debian <span
                class="distribution distribution">Squeeze</span>, Debian developers have the option to use new formats that correct many problems of the historical format. Format <code
                class="literal">3.0 (quilt)</code> can combine multiple upstream archives in the same source package: in addition to the usual <code
                class="filename">.orig.tar.gz</code>, supplementary <code
                class="filename">.orig-<em
                  class="replaceable">component</em>.tar.gz</code> archives can be included. This is useful with software that is distributed in several upstream components but for which a single source package is desired. These archives can also be compressed with <code
                class="command">bzip2</code> or <code
                class="command">xz</code> rather than <code
                class="command">gzip</code> (<code
                class="command">lzma</code> is also supported by <code
                class="command">dpkg-source</code> but not accepted into the official archive), which saves disk space and network resources. Finally, the monolithic patch, <code
                class="filename">.diff.gz</code> is replaced by a <code
                class="filename">.debian.tar.gz</code> archive containing the compiling instructions and a set of upstream patches contributed by the package maintainer. These last are recorded in a format compatible with <code
                class="command">quilt</code> — a tool that facilitates the management of a series of patches.
			</div></div><div
            class="para">
				O arquivo <code
              class="filename">.orig.tar.gz</code> é um arquivo que contém o código fonte como fornecido pelo desenvolvedor oficial. Pede-se que mantenedores de pacotes Debian não modifiquem este arquivo para que possa ser fácil verificar a origem e a integridade do arquivo (simplesmente comparando com o checksum) e para respeitar o desejo de alguns autores.
			</div><div
            class="para">
				O <code
              class="filename">.debian.tar.gz</code> contém todas as modificações feitas pelo mantenedor Debian, especialmente a adição de um diretório <code
              class="filename">debian</code> contendo as instruções a executar para construir um pacote Debian.
			</div><div
            class="sidebar"><div
              class="titlepage"><div><div><p
                    class="title"><strong><span
                        class="emphasis"><em>FERRAMENTA</em></span> Descompactando um pacote fonte</strong></p></div></div></div><a
              id="idm140194934055968"
              class="indexterm"></a><a
              id="idm140194934054848"
              class="indexterm"></a><a
              id="idm140194934053920"
              class="indexterm"></a><a
              id="idm140194934052992"
              class="indexterm"></a><div
              class="para">
				If you have a source package, you can use the <code
                class="command">dpkg-source</code> command (from the <span
                class="pkg pkg">dpkg-dev</span> package) to decompress it:
			</div><pre
              class="screen"><code
                class="computeroutput">$ </code><strong
                class="userinput"><code>dpkg-source -x package_0.7-1.dsc</code></strong></pre><div
              class="para">
				You can also use <code
                class="command">apt-get</code> to download a source package and unpack it right away. It requires that the appropriate <code
                class="literal">deb-src</code> lines be present in the <code
                class="filename">/etc/apt/sources.list</code> file, however (for further details, see <a
                class="xref"
                href="apt.html#sect.apt-sources.list">Seção 6.1, “Preenchendo no arquivo <code
                  class="filename">sources.list</code> Arquivo”</a>). These are used to list the “sources” of source packages (meaning the servers on which a group of source packages are hosted).
			</div><pre
              class="screen"><code
                class="computeroutput">$ </code><strong
                class="userinput"><code>apt-get source <em
                    class="replaceable">package</em></code></strong></pre></div></div><div
          class="section"><div
            class="titlepage"><div><div><h3
                  class="title"><a
                    id="idm140194934044656"></a>5.3.2. Uso no Debian</h3></div></div></div><div
            class="para">
				O pacote fonte é o fundamento de tudo no Debian. Todos os pacotes Debian vêm de um pacote fonte, e cada modificação num pacote Debian é consequência de uma modificação feita no pacote fonte. Os mantenedores Debian trabalham com pacotes fonte, mas sabem das consequencias dos seus atos nos pacotes binários. Os frutos de seus trabalhos são, portanto, encontrados nos pacotes fonte do Debian: você pode facilmente retroceder a eles e tudo pode decorrer a partir deles.
			</div><div
            class="para">
				Quando uma nova versão de um pacote (pacote fonte e um ou mais pacotes binários) chega no servidor Debian, o pacote fonte é o mais importante. Na verdade, ele vai agora ser usado por uma rede de máquinas de diferentes arquiteturas para compilação sobre as várias arquiteturas suportadas pelo Debian. O fato de que o desenvolvedor também manda um ou mais pacotes binários para uma dada arquitetura é relativamente desimportante, já que estes podem ser simplesmente gerados de forma automática.
			</div></div></div><ul
        class="docnav"><li
          class="previous"><a
            accesskey="p"
            href="sect.package-meta-information.html"><strong>Anterior</strong>5.2. Metainformação do Pacote</a></li><li
          class="up"><a
            accesskey="u"
            href="#"><strong>Acima</strong></a></li><li
          class="home"><a
            accesskey="h"
            href="index.html"><strong>Principal</strong></a></li><li
          class="next"><a
            accesskey="n"
            href="sect.manipulating-packages-with-dpkg.html"><strong>Próxima</strong>5.4. Manipulando Pacotes com o dpkg</a></li></ul><div
        id="translated_pages"><ul><li><a
              href="../ar-MA/sect.source-package-structure.html">ar-MA</a></li><li><a
              href="../da-DK/sect.source-package-structure.html">da-DK</a></li><li><a
              href="../de-DE/sect.source-package-structure.html">de-DE</a></li><li><a
              href="../el-GR/sect.source-package-structure.html">el-GR</a></li><li><a
              href="../en-US/sect.source-package-structure.html">en-US</a></li><li><a
              href="../es-ES/sect.source-package-structure.html">es-ES</a></li><li><a
              href="../fa-IR/sect.source-package-structure.html">fa-IR</a></li><li><a
              href="../fr-FR/sect.source-package-structure.html">fr-FR</a></li><li><a
              href="../hr-HR/sect.source-package-structure.html">hr-HR</a></li><li><a
              href="../id-ID/sect.source-package-structure.html">id-ID</a></li><li><a
              href="../it-IT/sect.source-package-structure.html">it-IT</a></li><li><a
              href="../ja-JP/sect.source-package-structure.html">ja-JP</a></li><li><a
              href="../pl-PL/sect.source-package-structure.html">pl-PL</a></li><li><a
              href="../pt-BR/sect.source-package-structure.html">pt-BR</a></li><li><a
              href="../ro-RO/sect.source-package-structure.html">ro-RO</a></li><li><a
              href="../ru-RU/sect.source-package-structure.html">ru-RU</a></li><li><a
              href="../tr-TR/sect.source-package-structure.html">tr-TR</a></li><li><a
              href="../zh-CN/sect.source-package-structure.html">zh-CN</a></li></ul></div></body></html>
