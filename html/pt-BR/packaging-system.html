<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html
    xmlns="http://www.w3.org/1999/xhtml"><head><meta
        http-equiv="Content-Type"
        content="text/html; charset=UTF-8" /><title
        xmlns:d="http://docbook.org/ns/docbook">Capítulo 5. Sistema de Pacotes: Ferramentas e Princípios Fundamentais</title><link
        rel="stylesheet"
        type="text/css"
        href="Common_Content/css/default.css" /><link
        rel="stylesheet"
        media="print"
        href="Common_Content/css/print.css"
        type="text/css" /><meta
        xmlns:d="http://docbook.org/ns/docbook"
        name="generator"
        content="publican v4.3.1" /><meta
        xmlns:d="http://docbook.org/ns/docbook"
        name="package"
        content="Debian-debian-handbook-8-pt-BR-1.0-1" /><meta
        name="keywords"
        content="Pacote Binário, Pacote fonte, dpkg, dependências, conflitos" /><link
        rel="home"
        href="index.html"
        title="O Manual do Administrador Debian" /><link
        rel="up"
        href="index.html"
        title="O Manual do Administrador Debian" /><link
        rel="prev"
        href="sect.after-first-boot.html"
        title="4.3. Depois do primeiro Boot" /><link
        rel="next"
        href="sect.package-meta-information.html"
        title="5.2. Metainformação do Pacote" /><link
        rel="canonical"
        href="http://l.github.io/debian-handbook/html/pt-BR/packaging-system.html" /></head><body
      class="draft "><noscript><iframe
          src="//www.googletagmanager.com/ns.html?id=GTM-5H35QX"
          height="0"
          width="0"
          style="display:none;visibility:hidden"></iframe></noscript><script
        type="text/javascript">(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
j=d.createElement(s),dl=l!='dataLayer'?'&amp;l='+l:'';j.async=true;j.src=
'//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
})(window,document,'script','dataLayer','GTM-5H35QX');</script><div
        id="banner"><a
          href="http://debian-handbook.info/get/"><span
            class="text">Download the ebook</span></a></div><p
        id="title"><a
          class="left"
          href="http://www.debian.org"><img
            alt="Product Site"
            src="Common_Content/images//image_left.png" /></a><a
          class="right"
          href="http://debian-handbook.info"><img
            alt="Documentation Site"
            src="Common_Content/images//image_right.png" /></a></p><ul
        class="docnav top"><li
          class="previous"><a
            accesskey="p"
            href="sect.after-first-boot.html"><strong>Anterior</strong></a></li><li
          class="home">O Manual do Administrador Debian</li><li
          class="next"><a
            accesskey="n"
            href="sect.package-meta-information.html"><strong>Próxima</strong></a></li></ul><div
        xml:lang="pt-BR"
        class="chapter"
        lang="pt-BR"><div
          class="titlepage"><div><div><h1
                class="title"><a
                  id="packaging-system"></a>Capítulo 5. Sistema de Pacotes: Ferramentas e Princípios Fundamentais</h1></div></div></div><div
          class="toc"><dl
            class="toc"><dt><span
                class="section"><a
                  href="packaging-system.html#sect.binary-package-structure">5.1. Estrutura de um Pacote Binário</a></span></dt><dt><span
                class="section"><a
                  href="sect.package-meta-information.html">5.2. Metainformação do Pacote</a></span></dt><dd><dl><dt><span
                    class="section"><a
                      href="sect.package-meta-information.html#sect.control">5.2.1. Descrição: O arquivo <code
                        class="filename">control</code></a></span></dt><dt><span
                    class="section"><a
                      href="sect.package-meta-information.html#idm140035072955120">5.2.2. Scripts de Configuração</a></span></dt><dt><span
                    class="section"><a
                      href="sect.package-meta-information.html#sect.conffiles">5.2.3. Checksums, Lista de arquivos de configuração</a></span></dt></dl></dd><dt><span
                class="section"><a
                  href="sect.source-package-structure.html">5.3. Estrutura de um Pacote Fonte</a></span></dt><dd><dl><dt><span
                    class="section"><a
                      href="sect.source-package-structure.html#idm140035072721584">5.3.1. Formato</a></span></dt><dt><span
                    class="section"><a
                      href="sect.source-package-structure.html#idm140035072667664">5.3.2. Uso no Debian</a></span></dt></dl></dd><dt><span
                class="section"><a
                  href="sect.manipulating-packages-with-dpkg.html">5.4. Manipulando Pacotes com o <code
                    class="command">dpkg</code></a></span></dt><dd><dl><dt><span
                    class="section"><a
                      href="sect.manipulating-packages-with-dpkg.html#idm140035072655456">5.4.1. Instalando pacotes</a></span></dt><dt><span
                    class="section"><a
                      href="sect.manipulating-packages-with-dpkg.html#idm140035072618736">5.4.2. Remoção de pacote</a></span></dt><dt><span
                    class="section"><a
                      href="sect.manipulating-packages-with-dpkg.html#idm140035072605504">5.4.3. Consultando o banco de dados do <code
                        class="command">dpkg</code> e inspecionando os arquivos <code
                        class="filename">.deb</code></a></span></dt><dt><span
                    class="section"><a
                      href="sect.manipulating-packages-with-dpkg.html#idm140035072556304">5.4.4. Arquivo de log do <code
                        class="command">dpkg</code></a></span></dt><dt><span
                    class="section"><a
                      href="sect.manipulating-packages-with-dpkg.html#sect.multi-arch">5.4.5. Suporte Multi-Arqu</a></span></dt></dl></dd><dt><span
                class="section"><a
                  href="sect.coexistence-with-other-packaging-systems.html">5.5. Coexistencia com outros sistemas de pacotes</a></span></dt></dl></div><div
          class="highlights"><div
            class="para">
		Como um administrador de sistemas Debian, você rotineiramente manipula pacotes <code
              class="filename">.deb</code>, já que eles contêm unidades funcionais consistentes (aplicações, documentação, etc.), cujas instalação e manutenção eles facilitam. Logo é uma boa ideia saber exatamente o que são e como usá-los.
	</div></div><div
          class="para">
		Este capítulo descreve a estrutura e conteúdo dos pacotes "binários" e "fontes". Os primeiros são arquivos <code
            class="filename">.deb</code>, diretamente usáveis pelo <code
            class="command">dpkg</code>, enquanto os segundos contém o código fonte, assim como as instruções para construir os pacotes binários.
	</div><div
          class="section"><div
            class="titlepage"><div><div><h2
                  class="title"><a
                    id="sect.binary-package-structure"></a>5.1. Estrutura de um Pacote Binário</h2></div></div></div><a
            id="idm140035058608208"
            class="indexterm"></a><a
            id="idm140035057900432"
            class="indexterm"></a><div
            class="para">
			O formato do pacote Debian foi projetado para que seu conteúdo possa ser extraído em qualquer sistema Unix que contenha os clássicos comandos <code
              class="command">ar</code>, <code
              class="command">tar</code>, e <code
              class="command">gzip</code> (e às vezes <code
              class="command">xz</code> ou <code
              class="command">bzip2</code>). Esta característica aparentemente trivial é importante para a portabilidade e recuperação de desastres.
		</div><div
            class="para">
			Imagine, for example, that you mistakenly deleted the <code
              class="command">dpkg</code> program, and that you could thus no longer install Debian packages. <code
              class="command">dpkg</code> being a Debian package itself, it would seem your system would be done for... Fortunately, you know the format of a package and can therefore download the <code
              class="filename">.deb</code> file of the <span
              class="pkg pkg">dpkg</span> package and install it manually (see sidebar <a
              class="xref"
              href="packaging-system.html#sidebar.dpkg-apt-ar"><span
                class="emphasis"><em>FERRAMENTAS</em></span> <code
                class="command">dpkg</code>, <code
                class="command">APT</code> e <code
                class="command">ar</code></a>). If by some misfortune one or more of the programs <code
              class="command">ar</code>, <code
              class="command">tar</code> or <code
              class="command">gzip</code>/<code
              class="command">xz</code>/<code
              class="command">bzip2</code> have disappeared, you will only need to copy the missing program from another system (since each of these operates in a completely autonomous manner, without dependencies, a simple copy will suffice). If your system suffered some even more outrageous fortune, and even these don't work (maybe the deepest system libraries are missing?), you should try the static version of <code
              class="command">busybox</code>, which is even more self-contained, and provides subcommands such as <code
              class="command">busybox ar</code>, <code
              class="command">busybox tar</code> and <code
              class="command">busybox gunzip</code>.
		</div><div
            class="sidebar"><a
              id="sidebar.dpkg-apt-ar"></a><div
              class="titlepage"><div><div><p
                    class="title"><strong><span
                        class="emphasis"><em>FERRAMENTAS</em></span> <code
                        class="command">dpkg</code>, <code
                        class="command">APT</code> e <code
                        class="command">ar</code></strong></p></div></div></div><a
              id="idm140035073623216"
              class="indexterm"></a><a
              id="idm140035073622096"
              class="indexterm"></a><a
              id="idm140035073620976"
              class="indexterm"></a><div
              class="para">
			<code
                class="command">dpkg</code> é um programa que manipula arquivos <code
                class="filename">.deb</code>, notavelmente extraindo, analisando, e desempacotando os mesmos.
		</div><div
              class="para">
			<code
                class="command">APT</code> é um conjunto de programas que permite a execução alto nível de modificações no sistema: instalando ou removendo pacotes (enquanto satisfaz dependências), atualizando o sistema, listando pacotes disponíveis, etc.
		</div><div
              class="para">
			<a
                id="idm140035057077824"
                class="indexterm"></a> Assim como o programa <code
                class="command">ar</code>, ele permite manipular arquivos do mesmo nome: <code
                class="command">ar t <em
                  class="replaceable">arquivamento</em></code> mostra a lista de arquivos contidos no arquivamento, <code
                class="command">ar x <em
                  class="replaceable">arquivmento</em></code> extrai os arquivos do arquivamento para a pasta de trabalho atual, <code
                class="command">ar d <em
                  class="replaceable">arquivamento</em> <em
                  class="replaceable">arquivo</em></code> apaga um arquivo do arquivamento, etc. Sua página man (<span
                class="citerefentry"><span
                  class="refentrytitle">ar</span>(1)</span>) documenta todas as demais funcionalidades. <code
                class="command">ar</code> é uma ferramenta muito rudimentar que um administrador Unix usará muito pouco, mas os admins usarão com frequencia o <code
                class="command">tar</code>, um programa de gerencia de arquivos e arquivamentos. É por isso que é fácil recuperar o <code
                class="command">dpkg</code> no caso de uma remoção errada. Você terá apenas que baixar o pacote Debian e extrair o conteúdo do arquivamento <code
                class="filename">data.tar.gz</code> na raiz do sistema (<code
                class="filename">/</code>):
		</div><pre
              class="screen">
<code
                class="computeroutput"># </code><strong
                class="userinput"><code>ar x dpkg_1.17.23_amd64.deb</code></strong>
<code
                class="computeroutput"># </code><strong
                class="userinput"><code>tar -C / -p -xzf data.tar.gz</code></strong></pre></div><div
            class="sidebar"><div
              class="titlepage"><div><div><p
                    class="title"><strong><span
                        class="emphasis"><em>DE VOLTA AO BÁSICO</em></span> Notação de páginas de manual</strong></p></div></div></div><div
              class="para">
			Pode ser confuso para iniciantes encontrar referências ao “<span
                class="citerefentry"><span
                  class="refentrytitle">ar</span>(1)</span>” na literatura. Isto é geralmente uma forma conveniente de se referir à página man intitulada <code
                class="literal">ar</code> na seção 1.
		</div><div
              class="para">
			Algumas vezes esta notação é também usada para remover ambiguidades, por exemplo para distinguir entre o comando <code
                class="command">printf</code> que pode ser indicado por <span
                class="citerefentry"><span
                  class="refentrytitle">printf</span>(1)</span> e a função <code
                class="function">printf</code> da linguagem de programação C, que pode ser indicada por <span
                class="citerefentry"><span
                  class="refentrytitle">printf</span>(3)</span>.
		</div><div
              class="para">
			<a
                class="xref"
                href="solving-problems.html">Capítulo 7, <em>Resolvendo Problemas e Encontrando Informações Relevantes</em></a> discute as páginas de manual em muito mais detalhes (veja em <a
                class="xref"
                href="solving-problems.html#sect.manual-pages">Seção 7.1.1, “Páginas de Manual”</a>).
		</div></div><div
            class="para">
			Dê uma olhada no conteúdo de um arquivo <code
              class="filename">.deb</code>:
		</div><pre
            class="screen"><code
              class="computeroutput">$ </code><strong
              class="userinput"><code>ar t dpkg_1.17.23_amd64.deb</code></strong>
<code
              class="computeroutput">debian-binary
control.tar.gz
data.tar.gz
$ </code><strong
              class="userinput"><code>ar x dpkg_1.17.23_amd64.deb</code></strong>
<code
              class="computeroutput">$ </code><strong
              class="userinput"><code>ls</code></strong>
<code
              class="computeroutput">control.tar.gz  data.tar.gz  debian-binary  dpkg_1.16.10_i386.deb
$ </code><strong
              class="userinput"><code>tar tzf data.tar.gz | head -n 15</code></strong>
<code
              class="computeroutput">./
./var/
./var/lib/
./var/lib/dpkg/
./var/lib/dpkg/parts/
./var/lib/dpkg/info/
./var/lib/dpkg/alternatives/
./var/lib/dpkg/updates/
./etc/
./etc/logrotate.d/
./etc/logrotate.d/dpkg
./etc/dpkg/
./etc/dpkg/dpkg.cfg.d/
./etc/dpkg/dpkg.cfg
./etc/alternatives/
$ </code><strong
              class="userinput"><code>tar tzf control.tar.gz</code></strong>
<code
              class="computeroutput">./
./conffiles
./postinst
./md5sums
./prerm
./preinst
./control
./postrm
$ </code><strong
              class="userinput"><code>cat debian-binary</code></strong>
<code
              class="computeroutput">2.0</code></pre><div
            class="para">
			Como você pode ver, o arquivo <code
              class="command">ar</code> de um pacote Debian é composto de três arquivos:
		</div><div
            xmlns:d="http://docbook.org/ns/docbook"
            class="itemizedlist"><ul><li
                class="listitem"><div
                  class="para">
					<code
                    class="filename">debian-binary</code>. This is a text file which simply indicates the version of the <code
                    class="filename">.deb</code> file used (in 2015: version 2.0).
				</div></li><li
                class="listitem"><div
                  class="para">
					<code
                    class="filename">control.tar.gz</code>. Este arquivamento contém todas as meta-informações disponíveis, como o nome e a versão do pacote. Algumas destas meta-informações servem para que as ferramentas de gestão de pacotes determinarem se é possível instalar e desinstalar o pacote, por exemplo, de acordo com a lista de pacotes já instalados na máquina.
				</div></li><li
                class="listitem"><div
                  class="para">
					<code
                    class="filename">data.tar.gz</code>. Este arquivamento contém todos os arquivos para serem extraídos do pacote; é onde os arquivos executáveis, documentação, etc, estão todos estocados. Alguns pacotes podem usar outros formatos de compressão, e neste caso o arquivo terá um nome diferente (<code
                    class="filename">data.tar.bz2</code> para bzip2, <code
                    class="filename">data.tar.xz</code> para XZ, <code
                    class="filename">data.tar.lzma</code> para LZMA).
				</div></li></ul></div></div></div><ul
        class="docnav"><li
          class="previous"><a
            accesskey="p"
            href="sect.after-first-boot.html"><strong>Anterior</strong>4.3. Depois do primeiro Boot</a></li><li
          class="up"><a
            accesskey="u"
            href="#"><strong>Acima</strong></a></li><li
          class="home"><a
            accesskey="h"
            href="index.html"><strong>Principal</strong></a></li><li
          class="next"><a
            accesskey="n"
            href="sect.package-meta-information.html"><strong>Próxima</strong>5.2. Metainformação do Pacote</a></li></ul><div
        id="translated_pages"><ul><li><a
              href="../ar-MA/packaging-system.html">ar-MA</a></li><li><a
              href="../da-DK/packaging-system.html">da-DK</a></li><li><a
              href="../de-DE/packaging-system.html">de-DE</a></li><li><a
              href="../el-GR/packaging-system.html">el-GR</a></li><li><a
              href="../en-US/packaging-system.html">en-US</a></li><li><a
              href="../es-ES/packaging-system.html">es-ES</a></li><li><a
              href="../fa-IR/packaging-system.html">fa-IR</a></li><li><a
              href="../fr-FR/packaging-system.html">fr-FR</a></li><li><a
              href="../hr-HR/packaging-system.html">hr-HR</a></li><li><a
              href="../id-ID/packaging-system.html">id-ID</a></li><li><a
              href="../it-IT/packaging-system.html">it-IT</a></li><li><a
              href="../ja-JP/packaging-system.html">ja-JP</a></li><li><a
              href="../pl-PL/packaging-system.html">pl-PL</a></li><li><a
              href="../pt-BR/packaging-system.html">pt-BR</a></li><li><a
              href="../ro-RO/packaging-system.html">ro-RO</a></li><li><a
              href="../ru-RU/packaging-system.html">ru-RU</a></li><li><a
              href="../tr-TR/packaging-system.html">tr-TR</a></li><li><a
              href="../zh-CN/packaging-system.html">zh-CN</a></li></ul></div></body></html>
