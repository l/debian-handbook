<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html
    xmlns="http://www.w3.org/1999/xhtml"><head><meta
        http-equiv="Content-Type"
        content="text/html; charset=UTF-8" /><title
        xmlns:d="http://docbook.org/ns/docbook">12.4. Monitoramento</title><link
        rel="stylesheet"
        type="text/css"
        href="Common_Content/css/default.css" /><link
        rel="stylesheet"
        media="print"
        href="Common_Content/css/print.css"
        type="text/css" /><meta
        xmlns:d="http://docbook.org/ns/docbook"
        name="generator"
        content="publican v4.3.2" /><meta
        xmlns:d="http://docbook.org/ns/docbook"
        name="package"
        content="Debian-debian-handbook-8-pt-BR-1.0-1" /><meta
        name="keywords"
        content="RAID, LVM, FAI, Pré-configuração, Monitoramento, Virtualização, Xen, LXC" /><link
        rel="home"
        href="index.html"
        title="O Manual do Administrador Debian" /><link
        rel="up"
        href="advanced-administration.html"
        title="Capítulo 12. Administração Avançada" /><link
        rel="prev"
        href="sect.automated-installation.html"
        title="12.3. Instalação Automatizada" /><link
        rel="next"
        href="workstation.html"
        title="Capítulo 13. Estação de trabalho" /><meta
        name="viewport"
        content="width=device-width, initial-scale=1" /><link
        rel="canonical"
        href="http://l.github.io/debian-handbook/html/pt-BR/sect.monitoring.html" /></head><body><noscript><iframe
          src="//www.googletagmanager.com/ns.html?id=GTM-5H35QX"
          height="0"
          width="0"
          style="display:none;visibility:hidden"></iframe></noscript><script
        type="text/javascript">(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
j=d.createElement(s),dl=l!='dataLayer'?'&amp;l='+l:'';j.async=true;j.src=
'//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
})(window,document,'script','dataLayer','GTM-5H35QX');</script><div
        id="banner"><a
          href="../../"><span
            class="text">Download the ebook</span></a></div><p
        id="title"><a
          class="left"
          href="http://www.debian.org"><img
            alt="Product Site"
            src="Common_Content/images//image_left.png" /></a><a
          class="right"
          href="index.html"><img
            alt="Documentation Site"
            src="Common_Content/images//image_right.png" /></a></p><ul
        class="docnav top"><li
          class="previous"><a
            accesskey="p"
            href="sect.automated-installation.html"><strong>Anterior</strong></a></li><li
          class="home">O Manual do Administrador Debian</li><li
          class="next"><a
            accesskey="n"
            href="workstation.html"><strong>Próxima</strong></a></li></ul><div
        class="section"><div
          class="titlepage"><div><div><h2
                class="title"><a
                  id="sect.monitoring"></a>12.4. Monitoramento</h2></div></div></div><div
          class="para">
			O monitoramento é um termo genérico e as várias atividades envolvidas tem vários objetivos: por um lado, seguir o uso dos recursos fornecidos pela máquina permite antecipar a saturação e os subsequentes necessidades de upgrades; por outro lado, alertar o administrador assim que um serviço fica indisponível ou não está funcionando de maneira apropriada significa que os problemas que estão acontecendo podem ser consertados mais rapidamente.
		</div><div
          class="para">
			O <span
            class="emphasis"><em>Munin</em></span> cobre a primeira área, exibindo gráficos de valores históricos de inúmeros parâmetros (RAM usada, espaço de disco ocupado, carga do processador, tráfego de rede,carga do Apache/MySQL, e assim por diante). O <span
            class="emphasis"><em>Nagios</em></span> cobre a segunda área,regularmente checando que os serviços estão funcionando e disponíveis, e enviando alertas através dos canais apropriados (e-mails, mensagens de texto e assim por diante). Os dois tem um design modular, o que torna fácil criar novas extensões para monitorar parâmetros específicos ou serviços.
		</div><div
          class="sidebar"><div
            class="titlepage"><div><div><p
                  class="title"><strong><span
                      class="emphasis"><em>ALTERNATIVA</em></span> Zabbix, uma ferramenta de monitoramento integrada</strong></p></div></div></div><a
            id="id-1.15.7.4.2"
            class="indexterm"></a><div
            class="para">
			Embora o Munin e o Nagios sejam os mais populares, eles não são as únicas opções no campo de monitoramento, e cada um deles apenas lida com metade da tarefa (um com gráficos, outro com alertas). O Zabbix, por outro lado, integra ambas as partes de monitoramento; ele também tem uma interface web para configurar a maioria dos aspectos comuns. Ele cresceu aos trancos e barrancos durante os últimos anos, e pode agora ser considerado um concorrente viável. No servidor de monitoramento, você instalaria o <span
              class="pkg pkg">zabbix-server-pgsql</span> (ou <span
              class="pkg pkg">zabbix-server-mysql</span>), possivelmente junto com o <span
              class="pkg pkg">zabbix-frontend-php</span> para ter uma interface web. Nas máquinas a serem monitoradas você instalaria o <span
              class="pkg pkg">zabbix-agent</span>, para alimentar o servidor com os dados. <div
              class="url">→ <a
                href="http://www.zabbix.com/">http://www.zabbix.com/</a></div>
		</div></div><div
          class="sidebar"><div
            class="titlepage"><div><div><p
                  class="title"><strong><span
                      class="emphasis"><em>ALTERNATIVA</em></span> Icinga, uma ramificação do Nagios</strong></p></div></div></div><a
            id="id-1.15.7.5.2"
            class="indexterm"></a><div
            class="para">
			Estimulados por divergências nas opiniões que se referem ao modelo de desenvolvimento do Nagios (que é controlado por uma companhia), alguns desenvolvedores fizeram um "fork" do Nagios e usaram Icinga como seu novo nome. O Icinga ainda é compatível — até agora — com as configurações e extensões do Nagios, porém ele também adiciona funcionalidades extras. <div
              class="url">→ <a
                href="http://www.icinga.org/">http://www.icinga.org/</a></div>
		</div></div><div
          class="section"><div
            class="titlepage"><div><div><h3
                  class="title"><a
                    id="sect.munin"></a>12.4.1. Configurando o Munin</h3></div></div></div><a
            id="id-1.15.7.6.2"
            class="indexterm"></a><div
            class="para">
				O propósito do Munin é monitorar muitas máquinas; logo, é bem natural que ele use uma arquitetura cliente/servidor. A máquina ("host") central — que faz o gráfico ("grapher") — coleta dados de todas as máquinas ("hosts") monitoradas, e gera gráficos com os históricos.
			</div><div
            class="section"><div
              class="titlepage"><div><div><h4
                    class="title"><a
                      id="id-1.15.7.6.4"></a>12.4.1.1. Configurando As Máquinas A Serem Monitoradas</h4></div></div></div><div
              class="para">
					O primeiro passo é instalar o pacote <span
                class="pkg pkg">munin-node</span>. O serviço ("daemon") instalado por esse pacote escuta na porta 4949 e envia de volta os dados coletados por todas as extensões ativas. Cada extensão é um programa simples que retorna um descrição dos dados coletados, assim como o último valor medido. As extensões são armazenadas em <code
                class="filename">/usr/share/munin/plugins/</code>, mas apenas aquelas com uma ligação simbólica em <code
                class="filename">/etc/munin/plugins/</code> são realmente usadas.
				</div><div
              class="para">
					Quando o pacote é instalado, um conjunto de extensões ativas é determinado com base nos softwares disponíveis e na configuração atual da máquina. Contudo, essa auto configuração depende da funcionalidade que cada extensão deve fornecer, e geralmente é uma boa ideia rever e ajustar os resultados manualmente. Navegar pela <a
                href="http://gallery.munin-monitoring.org">Plugin Gallery (galeria de extensões)</a> pode ser interessante mesmo que nem todas as extensões tenham uma documentação compreensível. Entretanto, todas as extensões são scripts e a maioria é bem simples e bem comentado. Navegar por <code
                class="filename">/etc/munin/plugins/</code> é portanto uma boa maneira de se ter uma ideia sobre para que cada extensão serve e determinar quais devem ser removidas. Similarmente, habilitar uma extensão interessante encontrada em <code
                class="filename">/usr/share/munin/plugins/</code> é uma simples questão de configurar uma ligação simbólica com <code
                class="command">ln -sf /usr/share/munin/plugins/<em
                  class="replaceable">extensão</em> /etc/munin/plugins/</code>. Note que quando o nome de uma extensão termina com um sublinhado “_”, a extensão precisa de um parâmetro. Esse parâmetro tem que ser armazenado no nome da ligação simbólica; por exemplo, a extensão “if_” tem que ser habilitada como uma ligação simbólica <code
                class="filename">if_eth0</code> para monitorar o tráfego de rede na interface eth0.
				</div><div
              class="para">
					Uma vez que todas as extensões estejam configuradas corretamente, a configuração do serviço ("daemon") tem que ser atualizada para descrever o controle de acesso aos dados coletados. Isso envolve a diretiva <code
                class="literal">allow</code> no arquivo <code
                class="filename">/etc/munin/munin-node.conf</code>. A configuração padão é <code
                class="literal">allow ^127\.0\.0\.1$</code>, e apenas permite acesso a máquina local. Um administrador geralmente irá adicionar uma linha similar contendo o endereço IP da máquina que gera o gráfico ("grapher host"), e então reiniciar o serviço com <code
                class="command">service munin-node restart</code>.
				</div><div
              class="sidebar"><div
                class="titlepage"><div><div><p
                      class="title"><strong><span
                          class="emphasis"><em>APROFUNDANDO</em></span> Criando extensões locais</strong></p></div></div></div><div
                class="para">
					O Munin inclui documentação detalhada sobre como as extensões devem se comportar e como desenvolver novas extensões. <div
                  class="url">→ <a
                    href="http://munin-monitoring.org/wiki/plugins">http://munin-monitoring.org/wiki/plugins</a></div>
				</div><div
                class="para">
					Uma extensão é melhor testada quando executada nas mesmas condições encontradas quando iniciada pelo munin-node; isso pode ser simulado rodando <code
                  class="command">munin-run <em
                    class="replaceable">extensão</em></code> como root. Um segundo parâmetro potecial dado a esse comando (tal como <code
                  class="literal">config</code>) é passado para a extensão como um parâmetro.
				</div><div
                class="para">
					Quando uma extensão é invocada com o parâmetro <code
                  class="literal">config</code>, ela tem que descrever a si própria pelo retorno de um conjunto de campos:
				</div><pre
                class="screen"><code
                  class="computeroutput">$ </code><strong
                  class="userinput"><code>sudo munin-run load config
</code></strong><code
                  class="computeroutput">graph_title Load average
graph_args --base 1000 -l 0
graph_vlabel load
graph_scale no
graph_category system
load.label load
graph_info The load average of the machine describes how many processes are in the run-queue (scheduled to run "immediately").
load.info 5 minute load average
</code></pre><div
                class="para">
					Os vários campos disponíveis são descritos pela Referência das Extensões (“Plugin reference”) disponível como parte do Guia do Munin (“Munin guide”). <div
                  class="url">→ <a
                    href="http://munin.readthedocs.org/en/latest/reference/plugin.html">http://munin.readthedocs.org/en/latest/reference/plugin.html</a></div>
				</div><div
                class="para">
					Quando invocada sem um parâmetro, a extensão apenas retorna os últimos valores medidos; por exemplo, executando <code
                  class="command">sudo munin-run load</code> poderia retornar <code
                  class="literal">load.value 0.12</code>.
				</div><div
                class="para">
					Finalmente, quando uma extensão é invocada com parâmetro <code
                  class="literal">autoconf</code>, ela deveria retornar “yes” (e um status de término 0) ou “no” (com um status de término 1) de acordo sobre se a extensão deve ser habilitada nesta máquina ("host").
				</div></div></div><div
            class="section"><div
              class="titlepage"><div><div><h4
                    class="title"><a
                      id="id-1.15.7.6.5"></a>12.4.1.2. Configurando a Máquina que faz o Gráfico ("Grapher")</h4></div></div></div><div
              class="para">
					O “grapher” é simplesmente o computador que agrega os dados e gera os gráficos correspondentes. O software necessário está no pacote <span
                class="pkg pkg">munin</span>. A configuração padrão roda o <code
                class="command">munin-cron</code> (uma vez a cada 5 minutos), que reune dados de todas as máquinas ("hosts") listados em <code
                class="filename">/etc/munin/munin.conf</code> (apenas a máquina ("host") local é listada por padrão), salva os dados históricos em arquivos RRD (<span
                class="emphasis"><em>Round Robin Database</em></span>, um arquivo com formato desenvolvido par armazenar dados que variam com o tempo) armazenados em <code
                class="filename">/var/lib/munin/</code> e gera uma página HTML com os gráficos em <code
                class="filename">/var/cache/munin/www/</code>.
				</div><div
              class="para">
					Portanto todas as máquinas monitoradas tem que estar listadas no arquivo de configuração <code
                class="filename">/etc/munin/munin.conf</code>. Cada máquina é listada como uma seção completa, com um nome correspondendo com a máquina e pelo menos uma entrada com <code
                class="literal">endereço</code> dando o endereço IP correspondente.
				</div><pre
              class="programlisting">[ftp.falcot.com]
    address 192.168.0.12
    use_node_name yes</pre><div
              class="para">
					Seções podem ser mais complexas, e descrever gráficos extras que poderiam ser criados pela combinação de dados vindos de várias máquinas. Os exemplos fornecidos no arquivo de configuração são um bom ponto de partida para customizações.
				</div><div
              class="para">
					O último passo é publicar as páginas geradas; isso envolve a configuração de um servidor web para que o conteúdo de <code
                class="filename">/var/cache/munin/www/</code> seja disponibilizado em um site web. O acesso a esse site web geralmente será restrito, pelo uso de um mecanismo de autenticação ou controle de acesso baseado em IP. Veja <a
                class="xref"
                href="sect.http-web-server.html">Seção 11.2, “Servidor web (HTTP)”</a> para os detalhes relevantes.
				</div></div></div><div
          class="section"><div
            class="titlepage"><div><div><h3
                  class="title"><a
                    id="sect.nagios"></a>12.4.2. Configurando o Nagios</h3></div></div></div><a
            id="id-1.15.7.7.2"
            class="indexterm"></a><div
            class="para">
				Diferentemente do Munin, o Nagios não necessariamente requer a instalação de alguma coisa nas máquinas (""hosts") monitoradas; na maioria das vezes, o Nagios é usado para conferir a disponibilidade de serviços de rede. Por exemplo, o Nagios pode se conectar em um servidor web e conferir que determinada página web pode ser obtida dentro de um determinado tempo.
			</div><div
            class="section"><div
              class="titlepage"><div><div><h4
                    class="title"><a
                      id="id-1.15.7.7.4"></a>12.4.2.1. Instalando</h4></div></div></div><div
              class="para">
					O primeiro passo na configuração do Nagios é a instalação dos pacotes <span
                class="pkg pkg">nagios3</span>, <span
                class="pkg pkg">nagios-plugins</span> e <span
                class="pkg pkg">nagios3-doc</span>. Instalando esses pacotes é configurada a interface web e criado o primeiro usuário, <code
                class="literal">nagiosadmin</code> (para o qual é perguntado uma senha). Adicionar outros usuários é uma simples questão de inseri-los no arquivo <code
                class="filename">/etc/nagios3/htpasswd.users</code> com o comando do Apache <code
                class="command">htpasswd</code>. Se nenhuma pergunta do Debconf foi exibida durante a instalação, <code
                class="command">dpkg-reconfigure nagios3-cgi</code> pode ser usado para definir a senha do <code
                class="literal">nagiosadmin</code>.
				</div><div
              class="para">
					Apontar o navegador para <code
                class="literal">http://<em
                  class="replaceable">servidor</em>/nagios3/</code> exibe a interface web; em particular, note que o Nagios já monitora alguns parâmetros da máquina aonde ele roda. Contudo, algumas funcionalidades interativas, tais como adicionar comentários a uma máquina ("host") não funciona. Esses recursos estão desabilitados pela configuração padrão do Nagios, que é muito restritiva por razões de segurança.
				</div><div
              class="para">
					Como ducomentado em <code
                class="filename">/usr/share/doc/nagios3/README.Debian</code>, habilitar alguns recursos envolve a editar o <code
                class="filename">/etc/nagios3/nagios.cfg</code> e configurar o parâmetro <code
                class="literal">check_external_commands</code> para “1”. Nós tambéms precisamos configurar permissões de escrita para o diretório usado pelo Nagios, através de comandos como os seguintes:
				</div><pre
              class="screen"><code
                class="computeroutput"># </code><strong
                class="userinput"><code>service nagios3 stop</code></strong>
<code
                class="computeroutput">[...]
# </code><strong
                class="userinput"><code>dpkg-statoverride --update --add nagios www-data 2710 /var/lib/nagios3/rw
</code></strong><code
                class="computeroutput"># </code><strong
                class="userinput"><code>dpkg-statoverride --update --add nagios nagios 751 /var/lib/nagios3
</code></strong><code
                class="computeroutput"># </code><strong
                class="userinput"><code>service nagios3 start</code></strong>
<code
                class="computeroutput">[...]</code></pre></div><div
            class="section"><div
              class="titlepage"><div><div><h4
                    class="title"><a
                      id="id-1.15.7.7.5"></a>12.4.2.2. Configurando</h4></div></div></div><div
              class="para">
					A interface web do Nagios é bem legal, mas elas não permite configurações, nem pode ser usada para adicionar máquinas ("hosts") monitorados e serviços. Toda a configuração é gerenciada através de arquivos referenciados pelo arquivo de configuração central, <code
                class="filename">/etc/nagios3/nagios.cfg</code>.
				</div><div
              class="para">
					Não se deve mergulhar nesses arquivos sem algum entendimento dos conceitos do Nagios. A configuração lista objetos dos seguintes tipos:
				</div><div
              xmlns:d="http://docbook.org/ns/docbook"
              class="itemizedlist"><ul><li
                  class="listitem"><div
                    class="para">
							um <span
                      class="emphasis"><em>host</em></span> é a máquina a ser monitorada;
						</div></li><li
                  class="listitem"><div
                    class="para">
							um <span
                      class="emphasis"><em>hostgroup</em></span> é um conjunto de máquinas que devem ser agrupadas para exibição, ou para fatorar alguns elementos comuns de configuração;
						</div></li><li
                  class="listitem"><div
                    class="para">
							Um <span
                      class="emphasis"><em>service</em></span> é um elemento testável relacionado a uma máquina ou um grupo de máquinas. Ele irá, muito frequentemente, ser uma checagem para um serviço de rede, mas ele também envolve a checagem de que alguns parâmetros estão dentro de um intervalo aceitável (por exemplo, espaço livre em disco ou carga do processador);
						</div></li><li
                  class="listitem"><div
                    class="para">
							um <span
                      class="emphasis"><em>servicegroup</em></span> é um conjunto de serviços que devem ser agrupados para exibição;
						</div></li><li
                  class="listitem"><div
                    class="para">
							um <span
                      class="emphasis"><em>contact</em></span> é uma pessoa que pode receber alertas;
						</div></li><li
                  class="listitem"><div
                    class="para">
							um <span
                      class="emphasis"><em>contactgroup</em></span> é um grupo de tais pessoas;
						</div></li><li
                  class="listitem"><div
                    class="para">
							um <span
                      class="emphasis"><em>timeperiod</em></span> é um intervalo de tempo durante o qual alguns serviços tem que ser checados;
						</div></li><li
                  class="listitem"><div
                    class="para">
							um <span
                      class="emphasis"><em>command</em></span> é a linha de comando invocada para checar um dado serviço.
						</div></li></ul></div><div
              class="para">
					De acordo com seu tipo, cada objeto tem um número de propriedades que podem ser customizadas. Um lista completa seria muito longa para ser incluída, mas as propriedades mais importantes são as relações entre os objetos.
				</div><div
              class="para">
					Um <span
                class="emphasis"><em>service</em></span> (serviço) usa um <span
                class="emphasis"><em>command</em></span> (commando) para checar o estado de uma funcionalidade em um <span
                class="emphasis"><em>host</em></span> (máquina) (ou um <span
                class="emphasis"><em>hostgroup</em></span>) dentro de um <span
                class="emphasis"><em>timeperiod</em></span> (intervalo de tempo). Em caso de um problema, o Nagios envia um alerta para todos os membros de <span
                class="emphasis"><em>contactgroup</em></span> (grupo de contatos) ligados ao serviço. É enviado um alerta a cada membro de acordo com o canal descrito no objeto <span
                class="emphasis"><em>contact</em></span> (contato) correspondente.
				</div><div
              class="para">
					Um sistema de herança permite o fácil compartilhamento de um conjunto de propriedades por entre muitos objetos sem a duplicação de informação. Além disso, a configuração inicial inclui um número de objetos padrão; em muitos casos, a definição de novas máquinas, serviços e contatos é uma simples questão de derivação a partir dos objetos genéricos fornecidos. Os arquivos em <code
                class="filename">/etc/nagios3/conf.d/</code> são uma boa fonte de informação sobre como eles funcionam.
				</div><div
              class="para">
					Os administradores da Falcot Corp usam a seguinte configuração:
				</div><div
              class="example"><a
                id="id-1.15.7.7.5.9"></a><p
                class="title"><strong>Exemplo 12.3. arquivo <code
                    class="filename">/etc/nagios3/conf.d/falcot.cfg</code></strong></p><div
                class="example-contents"><pre
                  class="programlisting">define contact{
    name                            generic-contact
    service_notification_period     24x7
    host_notification_period        24x7
    service_notification_options    w,u,c,r
    host_notification_options       d,u,r
    service_notification_commands   notify-service-by-email
    host_notification_commands      notify-host-by-email
    register                        0 ; Template only
}
define contact{
    use             generic-contact
    contact_name    rhertzog
    alias           Raphael Hertzog
    email           hertzog@debian.org
}
define contact{
    use             generic-contact
    contact_name    rmas
    alias           Roland Mas
    email           lolando@debian.org
}

define contactgroup{
    contactgroup_name     falcot-admins
    alias                 Falcot Administrators
    members               rhertzog,rmas
}

define host{
    use                   generic-host ; Name of host template to use
    host_name             www-host
    alias                 www.falcot.com
    address               192.168.0.5
    contact_groups        falcot-admins
    hostgroups            debian-servers,ssh-servers
}
define host{
    use                   generic-host ; Name of host template to use
    host_name             ftp-host
    alias                 ftp.falcot.com
    address               192.168.0.6
    contact_groups        falcot-admins
    hostgroups            debian-servers,ssh-servers
}

# 'check_ftp' command with custom parameters
define command{
    command_name          check_ftp2
    command_line          /usr/lib/nagios/plugins/check_ftp -H $HOSTADDRESS$ -w 20 -c 30 -t 35
}

# Generic Falcot service
define service{
    name                  falcot-service
    use                   generic-service
    contact_groups        falcot-admins
    register              0
}

# Services to check on www-host
define service{
    use                   falcot-service
    host_name             www-host
    service_description   HTTP
    check_command         check_http
}
define service{
    use                   falcot-service
    host_name             www-host
    service_description   HTTPS
    check_command         check_https
}
define service{
    use                   falcot-service
    host_name             www-host
    service_description   SMTP
    check_command         check_smtp
}

# Services to check on ftp-host
define service{
    use                   falcot-service
    host_name             ftp-host
    service_description   FTP
    check_command         check_ftp2
}</pre></div></div><div
              class="para">
					Ess arquivo de configuração descreve duas máquinas monitoradas. A primeira é o servidor web, e a checagem é feita nas portas HTTP (80) e HTTP-seguro (443). O Nagios também checa se um servidor SMTP está rodando na porta 25. A segunda máquina é um servidor FTP, e a checagem inclui garantir que uma resposta venha em 20 segundos. Além desse intervalo, um <span
                class="emphasis"><em>warning</em></span> é emitido; além de 30 segundos, o alerta é considerado crítico. A interface web do Nagios também mostra que um serviço SSH é monitorado: isso vem de máquinas pertencentes ao grupo de máquinas <code
                class="literal">ssh-servers</code>. O serviço padrão correspondente é definido em <code
                class="filename">/etc/nagios3/conf.d/services_nagios2.cfg</code>.
				</div><div
              class="para">
					Note o uso da herança: um objeto é feito para herdar de outro objeto através de “use <em
                class="replaceable">parent-name</em>”. O obejto pai tem que ser identificável, o que requer dar a ele uma prorpiedade “name <em
                class="replaceable">identifier</em>”. Se o objeto pai não se destina a ser um objeto real, mas apenas servir como um pai, dar-lhe uma propriedade “register 0” informa ao Nagios para não considerá-lo, e assim ignorar a falta de alguns parâmetros que de outra forma seriam necessários.
				</div><div
              class="sidebar"><div
                class="titlepage"><div><div><p
                      class="title"><strong><span
                          class="emphasis"><em>DOCUMENTAÇÃO</em></span> Lista de propriedades do objeto</strong></p></div></div></div><div
                class="para">
					Uma compreensão mais profunda das várias maneiras pelas quais o Nagios pode ser configurado pode ser obtida a partir da documentação fornecida pelo pacote <span
                  class="pkg pkg">nagios3-doc</span>. Essa documentação é diretamente acessível pela interface web, com o link “Documentation” no topo do canto esquerdo. ela inclui uma lista de todos dos tipos de objetos, com todas as propriedades que eles podem ter. ela também explica como criar novas extensões.
				</div></div><div
              class="sidebar"><div
                class="titlepage"><div><div><p
                      class="title"><strong><span
                          class="emphasis"><em>INDO ALÉM</em></span> Testes remotos com NRPE</strong></p></div></div></div><div
                class="para">
					Muitas extensões Nagios permitem conferir alguns parâmetros locais de uma máquina ("host"); se muitas máquinas precisam dessas conferências enquanto uma instalação central as reune, a extensão NRPE (<span
                  class="emphasis"><em>Nagios Remote Plugin Executor</em></span>) precisa ser implantada. O pacote <span
                  class="pkg pkg">nagios-nrpe-plugin</span> precisa ser instalado no servidor Nagios, e o <span
                  class="pkg pkg">nagios-nrpe-server</span> nas máquinas ("hosts") aonde os testes locais precisam ser rodados. Esse último pega sua configuração de <code
                  class="filename">/etc/nagios/nrpe.cfg</code>. Esse arquivo deve listar os testes que podem ser iniciados remotamente, e os endereços IP das máquinas que tem permissão para iniciá-los. Pelo lado do Nagios, habilitar esses testes remotos é uma simples questão de adicionar os serviços correspondentes usando o novo comando <span
                  class="emphasis"><em>check_nrpe</em></span>.
				</div></div></div></div></div><ul
        class="docnav"><li
          class="previous"><a
            accesskey="p"
            href="sect.automated-installation.html"><strong>Anterior</strong>12.3. Instalação Automatizada</a></li><li
          class="up"><a
            accesskey="u"
            href="#"><strong>Acima</strong></a></li><li
          class="home"><a
            accesskey="h"
            href="index.html"><strong>Principal</strong></a></li><li
          class="next"><a
            accesskey="n"
            href="workstation.html"><strong>Próxima</strong>Capítulo 13. Estação de trabalho</a></li></ul><div
        id="translated_pages"><ul><li><a
              href="../ar-MA/sect.monitoring.html">ar-MA</a></li><li><a
              href="../da-DK/sect.monitoring.html">da-DK</a></li><li><a
              href="../de-DE/sect.monitoring.html">de-DE</a></li><li><a
              href="../el-GR/sect.monitoring.html">el-GR</a></li><li><a
              href="../en-US/sect.monitoring.html">en-US</a></li><li><a
              href="../es-ES/sect.monitoring.html">es-ES</a></li><li><a
              href="../fa-IR/sect.monitoring.html">fa-IR</a></li><li><a
              href="../fr-FR/sect.monitoring.html">fr-FR</a></li><li><a
              href="../hr-HR/sect.monitoring.html">hr-HR</a></li><li><a
              href="../id-ID/sect.monitoring.html">id-ID</a></li><li><a
              href="../it-IT/sect.monitoring.html">it-IT</a></li><li><a
              href="../ja-JP/sect.monitoring.html">ja-JP</a></li><li><a
              href="../ko-KR/sect.monitoring.html">ko-KR</a></li><li><a
              href="../nb-NO/sect.monitoring.html">nb-NO</a></li><li><a
              href="../pl-PL/sect.monitoring.html">pl-PL</a></li><li><a
              href="../pt-BR/sect.monitoring.html">pt-BR</a></li><li><a
              href="../ro-RO/sect.monitoring.html">ro-RO</a></li><li><a
              href="../ru-RU/sect.monitoring.html">ru-RU</a></li><li><a
              href="../tr-TR/sect.monitoring.html">tr-TR</a></li><li><a
              href="../vi-VN/sect.monitoring.html">vi-VN</a></li><li><a
              href="../zh-CN/sect.monitoring.html">zh-CN</a></li><li><a
              href="../zh-TW/sect.monitoring.html">zh-TW</a></li></ul></div></body></html>
