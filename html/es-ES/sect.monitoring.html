<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html
    xmlns="http://www.w3.org/1999/xhtml"><head><meta
        http-equiv="Content-Type"
        content="text/html; charset=UTF-8" /><title
        xmlns:d="http://docbook.org/ns/docbook">12.4. Monitorización</title><link
        rel="stylesheet"
        type="text/css"
        href="Common_Content/css/default.css" /><link
        rel="stylesheet"
        media="print"
        href="Common_Content/css/print.css"
        type="text/css" /><meta
        xmlns:d="http://docbook.org/ns/docbook"
        name="generator"
        content="publican v4.3.1" /><meta
        xmlns:d="http://docbook.org/ns/docbook"
        name="package"
        content="Debian-debian-handbook-8-es-ES-1.0-1" /><meta
        name="keywords"
        content="RAID, LVM, FAI, Presembrado, Monitorización, Virtualización, Xen, LXC" /><link
        rel="home"
        href="index.html"
        title="El libro del administrador de Debian" /><link
        rel="up"
        href="advanced-administration.html"
        title="Capítulo 12. Administración avanzada" /><link
        rel="prev"
        href="sect.automated-installation.html"
        title="12.3. Instalación automatizada" /><link
        rel="next"
        href="workstation.html"
        title="Capítulo 13. Estación de trabajo" /><link
        rel="canonical"
        href="http://l.github.io/debian-handbook/html/es-ES/sect.monitoring.html" /></head><body
      class="draft "><noscript><iframe
          src="//www.googletagmanager.com/ns.html?id=GTM-5H35QX"
          height="0"
          width="0"
          style="display:none;visibility:hidden"></iframe></noscript><script
        type="text/javascript">(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
j=d.createElement(s),dl=l!='dataLayer'?'&amp;l='+l:'';j.async=true;j.src=
'//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
})(window,document,'script','dataLayer','GTM-5H35QX');</script><div
        id="banner"><a
          href="http://debian-handbook.info/get/"><span
            class="text">Download the ebook</span></a></div><p
        id="title"><a
          class="left"
          href="http://www.debian.org"><img
            alt="Product Site"
            src="Common_Content/images//image_left.png" /></a><a
          class="right"
          href="http://debian-handbook.info"><img
            alt="Documentation Site"
            src="Common_Content/images//image_right.png" /></a></p><ul
        class="docnav top"><li
          class="previous"><a
            accesskey="p"
            href="sect.automated-installation.html"><strong>Anterior</strong></a></li><li
          class="home">El libro del administrador de Debian</li><li
          class="next"><a
            accesskey="n"
            href="workstation.html"><strong>Siguiente</strong></a></li></ul><div
        class="section"><div
          class="titlepage"><div><div><h2
                class="title"><a
                  id="sect.monitoring"></a>12.4. Monitorización</h2></div></div></div><div
          class="para">
			La monitorización es un término genérico, y las muchas actividades involucradas tiene varias objetivos: por un lado, seguir el uso de recursos provistos por una máquina permite anticipar saturación y la actualización necesaria que le seguirá; por el otro, alertar a los administradores tan pronto como un servicio no esté disponible o no fucione correctamente significa que se podrán solucionar más rápidamente aquellos problemas que sucedan.
		</div><div
          class="para">
			<span
            class="emphasis"><em>Munin</em></span> cubre la primera área mostrando gráficos de los valores históricos de una cantidad de parámetros (RAM utilizada, espacio ocupado en disco, carga en el procesador, tráfico de red, carga de Apache/MySQL, etc.). <span
            class="emphasis"><em>Nagios</em></span> cubre la segunda área, revisando regularmente que los servicios estén funcionando y disponibles, enviando alertas a través de los canales apropiados (correo, mensajes de texto, etc.). Ambos tienen un diseño modular, lo que permite crear nuevos plugins para monitorizar parámetros o servicios específicos.
		</div><div
          class="sidebar"><div
            class="titlepage"><div><div><p
                  class="title"><strong><span
                      class="emphasis"><em>ALTERNATIVA</em></span> Zabbix, una herramienta de monitorización integrada</strong></p></div></div></div><a
            id="idm140502897250016"
            class="indexterm"></a><div
            class="para">
			Si bien Munin y Nagios son comunes, no son los únicos jugadores en el campo de la monitorización, y cada uno de ellos gestiona la mitad de la tarea (gráficos por un lado, alertas por otro). Zabbix, por su parte, integra ambas partes de la monitorización; también tiene una interfaz web para configurar los aspectos más comunes. Creció enormemente en los últimos años y ahora se lo puede considerar un contendiente viable; lamentablemente, Zabbix no está presente en Debian <span
              class="distribution distribution">Wheezy</span> por cuestiones de tiempo en el proceso de publicación, pero se proveerán paquetes como retroadaptaciones o en repositorios no oficiales. <div
              class="url">→ <a
                href="http://www.zabbix.org/">http://www.zabbix.org/</a></div>
		</div></div><div
          class="sidebar"><div
            class="titlepage"><div><div><p
                  class="title"><strong><span
                      class="emphasis"><em>ALTERNATIVA</em></span> Icinga, una bifurcación de Nagios</strong></p></div></div></div><a
            id="idm140502897245824"
            class="indexterm"></a><div
            class="para">
			Debido a divergencias en opiniones sobre el modelo de desarrollo de Nagios (que es controlado por una empresa), una cantidad de desarrolladores bifurcaron Nagios y utilizaron Icinga como su nuevo nombre. Icinga todavía es compatible — hasta ahora — con los plugins y configuraciones de Nagios, pero también agrega funcionalidad adicional. <div
              class="url">→ <a
                href="http://www.icinga.org/">http://www.icinga.org/</a></div>
		</div></div><div
          class="section"><div
            class="titlepage"><div><div><h3
                  class="title"><a
                    id="sect.munin"></a>12.4.1. Configuración de Munin</h3></div></div></div><a
            id="idm140502897242560"
            class="indexterm"></a><div
            class="para">
				El propósito de Munin es monitorizar muchas máquinas; por lo tanto, naturalmente utiliza una arquitectura cliente/servidor. El equipo central — el graficador — recolecta datos de todos los equipos monitorizados y genera gráficos históricos.
			</div><div
            class="section"><div
              class="titlepage"><div><div><h4
                    class="title"><a
                      id="idm140502897241136"></a>12.4.1.1. Configuración de los equipos a monitorizar</h4></div></div></div><div
              class="para">
					El primer paso es instalar el paquete <span
                class="pkg pkg">munin-node</span>. El demonio que instala este paquete escucha en el puerto 4949 y envía los datos recolectados por todos los plugins activos. Cada plugin es un programa simple que devuelve una descripción de los datos recolectados y el último valor medido. Los plugins se almacenan en <code
                class="filename">/usr/share/munin/plugins/</code>, pero realmente sólo se utilizan aquellos con un enlace simbólico en <code
                class="filename">/etc/munin/plugins/</code>.
				</div><div
              class="para">
					Cuando instala el paquete, se determina un conjunto de plugins activos basados en el software disponible y la configuración actual del equipo. Sin embargo, esta configuración automática depende de una funcionalidad que debe proveer cada plugin, y generalmente es buena idea revisar y alterar el resultado a mano. Sería interesante tener una documentación completa de cada plugin, pero desafortunadamente no existe tal documentación oficial. Sin embargo, todos los plugins son scripts y la mayoría son bastante simples y están bien comentados. Revisar <code
                class="filename">/etc/munin/plugins/</code> es, por lo tanto, una buena forma de tener una idea de lo que hace cada plugin y determinar si debe eliminarlo. Similarmente, activar un plugin interesante que se encuentre en <code
                class="filename">/usr/share/munin/plugins/</code> es simplemente cuestión de crear un enlace simbólico con <code
                class="command">ln -sf /usr/share/munin/plugins/<em
                  class="replaceable">plugin</em> /etc/munin/plugins/</code>. Sepa que cuando el nombre de un plugin finaliza con un guión bajo «_», el plugin necesita un parámetro. Debe almacenar este parámetro en el nombre del enlace simbólico; por ejemplo, el plugin «if_» debe activarse con un enlace simbólico llamado <code
                class="filename">if_eth0</code> para monitorizar el tráfico de red en la interfaz eth0.
				</div><div
              class="para">
					Una vez que configuró correctamente los plugins, debe actualizar el demonio de configuración para describir el control de acceso de los datos recolectados. Esto involucra directivas <code
                class="literal">allow</code> en el archivo <code
                class="filename">/etc/munin/munin-node.conf</code>. La configuración predeterminada es <code
                class="literal">allow^127\.0\.0\.1$</code>, lo que sólo permite el acceso al equipo local. Un administrador usualmente agregará una línea similar que contenga la dirección IP del equipo graficador y luego reiniciará el demonio con <code
                class="command">invoke-rc.d munin-node restart</code>.
				</div><div
              class="sidebar"><div
                class="titlepage"><div><div><p
                      class="title"><strong><span
                          class="emphasis"><em>YENDO MÁS ALLÁ</em></span> Creación de plugins locales</strong></p></div></div></div><div
                class="para">
					A pesar de la falta de documentación oficial para los plugins estándar, Munin sí incluye documentación detallada sobre cómo se deben comportar los plugins y cómo desarrollar plugins nuevos. <div
                  class="url">→ <a
                    href="http://munin-monitoring.org/wiki/Documentation">http://munin-monitoring.org/wiki/Documentation</a></div>
				</div><div
                class="para">
					La mejor forma de probar un plugin es ejecutarlo en las mismas condiciones que lo haría munin-node; puede simularlo ejecutando <code
                  class="command">munin-run <em
                    class="replaceable">plugin</em></code> como root. Puede proveer un posible segundo parámetro a este programa (como <code
                  class="literal">config</code>) que será provisto como parámetro al plugin.
				</div><div
                class="para">
					Cuando ejecuta un plugin con el parámetro <code
                  class="literal">config</code>, debe describirse a sí mismo devolviendo un conjunto de campos:
				</div><pre
                class="screen"><code
                  class="computeroutput">$ </code><strong
                  class="userinput"><code>sudo munin-run load config
</code></strong><code
                  class="computeroutput">graph_title Load average
graph_args --base 1000 -l 0
graph_vlabel load
graph_scale no
graph_category system
load.label load
graph_info The load average of the machine describes how many processes are in the run-queue (scheduled to run "immediately").
load.info 5 minute load average
</code></pre><div
                class="para">
					La especificación del «protocolo de configuración», disponible en el sitio web de Munin, describe los varios campos disponibles. <div
                  class="url">→ <a
                    href="http://munin-monitoring.org/wiki/protocol-config">http://munin-monitoring.org/wiki/protocol-config</a></div>
				</div><div
                class="para">
					Cuando lo ejecuta sin parámetros, un plugin simplemente devuelve el último valor medido; por ejemplo, ejecutar <code
                  class="command">sudo munin-run load</code> podría devolver <code
                  class="literal">load.value 0.12</code>.
				</div><div
                class="para">
					Finalmente, cuando ejecute un plugin con el parámetro <code
                  class="literal">autoconf</code>, debería devolver «yes» (y un código de salida 0) o «no» (con un código de salida 1) según si el plugin debería estar activado en este equipo o no.
				</div></div></div><div
            class="section"><div
              class="titlepage"><div><div><h4
                    class="title"><a
                      id="idm140502897222592"></a>12.4.1.2. Configuración del graficador</h4></div></div></div><div
              class="para">
					El «graficador» es simplemente el equipo que agrupa los datos y genera los gráficos correspondientes. El software necesario se encuentra en el paquete <span
                class="pkg pkg">munin</span>. La configuración estándar ejecuta <code
                class="command">munin-cron</code> (una vez cada 5 minutos), mediante el que obtiene datos de todos los equipos enumerados en <code
                class="filename">/etc/munin/munin.conf</code> (de forma predeterminada sólo incluye al equipo local), guarda los datos históricos en archivos RRD (<span
                class="emphasis"><em>base de datos Round Robin</em></span>: «Round Robin Database», un formato de archivo diseñado para almacenar datos que varían en el tiempo) almacenados en <code
                class="filename">/var/lib/munin/</code> y genera una página HTML con los gráficos en <code
                class="filename">/var/cache/munin/www/</code>.
				</div><div
              class="para">
					Por lo tanto, debe enumerar todas las máquinas monitorizadas en el archivo de configuración <code
                class="filename">/etc/munin/munin.conf</code>. Cada máquina es enumerada como una sección completa con el nombre que coincide con el equipo y al menos un elemento <code
                class="literal">address</code> que provee la dirección IP correspondiente.
				</div><pre
              class="programlisting">[ftp.falcot.com]
    address 192.168.0.12
    use_node_name yes
</pre><div
              class="para">
					Las secciones pueden ser más complejas y describir gráficos adicionales que puede crear combinando datos de varias máquinas. Los ejemplos que provee el archivo de configuración son buenos puntos de partida para personalizar.
				</div><div
              class="para">
					El último paso es publicar las páginas generadas; esto involucra configurar un servidor web para que el contenido de <code
                class="filename">/var/cache/munin/www/</code> esté disponible en un sitio web. Generalmente restringirá el acceso a este sitio web, ya sea con un mecanismo de autenticación o un control de acceso basado en IP. Revise la <a
                class="xref"
                href="sect.http-web-server.html">Sección 11.2, “Servidor web (HTTP)”</a> para los detalles relevantes.
				</div></div></div><div
          class="section"><div
            class="titlepage"><div><div><h3
                  class="title"><a
                    id="sect.nagios"></a>12.4.2. Configuración de Nagios</h3></div></div></div><a
            id="idm140502897213216"
            class="indexterm"></a><div
            class="para">
				A diferencia de Munin, Nagios no necesita instalar algo en los equipos monitorizados; la mayoría de las veces, se utiliza Nagios para revisar la disponibilidad de servicios de red. Por ejemplo, Nagios puede conectarse a un servidor web y revisar si puede obtener una página web dada en un tiempo especificado.
			</div><div
            class="section"><div
              class="titlepage"><div><div><h4
                    class="title"><a
                      id="idm140502897211728"></a>12.4.2.1. Instalación</h4></div></div></div><div
              class="para">
					El primer paso para configurar Nagios es instalar los paquetes <span
                class="pkg pkg">nagios3</span>, <span
                class="pkg pkg">nagios-plugins</span> y <span
                class="pkg pkg">nagios3-doc</span>. La instalación de estos paquetes configurará la interfaz web y creará un primer usuario <code
                class="literal">nagiosadmin</code> (para el que pedirá una contraseña). Agregar otros usuarios es tan simple como agregarlos al archivo <code
                class="filename">/etc/nagios3/htpasswd.users</code> con el programa <code
                class="command">htpasswd</code> de Apache. Si no se muestra ninguna pregunta Debconf durante su instalación, puede utilizar <code
                class="command">dpkg-reconfigure nagios3-cgi</code> para definir la contraseña de <code
                class="literal">nagiosadmin</code>.
				</div><div
              class="para">
					Apuntar un navegador a <code
                class="literal">http://<em
                  class="replaceable">servidor</em>/nagios3/</code> mostrará la interfaz web; en particular verá que Nagios ya monitoriza algunos parámetros de la máquina en la que ejecuta. Sin embargo, algunas características interactivas como agregar comentarios a los equipos no funcionarán. Estas características están desactivadas en la configuración predeterminada de Nagios, la cual es muy restrictiva por cuestiones de seguridad.
				</div><div
              class="para">
					Como está documentado en <code
                class="filename">/usr/share/doc/nagios3/README.Debian</code>, para activar algunas funcionalidades deberemos editar el archivo <code
                class="filename">/etc/nagios3/nagios.cfg</code> y definir su parámetro <code
                class="literal">check_external_command</code> como «1». También necesitaremos configurar permisos de escritura al directorio que utiliza Nagios, ejecutando algo similar a:
				</div><pre
              class="screen"><code
                class="computeroutput"># </code><strong
                class="userinput"><code>/etc/init.d/nagios3 stop</code></strong>
<code
                class="computeroutput">[...]
# </code><strong
                class="userinput"><code>dpkg-statoverride --update --add nagios www-data 2710 /var/lib/nagios3/rw
</code></strong><code
                class="computeroutput"># </code><strong
                class="userinput"><code>dpkg-statoverride --update --add nagios nagios 751 /var/lib/nagios3
</code></strong><code
                class="computeroutput"># </code><strong
                class="userinput"><code>/etc/init.d/nagios3 start</code></strong>
<code
                class="computeroutput">[...]</code></pre></div><div
            class="section"><div
              class="titlepage"><div><div><h4
                    class="title"><a
                      id="idm140502897200048"></a>12.4.2.2. Configuración</h4></div></div></div><div
              class="para">
					La interfaz web de Nagios es bastante agradable, pero no permite configuración ni puede utilizarla para agregar equipos o servicios a monitorizar. Se administra toda la configuración a través de archivos referenciados en el archivo de configuración central, <code
                class="filename">/etc/nagios3/nagios.cfg</code>.
				</div><div
              class="para">
					No debe adentrarse en estos archivos sin entender algunos conceptos de Nagios. La configuración enumera objetos de los siguientes tipos:
				</div><div
              xmlns:d="http://docbook.org/ns/docbook"
              class="itemizedlist"><ul><li
                  class="listitem"><div
                    class="para">
							a «<span
                      class="emphasis"><em>host</em></span>» es una máquina a monitorizar;
						</div></li><li
                  class="listitem"><div
                    class="para">
							un «<span
                      class="emphasis"><em>hostgroup</em></span>» es un conjunto de equipos que deben ser agrupados para visualización o para abstraer algunos elementos de configuración en común;
						</div></li><li
                  class="listitem"><div
                    class="para">
							un «<span
                      class="emphasis"><em>service</em></span>» es un elemento a probar relacionado a un equipo o grupo. La mayoría de las veces será un chequeo de un servicio de red, pero también puede incluir revisar que algunos parámetros están dentro de un rango aceptable (por ejemplo, espacio libre en el disco o carga del procesador);
						</div></li><li
                  class="listitem"><div
                    class="para">
							un «<span
                      class="emphasis"><em>servicegroup</em></span>» es un conjunto de servicios que deben ser agrupados para visualización;
						</div></li><li
                  class="listitem"><div
                    class="para">
							un «<span
                      class="emphasis"><em>contact</em></span>» es una persona que puede recibir alertas;
						</div></li><li
                  class="listitem"><div
                    class="para">
							un «<span
                      class="emphasis"><em>contactgroup</em></span>» es un conjunto de contactos;
						</div></li><li
                  class="listitem"><div
                    class="para">
							un «<span
                      class="emphasis"><em>timeperiod</em></span>» es un rango de tiempo durante el que se deben revisar algunos servicios;
						</div></li><li
                  class="listitem"><div
                    class="para">
							un «<span
                      class="emphasis"><em>command</em></span>» es la línea de órdenes ejecutada para revisar un servicio dado.
						</div></li></ul></div><div
              class="para">
					Según su tipo, cada objeto tiene una cantidad de propiedades que podemos personalizar. Una lista completa sería demasiado extensa, pero las propiedades más importantes son las relaciones entre objetos.
				</div><div
              class="para">
					Un «<span
                class="emphasis"><em>service</em></span>» utiliza un «<span
                class="emphasis"><em>command</em></span>» para revisar el estado de una característica en un «<span
                class="emphasis"><em>host</em></span>» (o «<span
                class="emphasis"><em>hostgroup</em></span>») durante un «<span
                class="emphasis"><em>timeperiod</em></span>». En caso de un problema, Nagios envía una alerta a todos los miembros de un «<span
                class="emphasis"><em>contactgroup</em></span>» relacionado con el servicio. Se envía la alerta a cada miembro según el canal descripto en el objeto «<span
                class="emphasis"><em>contact</em></span>» asociado.
				</div><div
              class="para">
					Un sistema de herencia permite compartir fácilmente un conjunto de propiedades entre varios objetos sin duplicar información. Lo que es más, la configuración inicial incluye algunos objetos estándar; en muchos casos, definir nuevos equipos, servicios y contactos es tan simple como derivar de los objetos genéricos provistos. Los archivos en <code
                class="filename">/etc/nagios3/conf.d/</code> son una buena fuente de información sobre cómo funcionan.
				</div><div
              class="para">
					Los administradores de Falcot Corp utilizan la siguiente configuración:
				</div><div
              class="example"><a
                id="idm140502897181776"></a><p
                class="title"><strong>Ejemplo 12.3. Archivo <code
                    class="filename">/etc/nagios3/conf.d/falcot.cfg</code></strong></p><div
                class="example-contents"><pre
                  class="programlisting">define contact{
    name                            generic-contact
    service_notification_period     24x7
    host_notification_period        24x7
    service_notification_options    w,u,c,r
    host_notification_options       d,u,r
    service_notification_commands   notify-service-by-email
    host_notification_commands      notify-host-by-email
    register                        0 ; Template only
}
define contact{
    use             generic-contact
    contact_name    rhertzog
    alias           Raphael Hertzog
    email           hertzog@debian.org
}
define contact{
    use             generic-contact
    contact_name    rmas
    alias           Roland Mas
    email           lolando@debian.org
}

define contactgroup{
    contactgroup_name     falcot-admins
    alias                 Falcot Administrators
    members               rhertzog,rmas
}

define host{
    use                   generic-host ; Name of host template to use
    host_name             www-host
    alias                 www.falcot.com
    address               192.168.0.5
    contact_groups        falcot-admins
    hostgroups            debian-servers,ssh-servers
}
define host{
    use                   generic-host ; Name of host template to use
    host_name             ftp-host
    alias                 ftp.falcot.com
    address               192.168.0.6
    contact_groups        falcot-admins
    hostgroups            debian-servers,ssh-servers
}

# 'check_ftp' command with custom parameters
define command{
    command_name          check_ftp2
    command_line          /usr/lib/nagios/plugins/check_ftp -H $HOSTADDRESS$ -w 20 -c 30 -t 35
}

# Generic Falcot service
define service{
    name                  falcot-service
    use                   generic-service
    contact_groups        falcot-admins
    register              0
}

# Services to check on www-host
define service{
    use                   falcot-service
    host_name             www-host
    service_description   HTTP
    check_command         check_http
}
define service{
    use                   falcot-service
    host_name             www-host
    service_description   HTTPS
    check_command         check_https
}
define service{
    use                   falcot-service
    host_name             www-host
    service_description   SMTP
    check_command         check_smtp
}

# Services to check on ftp-host
define service{
    use                   falcot-service
    host_name             ftp-host
    service_description   FTP
    check_command         check_ftp2
}
</pre></div></div><div
              class="para">
					This configuration file describes two monitored hosts. The first one is the web server, and the checks are made on the HTTP (80) and secure-HTTP (443) ports. Nagios also checks that an SMTP server runs on port 25. The second host is the FTP server, and the check includes making sure that a reply comes within 20 seconds. Beyond this delay, a <span
                class="emphasis"><em>warning</em></span> is emitted; beyond 30 seconds, the alert is deemed critical. The Nagios web interface also shows that the SSH service is monitored: this comes from the hosts belonging to the <code
                class="literal">ssh-servers</code> hostgroup. The matching standard service is defined in <code
                class="filename">/etc/nagios3/conf.d/services_nagios2.cfg</code>.
				</div><div
              class="para">
					Verá cómo utilizamos herencia: un objeto hereda de otro objeto con la propiedad «use <em
                class="replaceable">nombre-padre</em>». Debemos poder identificar al objeto padre, lo que requiere incluir en él una propiedad «name <em
                class="replaceable">identificador</em>». Si no deseamos que el objeto padre sea un objeto real, sino que sólo sirva como padre, agregar una propiedad «register 0» le indica a Nagios que no lo considere y, por lo tanto, ignore la falta de algunos parámetros que serían obligatorios.
				</div><div
              class="sidebar"><div
                class="titlepage"><div><div><p
                      class="title"><strong><span
                          class="emphasis"><em>DOCUMENTACIÓN</em></span> Lista de propiedades de objetos</strong></p></div></div></div><div
                class="para">
					Puede obtener información más detallas sobre las muchas formas en las que puede configurar Nagios en la documentación que provee el paquete <span
                  class="pkg pkg">nagios3-doc</span>. Puede acceder directamente a esta documentación desde la interfaz web con el enlace «Documentación» en la esquina superior izquierda. Ésta incluye una lista de todos los tipos de objetos así como también las propiedades que pueden tener. También explica cómo crear nuevos plugins.
				</div></div><div
              class="sidebar"><div
                class="titlepage"><div><div><p
                      class="title"><strong><span
                          class="emphasis"><em>YENDO MÁS ALLÁ</em></span> Pruebas remotas con NRPE</strong></p></div></div></div><div
                class="para">
					Muchos plugins de Nagios permiten chequear parámetros locales de un equipo; si muchas máquinas necesitan estos chequeos para que los recolecte una instalación central, necesita desplegar el plugin NRPE (<span
                  class="emphasis"><em>ejecución remota de plugins de Nagios</em></span>: «Nagios Remote Plugin Executor»). Necesitará instalar el paquete <span
                  class="pkg pkg">nagios-nrpe-plugin</span> en el servidor Nagios y el paquete <span
                  class="pkg pkg">nagios-nrpe-server</span> en los equipos sobre los que ejecutará los tests locales. Este último obtendrá su configuración del archivo <code
                  class="filename">/etc/nagios/nrpe.cfg</code>. Este archivo debe enumerar las pruebas que puede iniciarse remotamente y las direcciones IP de las máquinas que puede ejecutarlas. Del lado de Nagios, activar estas pruebas remotas es tan simple como agregar los servicios apropiados utilizando el nuevo «command» <span
                  class="emphasis"><em>check_nrpe</em></span>.
				</div></div></div></div></div><ul
        class="docnav"><li
          class="previous"><a
            accesskey="p"
            href="sect.automated-installation.html"><strong>Anterior</strong>12.3. Instalación automatizada</a></li><li
          class="up"><a
            accesskey="u"
            href="#"><strong>Subir</strong></a></li><li
          class="home"><a
            accesskey="h"
            href="index.html"><strong>Inicio</strong></a></li><li
          class="next"><a
            accesskey="n"
            href="workstation.html"><strong>Siguiente</strong>Capítulo 13. Estación de trabajo</a></li></ul><div
        id="translated_pages"><ul><li><a
              href="../ar-MA/sect.monitoring.html">ar-MA</a></li><li><a
              href="../da-DK/sect.monitoring.html">da-DK</a></li><li><a
              href="../de-DE/sect.monitoring.html">de-DE</a></li><li><a
              href="../el-GR/sect.monitoring.html">el-GR</a></li><li><a
              href="../en-US/sect.monitoring.html">en-US</a></li><li><a
              href="../es-ES/sect.monitoring.html">es-ES</a></li><li><a
              href="../fa-IR/sect.monitoring.html">fa-IR</a></li><li><a
              href="../fr-FR/sect.monitoring.html">fr-FR</a></li><li><a
              href="../hr-HR/sect.monitoring.html">hr-HR</a></li><li><a
              href="../id-ID/sect.monitoring.html">id-ID</a></li><li><a
              href="../it-IT/sect.monitoring.html">it-IT</a></li><li><a
              href="../ja-JP/sect.monitoring.html">ja-JP</a></li><li><a
              href="../pl-PL/sect.monitoring.html">pl-PL</a></li><li><a
              href="../pt-BR/sect.monitoring.html">pt-BR</a></li><li><a
              href="../ro-RO/sect.monitoring.html">ro-RO</a></li><li><a
              href="../ru-RU/sect.monitoring.html">ru-RU</a></li><li><a
              href="../tr-TR/sect.monitoring.html">tr-TR</a></li><li><a
              href="../zh-CN/sect.monitoring.html">zh-CN</a></li></ul></div></body></html>
