<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html
    xmlns="http://www.w3.org/1999/xhtml"><head><meta
        http-equiv="Content-Type"
        content="text/html; charset=UTF-8" /><title
        xmlns:d="http://docbook.org/ns/docbook">11.8. Servicios de comunicación en tiempo real</title><link
        rel="stylesheet"
        type="text/css"
        href="Common_Content/css/default.css" /><link
        rel="stylesheet"
        media="print"
        href="Common_Content/css/print.css"
        type="text/css" /><meta
        xmlns:d="http://docbook.org/ns/docbook"
        name="generator"
        content="publican v4.3.2" /><meta
        xmlns:d="http://docbook.org/ns/docbook"
        name="package"
        content="Debian-debian-handbook-9-es-ES-1.0-1" /><meta
        name="keywords"
        content="Postfix, Apache, NFS, Samba, Squid, OpenLDAP, SIP" /><link
        rel="home"
        href="index.html"
        title="El manual del Administrador de Debian" /><link
        rel="up"
        href="network-services.html"
        title="Capítulo 11. Servicios de red: Postfix, Apache, NFS, Samba, Squid, LDAP, SIP, XMPP, TURN" /><link
        rel="prev"
        href="sect.ldap-directory.html"
        title="11.7. Directorio LDAP" /><link
        rel="next"
        href="advanced-administration.html"
        title="Capítulo 12. Administración avanzada" /><meta
        name="viewport"
        content="width=device-width, initial-scale=1" /><meta
        name="flattr:id"
        content="4pz9jq" /><link
        rel="canonical"
        href="http://l.github.io/debian-handbook/html/es-ES/sect.rtc-services.html" /></head><body><noscript><iframe
          src="//www.googletagmanager.com/ns.html?id=GTM-5H35QX"
          height="0"
          width="0"
          style="display:none;visibility:hidden"></iframe></noscript><script
        type="text/javascript">(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
j=d.createElement(s),dl=l!='dataLayer'?'&amp;l='+l:'';j.async=true;j.src=
'//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
})(window,document,'script','dataLayer','GTM-5H35QX');</script><div
        id="banner"><a
          href="../../"><span
            class="text">Download the ebook</span></a></div><p
        id="title"><a
          class="left"
          href="http://www.debian.org"><img
            alt="Product Site"
            src="Common_Content/images//image_left.png" /></a><a
          class="right"
          href="index.html"><img
            alt="Documentation Site"
            src="Common_Content/images//image_right.png" /></a></p><ul
        class="docnav top"><li
          class="previous"><a
            accesskey="p"
            href="sect.ldap-directory.html"><strong>Anterior</strong></a></li><li
          class="home">El manual del Administrador de Debian</li><li
          class="next"><a
            accesskey="n"
            href="advanced-administration.html"><strong>Siguiente</strong></a></li></ul><div
        class="section"><div
          class="titlepage"><div><div><h2
                class="title"><a
                  id="sect.rtc-services"></a>11.8. Servicios de comunicación en tiempo real</h2></div></div></div><div
          class="para">
			Los servicios de comunicación en tiempo real (<span
            class="foreignphrase"><em
              class="foreignphrase">Real-Time Communication</em></span>, RTC) agrupan los servicios de voz sobre IP, video/webcam, mensajería instantánea (<span
            class="foreignphrase"><em
              class="foreignphrase">instant messaging</em></span>, IM) y de compartición de escritorio. Este capítulo proporciona una breve introducción a tres servicios necesarios para una infraestructura de comunicaicón en tiempo real: un servidor TURN, un servidor SIP y un servidor XMPP. Se pueden encontrar explicaciones más extensas de cómo planificar, instalar y gestionar estos servicios en inglés en <span
            class="foreignphrase"><em
              class="foreignphrase">Real-Time Communications Quick Start Guide</em></span>, que contiene incluso ejemplos específicos para Debian. <div
            class="url">→ <a
              href="http://rtcquickstart.org">http://rtcquickstart.org</a></div>
		</div><a
          id="id-1.14.11.3"
          class="indexterm"></a><a
          id="id-1.14.11.4"
          class="indexterm"></a><a
          id="id-1.14.11.5"
          class="indexterm"></a><a
          id="id-1.14.11.6"
          class="indexterm"></a><div
          class="para">
			Tanto SIP como XMPP pueden proporcionar la misma funcionalidad. SIP es algo más conociod para la voz sobre IP y para el video, mientras que XMPP se utiliza como protocolo de mensajería instantánea. En realidad ambos pueden ser utilizados para cualquier ade estos servicios. Para optimizar las opciones de conectividad se recomienda utilizar ambos en paralelo.
		</div><a
          id="id-1.14.11.8"
          class="indexterm"></a><a
          id="id-1.14.11.9"
          class="indexterm"></a><div
          class="para">
			Estos dos servicios utilizan certificados X.509 para garantizar la confidencialidad y la autenticación. La <a
            class="xref"
            href="sect.virtual-private-network.html#sect.easy-rsa">Sección 10.2.1.1, “Infraestructura de llave pública: <span
              class="emphasis"><em>easy-rsa</em></span>”</a> proporciona más detalles acerca de la creación de estos certificados. De forma alternativa también puede encontrar información muy útil en la <span
            class="foreignphrase"><em
              class="foreignphrase">Real-Time Communications Quick Start Guide</em></span> (en inglés): <div
            class="url">→ <a
              href="http://rtcquickstart.org/guide/multi/tls.html">http://rtcquickstart.org/guide/multi/tls.html</a></div>
		</div><div
          class="section"><div
            class="titlepage"><div><div><h3
                  class="title"><a
                    id="sect.rtc-dns-settings"></a>11.8.1. Parámetros DNS para los servicios RTC</h3></div></div></div><div
            class="para">
				Los servicios RTC requieren registros DNS SRV y NAPTR. He aquí un ejemplo de configuración que se podría incluir en el fichero de zona para <code
              class="literal">falcot.com</code>:
			</div><a
            id="id-1.14.11.11.3"
            class="indexterm"></a><a
            id="id-1.14.11.11.4"
            class="indexterm"></a><pre
            class="programlisting">
; the server where everything will run
server1            IN     A      198.51.100.19
server1            IN     AAAA   2001:DB8:1000:2000::19

; IPv4 only for TURN for now, some clients are buggy with IPv6
turn-server        IN     A      198.51.100.19

; IPv4 and IPv6 addresses for SIP
sip-proxy          IN     A      198.51.100.19
sip-proxy          IN     AAAA   2001:DB8:1000:2000::19

; IPv4 and IPv6 addresses for XMPP
xmpp-gw            IN     A      198.51.100.19
xmpp-gw            IN     AAAA   2001:DB8:1000:2000::19

; DNS SRV and NAPTR for STUN / TURN
_stun._udp  IN SRV    0 1 3467 turn-server.falcot.com.
_turn._udp  IN SRV    0 1 3467 turn-server.falcot.com.
@           IN NAPTR  10 0 "s" "RELAY:turn.udp" "" _turn._udp.falcot.com.

; DNS SRV and NAPTR records for SIP
_sips._tcp  IN SRV    0 1 5061 sip-proxy.falcot.com.
@           IN NAPTR  10 0 "s" "SIPS+D2T" "" _sips._tcp.falcot.com.

; DNS SRV records for XMPP Server and Client modes:
_xmpp-client._tcp  IN     SRV    5 0 5222 xmpp-gw.falcot.com.
_xmpp-server._tcp  IN     SRV    5 0 5269 xmpp-gw.falcot.com.</pre></div><div
          class="section"><div
            class="titlepage"><div><div><h3
                  class="title"><a
                    id="sect.turn-server"></a>11.8.2. Servidor TURN</h3></div></div></div><div
            class="para">
				TURN es un servicio que permite a los clientes que se encuentran detrás de un router o firewall con NAT encontrar el camino más eficaz para comunicarse con otros clientes y en caso de no encontrarse ningún camino directo retransmitir los flujos de voz y datos. Se recomienda vivamente instalar un servidor TURN antes de ofrecer ningún otro servicio RTC a los usuarios finales.
			</div><a
            id="id-1.14.11.12.3"
            class="indexterm"></a><div
            class="para">
				TURN y el protocolo ICE son estándares abiertos. Para sacar provecho de estos protocolos, maximizando la conectividad y minimizando la frustración de los usuarios, es importante asegurarse que todos los programas cliente sean compatibles.
			</div><a
            id="id-1.14.11.12.5"
            class="indexterm"></a><div
            class="para">
				Para que el agoritmo ICE funcione eficazmente, el servidor tiene que tener do direcciones IPv4 públicas.
			</div><div
            class="section"><div
              class="titlepage"><div><div><h4
                    class="title"><a
                      id="sect.turn-server-install"></a>11.8.2.1. Instalación de un servidor TURN</h4></div></div></div><div
              class="para">
					Instale el paquete <span
                class="pkg pkg">resiprocate-turn-server</span>.
				</div><div
              class="para">
					Edite el archivo de configuración <code
                class="filename">/etc/reTurn/reTurnServer.config</code>. Lo más importante es configurar las direcciones IP del servidor.
				</div><pre
              class="programlisting">
# your IP addresses go here:
TurnAddress = 198.51.100.19
TurnV6Address = 2001:DB8:1000:2000::19
AltStunAddress = 198.51.100.20
# your domain goes here, it must match the value used
# to hash your passwords if they are already hashed
# using the HA1 algorithm:
AuthenticationRealm = myrealm

UserDatabaseFile = /etc/reTurn/users.txt
UserDatabaseHashedPasswords = true</pre><div
              class="para">
					Reiniciar el servicio.
				</div></div><div
            class="section"><div
              class="titlepage"><div><div><h4
                    class="title"><a
                      id="sect.turn-server-management"></a>11.8.2.2. Gestionar los usuarios de TURN</h4></div></div></div><div
              class="para">
					Utilice la herramienta <code
                class="command">htdigest</code> para gestionar la lista de usuarios del servidor TURN.
				</div><pre
              class="screen"><code
                class="computeroutput"># </code><strong
                class="userinput"><code>htdigest /etc/reTurn/users.txt myrealm joe</code></strong></pre><div
              class="para">
					Después de cualquier modificación en <code
                class="filename">/etc/reTurn/users.txt</code> se debe notificar la señal HUP para que el servidor lo recargue (o también se puede autorizar la recarga automática en <code
                class="filename">/etc/reTurn/reTurnServer.config</code>).
				</div></div></div><div
          class="section"><div
            class="titlepage"><div><div><h3
                  class="title"><a
                    id="sect.sip-server"></a>11.8.3. Servidor Proxy SIP</h3></div></div></div><div
            class="para">
				Un servidor proxy SIP gestiona las conexiones SIP entrantes y salientes entre distintas organizaciones, los proveedores de enlaces SIP (<span
              class="foreignphrase"><em
                class="foreignphrase">SIP trunking</em></span>), las centralitas privadas (<span
              class="foreignphrase"><em
                class="foreignphrase">Private Automatic Branch eXchange</em></span>, PBX) como Asterisk, los teléfonos y programas de telefonía SIP y las aplicaciones WebRTC.
			</div><a
            id="id-1.14.11.13.3"
            class="indexterm"></a><a
            id="id-1.14.11.13.4"
            class="indexterm"></a><a
            id="id-1.14.11.13.5"
            class="indexterm"></a><a
            id="id-1.14.11.13.6"
            class="indexterm"></a><div
            class="para">
				Es altamente recomendable instalar y configurar un proxy SIP antes de intentar poner en servicio una centralita (<span
              class="foreignphrase"><em
                class="foreignphrase">PBX</em></span>). El proxy SIP normaliza en gran medida el tráfico que llega a la centralita y proporciona una mayor conectividad y resiliencia.
			</div><div
            class="section"><div
              class="titlepage"><div><div><h4
                    class="title"><a
                      id="sect.sip-server-install"></a>11.8.3.1. Instalación de un proxy SIP</h4></div></div></div><div
              class="para">
					Instalar el paquete <span
                class="pkg pkg">repro</span>. Se recomienda el uso del paquete desde <span
                class="distribution distribution">jessie-backports</span>, ya que cuenta con las últimas mejoras de mejora de conectividad y resiliencia.
				</div><a
              id="id-1.14.11.13.8.3"
              class="indexterm"></a><div
              class="para">
					Editar el fichero de configuración <code
                class="filename">/etc/repro/repro.config</code>. Lo más importante es poner la dirección IP del sevidor. El ejemplo de más abajo muestra cómo configurar tanto SIP como WebSockets/WebRTC, haciendo uso de TLS, IPv4 e IPv6:
				</div><pre
              class="programlisting">
# Transport1 será para SIP sobre conexiones TLS
# Aquí usamos el puerto 5061, pero si tiene clientes que se conectan desde
# lugares con firewalls puede cambiarlo para que escuche en el puerto 443
Transport1Interface = 198.51.100.19:5061
Transport1Type = TLS
Transport1TlsDomain = falcot.com
Transport1TlsClientVerification = Optional
Transport1RecordRouteUri = sip:falcot.com;transport=TLS
Transport1TlsPrivateKey = /etc/ssl/private/falcot.com-key.pem
Transport1TlsCertificate = /etc/ssl/public/falcot.com.pem

# Transport2 es la versión IPv6 de Transport1
Transport2Interface = 2001:DB8:1000:2000::19:5061
Transport2Type = TLS
Transport2TlsDomain = falcot.com
Transport2TlsClientVerification = Optional
Transport2RecordRouteUri = sip:falcot.com;transport=TLS
Transport2TlsPrivateKey = /etc/ssl/private/falcot.com-key.pem
Transport2TlsCertificate = /etc/ssl/public/falcot.com.pem

# Transport3 será para SIP sobre conexiones WebSocket (WebRTC)
# Aquí usamos el puerto 8443, pero puede hacer uso del 443
Transport3Interface = 198.51.100.19:8443
Transport3Type = WSS
Transport3TlsDomain = falcot.com
# Podría requerir que el navegador envíe un certificado pero, actualmente 
# parece que los navegadores no pueden hacerlo, por lo que déjelo como None:
Transport3TlsClientVerification = None
Transport3RecordRouteUri = sip:falcot.com;transport=WSS
Transport3TlsPrivateKey = /etc/ssl/private/falcot.com-key.pem
Transport3TlsCertificate = /etc/ssl/public/falcot.com.pem

# Transport4 es la versión IPv6 de Transport3
Transport4Interface = 2001:DB8:1000:2000::19:8443
Transport4Type = WSS
Transport4TlsDomain = falcot.com
Transport4TlsClientVerification = None
Transport4RecordRouteUri = sip:falcot.com;transport=WSS
Transport4TlsPrivateKey = /etc/ssl/private/falcot.com-key.pem
Transport4TlsCertificate = /etc/ssl/public/falcot.com.pem

# Transport5: Podría ser para conexiones TCP a un servidor Asterisk 
# de su red interna. No habilite el puerto 5060 a través del firewall
# externo.
Transport5Interface = 198.51.100.19:5060
Transport5Type = TCP
Transport5RecordRouteUri = sip:198.51.100.19:5060;transport=TCP

HttpBindAddress = 198.51.100.19, 2001:DB8:1000:2000::19
HttpAdminUserFile = /etc/repro/users.txt

RecordRouteUri = sip:falcot.com;transport=tls
ForceRecordRouting = true
EnumSuffixes = e164.arpa, sip5060.net, e164.org
DisableOutbound = false
EnableFlowTokens = true
EnableCertificateAuthenticator = True</pre><div
              class="para">
					Use la utilidad <code
                class="command">htdigest</code> para gestionar la contraseña del administrador del interfaz web. El nombre del usuario debe ser <span
                class="emphasis"><em>admin</em></span> y el realm debe coincidir con el indicado en <code
                class="filename">repro.config</code>.
				</div><pre
              class="screen"><code
                class="computeroutput"># </code><strong
                class="userinput"><code>htdigest /etc/repro/users.txt repro admin</code></strong></pre><div
              class="para">
					Reinicie el servicio para usar la nueva configuración.
				</div></div><div
            class="section"><div
              class="titlepage"><div><div><h4
                    class="title"><a
                      id="sect.sip-server-management"></a>11.8.3.2. Gestionando el proxy SIP</h4></div></div></div><div
              class="para">
					Vaya al interfaz web en <code
                class="literal">http://sip-proxy.falcot.com:5080</code> para completar la configuración añadiendio dominios, usuarios locales y rutas estáticas.
				</div><div
              class="para">
					El primer paso es añadir el dominio local. El proceso debe reiniciarse tras agregar o quitar dominios de la lista.
				</div><div
              class="para">
					El proxy sabe cómo dirigir las llamadas entre usuarios locales y direcciones completas SIP. La configuración de redirección solo es necesaria cuando se desea modificar el comportamiento por defecto. Por ejemplo, para reconocer números de teléfono, añadir un prefijo y redirigirlos a un proveedor SIP.
				</div></div></div><div
          class="section"><div
            class="titlepage"><div><div><h3
                  class="title"><a
                    id="sect.xmpp-server"></a>11.8.4. Servidor XMPP</h3></div></div></div><div
            class="para">
				Un servidor XMPP gestiona la conectividad entre usuarios locales XMPP y usuarios XMPP en otros dominios de la red pública Internet.
			</div><a
            id="id-1.14.11.14.3"
            class="indexterm"></a><div
            class="sidebar"><div
              class="titlepage"><div><div><p
                    class="title"><strong><span
                        class="emphasis"><em>VOCABULARIO</em></span> ¿XMPP o Jabber?</strong></p></div></div></div><a
              id="id-1.14.11.14.4.2"
              class="indexterm"></a><div
              class="para">
				En ocasiones se menciona XMPP como Jabber. De hecho, Jabber es una marca y XMPP es el nombre oficial del estándard.
			</div><a
              id="id-1.14.11.14.4.4"
              class="indexterm"></a></div><div
            class="para">
				Prosody es un conocido servidor de XMPP que opera de modo fiable en servidores Debian.
			</div><a
            id="id-1.14.11.14.6"
            class="indexterm"></a><div
            class="section"><div
              class="titlepage"><div><div><h4
                    class="title"><a
                      id="sect.xmpp-server-install"></a>11.8.4.1. Instalar el servidor XMPP</h4></div></div></div><div
              class="para">
					Instalar el paquete <span
                class="pkg pkg">prosody</span>. Se recomienda el uso del paquete desde <span
                class="distribution distribution">jessie-backports</span>, ya que cuenta con las últimas mejoras de maximización de conectividad y resiliencia.
				</div><a
              id="id-1.14.11.14.7.3"
              class="indexterm"></a><div
              class="para">
					Revisar el fichero de configuración <code
                class="filename">/etc/prosody/prosody.cfg.lua</code>. Lo más importante en agregar los JIDs de los usuarios a los que se les permite gestionar el servidor.
				</div><pre
              class="programlisting">
admins = { "joe@falcot.com" }</pre><div
              class="para">
					También se necesita un fichero de configuracion por cada dominio. Copiar el ejemplo de <code
                class="filename">/etc/prosody/conf.avail/example.com.cfg.lua</code> y usarlo como punto de partida. Este es <code
                class="literal">falcot.com.cfg.lua</code>:
				</div><pre
              class="programlisting">
VirtualHost "falcot.com"
        enabled = true
        ssl = {
                key = "/etc/ssl/private/falcot.com-key.pem";
                certificate = "/etc/ssl/public/falcot.com.pem";
                }</pre><div
              class="para">
					Para activar el dominio debe haber un enlace simbólico de <code
                class="filename">/etc/prosody/conf.d/</code>. Créelo de este modo:
				</div><pre
              class="screen"><code
                class="computeroutput"># </code><strong
                class="userinput"><code>ln -s /etc/prosody/conf.avail/falcot.com.cfg.lua /etc/prosody/conf.d/</code></strong></pre><div
              class="para">
					Reinicie el servicio para usar la nueva configuración.
				</div></div><div
            class="section"><div
              class="titlepage"><div><div><h4
                    class="title"><a
                      id="sect.xmpp-server-management"></a>11.8.4.2. Gestionando el servidor XMPP</h4></div></div></div><div
              class="para">
					Algunas operaciones de gestion pueden realizarse haciendo uso de la utilidad de línea de comandos <code
                class="literal">prosodyctl</code>. Por ejemplo, para añadir la cuenta del administrador especificada en <code
                class="filename">/etc/prosody/prosody.cfg.lua</code>:
				</div><pre
              class="programlisting">
# prosodyctl adduser joe@falcot.com</pre><div
              class="para">
					Para más detalles sobre cómo personalizar la configuración, vea la <a
                href="http://prosody.im/doc/configure">documentación en línea de Prosody</a>.
				</div></div></div><div
          class="section"><div
            class="titlepage"><div><div><h3
                  class="title"><a
                    id="sect.rtc-port-443"></a>11.8.5. Servicios corriendo en el puerto 443</h3></div></div></div><div
            class="para">
				Alguno administradores prefieren ejecutar todos sus servicios RTC en el puerto 443. Esto facilita a los usuarios conectarse desde lugares remotos, tales como hoteles y aeropuertos. Donde el resto de puertos pueden estar bloqueados o el tráfico de Internet se redirige a través de servidores proxy HTTP.
			</div><div
            class="para">
				Para usar esta estrategia cada servicio (SIP, XMPP y TURN) necesita una dirección IP distinta. Todos los servicios pueden estar todavía en el mismo equipo, ya que Linux soporta múltiples IP en un solo equipo. El número de puerto, 443, debe especificarse en los ficheros de configuración de cada uno de los procesos, y también en los registros SRV del DNS.
			</div></div><div
          class="section"><div
            class="titlepage"><div><div><h3
                  class="title"><a
                    id="sect.rtc-webrtc"></a>11.8.6. Agregando WebRTC</h3></div></div></div><div
            class="para">
				Falcot quiere permitir a los clientes realizar llamadas telefónicas directamente desde el sitio web. Los administradores de Flacot también quieren usar WebRTC como parte de su plan de contingencia, de modo que el personal pueda hacer uso de los navegadores web desde casa y hacer uso del sistema de telefonía de la empresa y trabajar normalmente en caso de emergencia.
			</div><a
            id="id-1.14.11.16.3"
            class="indexterm"></a><a
            id="id-1.14.11.16.4"
            class="indexterm"></a><div
            class="sidebar"><div
              class="titlepage"><div><div><p
                    class="title"><strong><span
                        class="emphasis"><em>EN LA PRÁCTICA</em></span> Pruebe WebRTC</strong></p></div></div></div><a
              id="id-1.14.11.16.5.2"
              class="indexterm"></a><div
              class="para">
				Si no ha probado WebRTC antes, hay varios portales que propocionan una demostración en línea y facilita pruebas. <div
                class="url">→ <a
                  href="http://www.sip5060.net/test-calls">http://www.sip5060.net/test-calls</a></div>
			</div></div><div
            class="para">
				WebRTC es una tecnología que evoluciona rápidamente, y es esencial hacer uso de los paquetes de las distribuciones <span
              class="distribution distribution">jessie-backports</span> o <span
              class="distribution distribution">Testing</span>.
			</div><div
            class="para">
				JSCommunicator es un teléfono WebRTC genérico que no requiere de ningun script de tipo PHP en la parte servidora. Está construido exclusivamente con HTML, CSS y JavaScript. Es la base de muchos otros servicios y módulos WebRTC empleados en frameworks web avanzados. <div
              class="url">→ <a
                href="http://jscommunicator.org">http://jscommunicator.org</a></div>
			</div><a
            id="id-1.14.11.16.8"
            class="indexterm"></a><div
            class="para">
				El modo más rápido de instalar un teléfono WebRTC en un portal web es hacer uso del paquete <span
              class="pkg pkg">jscommunicator-web-phone</span>. Requiere un proxy SIP proxy con transporte WebSocket. Las instruccones en <a
              class="xref"
              href="sect.rtc-services.html#sect.sip-server-install">Sección 11.8.3.1, “Instalación de un proxy SIP”</a> incluyen los detalles necesarios para habilitar el transporte WebSocket en el proxy SIP <span
              class="pkg pkg">repro</span>.
			</div><div
            class="para">
				Tras instalar <span
              class="pkg pkg">jscommunicator-web-phone</span>, hay varios modos de usarlo. Una estrategia sencilla es incluir, o copiar, la configuración de <code
              class="filename">/etc/jscommunicator-web-phone/apache.conf</code> en la configuración de host virtual de Apache.
			</div><div
            class="para">
				Una vez los ficheros del teléfono web están disponibles en el servidor web, personalice <code
              class="filename">/etc/jscommunicator-web-phone/config.js</code> para que apunte al servidor TURN y al proxy SIP. Por ejemplo:
			</div><pre
            class="programlisting">
JSCommSettings = {

  // Entorno del servidor web
  webserver: {
    url_prefix: null            // Si se configura, prefijo empleado para construir URLs sound/
  },

  // STUN/TURN media relays
  stun_servers: [],
  turn_servers: [
    { server:"turn:turn-server.falcot.com?transport=udp", username:"joe", password:"j0Ep455d" }
  ],

  // Conexión WebSocket 
  websocket: {
      // Fíjese que empleamos el certificado del dominio falcot.com y el puerto 8443
      // Esto coincide con los ejemplos Transport3 y Transport4 en
      // el fichero repro.config para falcot.com
    servers: 'wss://falcot.com:8443',
    connection_recovery_min_interval: 2,
    connection_recovery_max_interval: 30
  },

  ...</pre><div
            class="para">
				Portales web más avanzados de tipo click-para-llamar normalmente hacen uso de scripts en la parte de servidor para generar dinámicamente el fichero <code
              class="literal">config.js</code>. El código fuente de <a
              href="http://drucall.org">DruCall</a> muestra cómo hacerlo con PHP.
			</div><a
            id="id-1.14.11.16.14"
            class="indexterm"></a><div
            class="para">
				Este capítulo sólo analiza una parte de todo el software de servidor disponible; sin embargo, describimos la mayoría de los servicios de red. Ahora es el momento de un capítulo aún más técnico: profundizaremos en los detalles de algunos conceptos, describiremos los despliegues masivos y la virtualización.
			</div></div></div><ul
        class="docnav"><li
          class="previous"><a
            accesskey="p"
            href="sect.ldap-directory.html"><strong>Anterior</strong>11.7. Directorio LDAP</a></li><li
          class="up"><a
            accesskey="u"
            href="#"><strong>Subir</strong></a></li><li
          class="home"><a
            accesskey="h"
            href="index.html"><strong>Inicio</strong></a></li><li
          class="next"><a
            accesskey="n"
            href="advanced-administration.html"><strong>Siguiente</strong>Capítulo 12. Administración avanzada</a></li></ul><div
        id="translated_pages"><ul><li><a
              href="../ar-MA/sect.rtc-services.html">ar-MA</a></li><li><a
              href="../da-DK/sect.rtc-services.html">da-DK</a></li><li><a
              href="../de-DE/sect.rtc-services.html">de-DE</a></li><li><a
              href="../el-GR/sect.rtc-services.html">el-GR</a></li><li><a
              href="../en-US/sect.rtc-services.html">en-US</a></li><li><a
              href="../es-ES/sect.rtc-services.html">es-ES</a></li><li><a
              href="../fa-IR/sect.rtc-services.html">fa-IR</a></li><li><a
              href="../fr-FR/sect.rtc-services.html">fr-FR</a></li><li><a
              href="../hr-HR/sect.rtc-services.html">hr-HR</a></li><li><a
              href="../id-ID/sect.rtc-services.html">id-ID</a></li><li><a
              href="../it-IT/sect.rtc-services.html">it-IT</a></li><li><a
              href="../ja-JP/sect.rtc-services.html">ja-JP</a></li><li><a
              href="../ko-KR/sect.rtc-services.html">ko-KR</a></li><li><a
              href="../nb-NO/sect.rtc-services.html">nb-NO</a></li><li><a
              href="../pl-PL/sect.rtc-services.html">pl-PL</a></li><li><a
              href="../pt-BR/sect.rtc-services.html">pt-BR</a></li><li><a
              href="../ro-RO/sect.rtc-services.html">ro-RO</a></li><li><a
              href="../ru-RU/sect.rtc-services.html">ru-RU</a></li><li><a
              href="../tr-TR/sect.rtc-services.html">tr-TR</a></li><li><a
              href="../vi-VN/sect.rtc-services.html">vi-VN</a></li><li><a
              href="../zh-CN/sect.rtc-services.html">zh-CN</a></li><li><a
              href="../zh-TW/sect.rtc-services.html">zh-TW</a></li></ul></div></body></html>
