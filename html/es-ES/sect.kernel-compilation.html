<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html
    xmlns="http://www.w3.org/1999/xhtml"><head><meta
        http-equiv="Content-Type"
        content="text/html; charset=UTF-8" /><title
        xmlns:d="http://docbook.org/ns/docbook">8.10. Compilación de un núcleo</title><link
        rel="stylesheet"
        type="text/css"
        href="Common_Content/css/default.css" /><link
        rel="stylesheet"
        media="print"
        href="Common_Content/css/print.css"
        type="text/css" /><meta
        xmlns:d="http://docbook.org/ns/docbook"
        name="generator"
        content="publican v4.3.2" /><meta
        xmlns:d="http://docbook.org/ns/docbook"
        name="package"
        content="Debian-debian-handbook-9-es-ES-1.0-1" /><meta
        name="keywords"
        content="Configuración, Localización, Locales, Red, Resolución de nombres, Usuarios, Grupos, Cuentas, Intérprete de línea de órdenes, Consola, Impresión, Gestor de arranque, Compilación de núcleo" /><link
        rel="home"
        href="index.html"
        title="El manual del Administrador de Debian" /><link
        rel="up"
        href="basic-configuration.html"
        title="Capítulo 8. Configuración básica: red, cuentas, impresión..." /><link
        rel="prev"
        href="sect.config-misc.html"
        title="8.9. Otras configuraciones: sincronización de tiempo, registros, acceso compartido…" /><link
        rel="next"
        href="sect.kernel-installation.html"
        title="8.11. Instalación de un núcleo" /><meta
        name="viewport"
        content="width=device-width, initial-scale=1" /><meta
        name="flattr:id"
        content="4pz9jq" /><link
        rel="canonical"
        href="http://l.github.io/debian-handbook/html/es-ES/sect.kernel-compilation.html" /></head><body><noscript><iframe
          src="//www.googletagmanager.com/ns.html?id=GTM-5H35QX"
          height="0"
          width="0"
          style="display:none;visibility:hidden"></iframe></noscript><script
        type="text/javascript">(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
j=d.createElement(s),dl=l!='dataLayer'?'&amp;l='+l:'';j.async=true;j.src=
'//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
})(window,document,'script','dataLayer','GTM-5H35QX');</script><div
        id="banner"><a
          href="../../"><span
            class="text">Download the ebook</span></a></div><p
        id="title"><a
          class="left"
          href="http://www.debian.org"><img
            alt="Product Site"
            src="Common_Content/images//image_left.png" /></a><a
          class="right"
          href="index.html"><img
            alt="Documentation Site"
            src="Common_Content/images//image_right.png" /></a></p><ul
        class="docnav top"><li
          class="previous"><a
            accesskey="p"
            href="sect.config-misc.html"><strong>Anterior</strong></a></li><li
          class="home">El manual del Administrador de Debian</li><li
          class="next"><a
            accesskey="n"
            href="sect.kernel-installation.html"><strong>Siguiente</strong></a></li></ul><div
        class="section"><div
          class="titlepage"><div><div><h2
                class="title"><a
                  id="sect.kernel-compilation"></a>8.10. Compilación de un núcleo</h2></div></div></div><a
          id="id-1.11.14.2"
          class="indexterm"></a><a
          id="id-1.11.14.3"
          class="indexterm"></a><div
          class="para">
			El núcleo que provee Debian incluye la mayor cantidad de funcionalidad posible así como también la mayor cantidad de controladores para cubrir el espectro más amplio de configuraciones de hardware. Es por esto que algunos usuarios prefieren compilar el núcleo para incluir sólamente lo que necesiten específicamente. Hay dos razones para esta elección. Primero, podría optimizar el consumo de memoria ya que el código del núcleo, aún cuando no sea utilizado, ocupa memoria por nada (y nunca es «bajado» al espacio de swap ya que utiliza RAM real) lo que puede disminuir el rendimiento general del sistema. Un núcleo compilado localmente también puede limitar el riesgo de problemas de seguridad ya que sólo se compila y ejecuta una fracción del código del núcleo.
		</div><div
          class="sidebar"><div
            class="titlepage"><div><div><p
                  class="title"><strong><span
                      class="emphasis"><em>NOTA</em></span> Actualizaciones de seguridad</strong></p></div></div></div><div
            class="para">
			Si decide compilar su propio núcleo, debe aceptar las consecuencias: Debian no puede asegurar actualizaciones de seguridad para su núcleo personalizado. Al matener el núcleo que provee Debian se beneficia de las actualizaciones preparadas por el equipo de seguridad del Proyecto Debian.
		</div></div><div
          class="para">
			Necesita además recompilar el núcleo si desea utilizar ciertas funcionalidades que sólo están disponibles como parches (y no están incluidas en la versión estándar del núcleo).
		</div><div
          class="sidebar"><div
            class="titlepage"><div><div><p
                  class="title"><strong><span
                      class="emphasis"><em>YENDO MÁS ALLÁ</em></span> El libro del núcleo de Debian («Debian Kernel Handbook»)</strong></p></div></div></div><a
            id="id-1.11.14.7.2"
            class="indexterm"></a><div
            class="para">
			El equipo del núcleo de Debian administra el «Libro del núcleo de Debian» («Debian Kernel Handbook», disponible también en el paquete <span
              class="pkg pkg">debian-kernel-handbook</span>) que contiene documentación exhaustiva sobre la mayoría de las tareas relacionadas con el núcleo y cómo se gestionan los paquetes Debian oficiales del núcleo. Este es el primer lugar en el que debería buscar si necesita más información que la que provee esta sección. <div
              class="url">→ <a
                href="http://kernel-handbook.alioth.debian.org">http://kernel-handbook.alioth.debian.org</a></div>
		</div></div><div
          class="section"><div
            class="titlepage"><div><div><h3
                  class="title"><a
                    id="sect.kernel-compilation-prerequisites"></a>8.10.1. Introducción y prerequisitos</h3></div></div></div><div
            class="para">
				No es sorprendete que Debian administre el núcleo como un paquete, que no es la forma tradicional en la que se compilan e instalan núcleos. Debido a que el núcleo se mantiene bajo el control del sistema de paquetes puede ser eliminado limpiamente o desplegado en varias máquinas. Lo que es más, los scripts asociados con estos paquetes automatizan la interacción con el gestor de arranque y el generador de initrd.
			</div><div
            class="para">
				Las fuenes de Linux en origen contienen todo lo necesario para crear el paquete Debian del núcleo. Sin embargo, necesitará instalar <span
              class="pkg pkg">build-essential</span> para asegurarse que posee las herramientas necesarias para crear un paquete Debian. Lo que es más, el paso de configuración para el núcleo necesita el paquete <span
              class="emphasis"><em>libncurses5-dev</em></span>. Finalmente, el paquete <span
              class="emphasis"><em>fakeroot</em></span> le permitirá crear el paquete Debian sin utilizar permisos de administrador.
			</div><div
            class="sidebar"><div
              class="titlepage"><div><div><p
                    class="title"><strong><span
                        class="emphasis"><em>CULTURA</em></span> Los días de <span
                        class="pkg pkg">kernel-package</span></strong></p></div></div></div><a
              id="id-1.11.14.8.4.2"
              class="indexterm"></a><div
              class="para">
				Antes que el sistema de compilación de Linux tuviera la capacidad de crear paquetes Debian apropiados, la forma recomendada de crear dichos paquetes era utilizar <code
                class="command">make-kpkg</code>, incluído en el paquete <span
                class="pkg pkg">kernel-package</span>.
			</div></div></div><div
          class="section"><div
            class="titlepage"><div><div><h3
                  class="title"><a
                    id="sect.kernel-sources"></a>8.10.2. Obtención de las fuentes</h3></div></div></div><a
            id="id-1.11.14.9.2"
            class="indexterm"></a><a
            id="id-1.11.14.9.3"
            class="indexterm"></a><a
            id="id-1.11.14.9.4"
            class="indexterm"></a><div
            class="para">
				Like anything that can be useful on a Debian system, the Linux kernel sources are available in a package. To retrieve them, just install the <span
              class="pkg pkg">linux-source-<em
                class="replaceable">version</em></span> package. The <code
              class="command">apt search ^linux-source</code> command lists the various kernel versions packaged by Debian. The latest version is available in the <span
              class="distribution distribution">Unstable</span> distribution: you can retrieve them without much risk (especially if your APT is configured according to the instructions of <a
              class="xref"
              href="sect.apt-get.html#sect.apt-mix-distros">Sección 6.2.6, “Trabajo con varias distribuciones”</a>). Note that the source code contained in these packages does not correspond precisely with that published by Linus Torvalds and the kernel developers; like all distributions, Debian applies a number of patches, which might (or might not) find their way into the upstream version of Linux. These modifications include backports of fixes/features/drivers from newer kernel versions, new features not yet (entirely) merged in the upstream Linux tree, and sometimes even Debian specific changes.
			</div><div
            class="para">
				The remainder of this section focuses on the 4.9 version of the Linux kernel, but the examples can, of course, be adapted to the particular version of the kernel that you want.
			</div><div
            class="para">
				We assume the <span
              class="pkg pkg">linux-source-4.9</span> package has been installed. It contains <code
              class="filename">/usr/src/linux-source-4.9.tar.xz</code>, a compressed archive of the kernel sources. You must extract these files in a new directory (not directly under <code
              class="filename">/usr/src/</code>, since there is no need for special permissions to compile a Linux kernel): <code
              class="filename">~/kernel/</code> is appropriate.
			</div><pre
            class="screen">
<code
              class="computeroutput">$ </code><strong
              class="userinput"><code>mkdir ~/kernel; cd ~/kernel</code></strong>
<code
              class="computeroutput">$ </code><strong
              class="userinput"><code>tar -xaf /usr/src/linux-source-4.9.tar.xz</code></strong></pre><div
            class="sidebar"><div
              class="titlepage"><div><div><p
                    class="title"><strong><span
                        class="emphasis"><em>CULTURA</em></span> Ubicación de las fuentes del núcleo</strong></p></div></div></div><div
              class="para">
				Tradicionalmente, las fuentes del núcleo Linux estarían ubicadas en <code
                class="filename">/usr/src/linux/</code> lo que necesitaría permisos de root para compilarlo. Sin embargo, se debe evitar trabajar con permisos de administración cuando no es necesario. Existe un grupo <code
                class="literal">src</code> que permite a sus miembros trabajar en este directorio, pero debe evitar trabajar en <code
                class="filename">/usr/src/</code> de todas formas. Al mantener las fuentes del núcleo en un directorio personal obtiene seguridad en todos lados: no existirán archivos en <code
                class="filename">/usr/</code> ajenos al sistema de paquetes y no hay riesgos de despistar a los programas que leen <code
                class="filename">/usr/src/linux</code> al intentar conseguir información sobre el núcleo utilizado.
			</div></div></div><div
          class="section"><div
            class="titlepage"><div><div><h3
                  class="title"><a
                    id="sect.config-kernel"></a>8.10.3. Configuración del núcleo</h3></div></div></div><a
            id="id-1.11.14.10.2"
            class="indexterm"></a><a
            id="id-1.11.14.10.3"
            class="indexterm"></a><a
            id="id-1.11.14.10.4"
            class="indexterm"></a><div
            class="para">
				El siguiente paso consiste en configurar el núcleo según sus necesidades. El procedimiento exacto depende de los objetivos.
			</div><div
            class="para">
				Al recompilar una versión más reciente del núcleo (posiblemente con un parche adicional), probablemente mantenga la configuración tan parecida a la propuesta por Debian como le sea posible. En este caso, y en lugar de reconfigurar todo desde cero, es suficiente copiar el archivo <code
              class="filename">/boot/config-<em
                class="replaceable">versión</em></code> (la versión es la del núcleo utilizado actualmente, que puede encontrarse con <code
              class="command">uname -r</code>) en un archivo <code
              class="filename">.config</code> en el directorio que contenga las fuentes del núcleo.
			</div><pre
            class="screen">
<code
              class="computeroutput">$ </code><strong
              class="userinput"><code>cp /boot/config-4.9.0-3-amd64 ~/kernel/linux-source-4.9/.config</code></strong></pre><div
            class="para">
				A menos que necesite cambiar la configuración, puede parar aquí y continua en <a
              class="xref"
              href="sect.kernel-compilation.html#sect.kernel-build">Sección 8.10.4, “Compilación y creación del paquete”</a>. Si, por el otro lado, necesita cambiarla o si decide reconfigurar todo desde cero, debe tomarse el tiempo de configurar su núcleo. Hay varias interfaces dedicadas en el directorio de fuentes del núcleo que puede utilizar ejecutando <code
              class="command">make <em
                class="replaceable">objetivo</em></code> donde <em
              class="replaceable">objetivo</em> es uno de los valores descriptos a continuación.
			</div><div
            class="para">
				<code
              class="command">make menuconfig</code> compila y ejecuta una interfaz en modo texto (aquí es donde necesita el paquete <span
              class="pkg pkg">libncurses5-dev</span>) que permite navegar entre las opciones disponibles en una estructura jerárquica. Pulsar la tecla <span
              class="keycap"><strong>Espacio</strong></span> cambia el valor de la opción seleccionada y <span
              class="keycap"><strong>Enter</strong></span> valida el botón seleccionado al pie de la pantalla; <span
              class="guibutton"><strong>Seleccionar</strong></span> vuelve al submenú seleccionado; <span
              class="guibutton"><strong>Salir</strong></span> cierra la pantalla actual y vuelve un paso atrás en la jerarquía; <span
              class="guibutton"><strong>Ayuda</strong></span> mostrará información más detallada sobre el comportamiento de la opción seleccionada. Las teclas de flecha le permiten moverse en la lista de opciones y botones. Para salir del programa de configuración, seleccione <span
              class="guibutton"><strong>Salir</strong></span> del menú principal. El programa luego ofrece guardar los cambios que realizó; acéptelos si está satisfecho con sus selecciones.
			</div><div
            class="para">
				Otras interfaces tienen funcionalidades similares pero trabajan con interfaces gráficas más modernas; como <code
              class="command">make xconfig</code> que utiliza una interfaz gráfica Qt y <code
              class="command">make gconfig</code> que utiliza GTK+. La primera necesita el paquete <span
              class="pkg pkg">libqt4-dev</span> mientras que la última depende de los paquetes <span
              class="pkg pkg">libglade2-dev</span> y <span
              class="pkg pkg">libgtk2.0-dev</span>.
			</div><div
            class="para">
				Cuando utiliza una de las interfaces de configuración, siempre es buena idea comenzar desde una configuración predeterminada razonable. El núcleo provee tales configuraciones en <code
              class="filename">arch/<em
                class="replaceable">arquitectura</em>/configs/*_defconfig</code> y puede mover la configuración que desee si ejecuta algo similar a <code
              class="command">make x86_64_defconfig</code> (en el caso de un equipo de 64 bits) o <code
              class="command">make i386_defconfig</code> (en el caso de un equipo de 32 bits).
			</div><div
            class="sidebar"><div
              class="titlepage"><div><div><p
                    class="title"><strong><span
                        class="emphasis"><em>SEGURIDAD</em></span> Gestión de archivos <code
                        class="filename">.config</code> desactualizados</strong></p></div></div></div><div
              class="para">
				Cuando provee un archivo <code
                class="filename">.config</code> que fue generado con otra versión del núcleo (generalmente anterior), tendrá que actualizarlo. Puede hacerlo ejecutando <code
                class="command">make oldconfig</code>, que le preguntará interactivamente las preguntas que corresponden a las nuevas opciones de configuración. Si desea utilizar una respuesta predeterminada a todas estas preguntas, puede ejecutar <code
                class="command">make olddefconfig</code>. Con <code
                class="command">make oldnoconfig</code>, se asumirá una respuesta negativa a todas las preguntas.
			</div></div></div><div
          class="section"><div
            class="titlepage"><div><div><h3
                  class="title"><a
                    id="sect.kernel-build"></a>8.10.4. Compilación y creación del paquete</h3></div></div></div><a
            id="id-1.11.14.11.2"
            class="indexterm"></a><div
            class="sidebar"><div
              class="titlepage"><div><div><p
                    class="title"><strong><span
                        class="emphasis"><em>NOTA</em></span> Limpieza antes de recompilar</strong></p></div></div></div><div
              class="para">
				Si ya realizó una compilación en el directorio y desea reconstruir todo desde cero (por ejemplo: porque realizó cambios importantes a la configuración del núcleo), tendrá que ejecutar <code
                class="command">make clean</code> para eliminar los archivos compilados. <code
                class="command">make distclean</code> elimina todavía más archivos generados, incluyendo también su archivo <code
                class="filename">.config</code>, por lo que deberá asegurarse de respaldarlo primero.
			</div></div><div
            class="para">
				Una vez que está lista la configuración del núcleo, simplemente ejecutar <code
              class="command">make deb-pkg</code> generará hasta 5 paquetes Debian: <span
              class="pkg pkg">linux-image-<em
                class="replaceable">versión</em></span> que contiene la imagen del núcleo y los módulos asociados, <span
              class="pkg pkg">linux-headers-<em
                class="replaceable">versión</em></span> que contiene los archivos de cabecera necesarios para crear módulos externos, <span
              class="pkg pkg">linux-firmware-image-<em
                class="replaceable">versión</em></span> que contiene los archivos de firmware necesarios para algunos controladores (este paquete puede no estar presente cuando se compila el kernel a partir de las fuentes proporcionadas por Debian), <span
              class="pkg pkg">linux-image-<em
                class="replaceable">versión</em>-dbg</span> que contiene los símbolos de depuración para la imagen del núcleo y sus módulos y <span
              class="pkg pkg">linux-libc-dev</span> que contiene las cabeceras relevantes a algunas bibliotecas de espacio de usuario como glibc de GNU.
			</div><div
            class="para">
				La cadena <em
              class="replaceable">versión</em> es la concatenación de la versión de origen (definida por las variables <code
              class="literal">VERSION</code>, <code
              class="literal">PATCHLEVEL</code>, <code
              class="literal">SUBLEVEL</code> y <code
              class="literal">EXTRAVERSION</code> en el archivo <code
              class="filename">Makefile</code>), el parámetro de configuración <code
              class="literal">LOCALVERSION</code> y la variable de entorno <code
              class="literal">LOCALVERSION</code>. La versión del paquete reutiliza la misma cadena de versión con una revisión adicional que generalmente aumenta (y es almacenada en <code
              class="filename">.version</code>), excepto si lo previene con la variable de entorno <code
              class="literal">KDEB_PKGVERSION</code>.
			</div><pre
            class="screen"><code
              class="computeroutput">$ </code><strong
              class="userinput"><code>make deb-pkg LOCALVERSION=-falcot KDEB_PKGVERSION=$(make kernelversion)-1
</code></strong><code
              class="computeroutput">[...]
$ </code><strong
              class="userinput"><code>ls ../*.deb
</code></strong><code
              class="computeroutput">../linux-headers-4.9.30-ckt4-falcot_4.9.30-1_amd64.deb
../linux-image-4.9.30-ckt4-falcot_4.9.30-1_amd64.deb
../linux-image-4.9.30-ckt4-falcot-dbg_4.9.30-1_amd64.deb
../linux-libc-dev_4.9.30-1_amd64.deb
</code></pre></div><div
          class="section"><div
            class="titlepage"><div><div><h3
                  class="title"><a
                    id="sect.modules-build"></a>8.10.5. Compilación de módulos externos</h3></div></div></div><a
            id="id-1.11.14.12.2"
            class="indexterm"></a><a
            id="id-1.11.14.12.3"
            class="indexterm"></a><a
            id="id-1.11.14.12.4"
            class="indexterm"></a><div
            class="para">
				Se mantienen algunos módulos fuera del núcleo Linux oficial. Para utilizarlos debe compilarlos junto al núcleo correspondiente. Debian provee algunos módulos de terceros comunes en paquetes dedicados, como <span
              class="pkg pkg">xtables-addons-source</span> (módulos adicionales para iptables) o <span
              class="pkg pkg">oss4-source</span> («Open Sound System», algunos controladores de audio alternativos).
			</div><div
            class="para">
				Estos paquetes externos son muchos y variados y no los enumeraremos todos aquí; puede limitar el campo de búsqueda con <code
              class="command">apt-cache search source$</code>. Sin embargo, una lista completa no es muy útil ya que no hay una razón particular para compilar módulos externos a menos que sepa que los necesita. En estos casos, la documentación del dispositivo típicamente detallará el o los módulos específicos que necesita para funcionar bajo Linux.
			</div><div
            class="para">
				Veamos, por ejemplo, el paquete <span
              class="pkg pkg">virtualbox-source</span>: luego de instalarlo podrá encontrar un compendio <code
              class="filename">.tar.bz2</code> de las fuentes del módulo en <code
              class="filename">/usr/src/</code>. Si bien podríamos extraer manualmente el archivo y compilar el módulo, en la práctica preferimos automatizarlo con DKMS. La mayoría de los módulos ofrecen la integración necesaria con DKMS en un paquete que finaliza con el sufijo <code
              class="literal">-dkms</code>. En nuestro caso, sólo necesitamos instalar el paquete <span
              class="pkg pkg">xtables-addons-dkms</span> para compilar el módulo del núcleo para el núcleo actual, siempre que esté instalado el paquete <span
              class="pkg pkg">linux-headers-*</span> que coincida con el núcleo instalado. Por ejemplo, si utiliza <span
              class="pkg pkg">linux-image-amd64</span> debería instalar también <span
              class="pkg pkg">linux-headers-amd64</span>.
			</div><pre
            class="screen">
<code
              class="computeroutput">$ </code><strong
              class="userinput"><code>sudo apt install xtables-addons-dkms</code></strong>
<code
              class="computeroutput">
[...]
Setting up xtables-addons-dkms (2.12-0.1) ...
Loading new xtables-addons-2.12 DKMS files...
Building for 4.9.0-3-amd64
Building initial module for 4.9.0-3-amd64
Done.

xt_ACCOUNT:
Running module version sanity check.
 - Original module
   - No original module exists within this kernel
 - Installation
   - Installing to /lib/modules/4.9.0-3-amd64/updates/dkms/
[...]
DKMS: install completed.
$ </code><strong
              class="userinput"><code>sudo dkms status</code></strong>
<code
              class="computeroutput">xtables-addons, 2.12, 4.9.0-3-amd64, x86_64: installed
$ </code><strong
              class="userinput"><code>sudo modinfo xt_ACCOUNT</code></strong>
<code
              class="computeroutput">filename:       /lib/modules/4.9.0-3-amd64/updates/dkms/xt_ACCOUNT.ko
license:        GPL
alias:          ipt_ACCOUNT
author:         Intra2net AG &lt;opensource@intra2net.com&gt;
description:    Xtables: per-IP accounting for large prefixes
[...]
</code></pre><div
            class="sidebar"><div
              class="titlepage"><div><div><p
                    class="title"><strong><span
                        class="emphasis"><em>ALTERNATIVA</em></span> module-assistant</strong></p></div></div></div><a
              id="id-1.11.14.12.9.2"
              class="indexterm"></a><div
              class="para">
				Antes de DKMS, <span
                class="pkg pkg">module-assistant</span> era la solución más simple para compilar y desplegar módulos del núcleo. Todavía puede utilizarlo, especialmente con paquetes que no poseen integración con DKMS: simplemente ejecutando <code
                class="command">module-assistant auto-install xtables-addons</code> (o su versión corta: <code
                class="command">m-a a-i xtables-addons</code>) se compilará el módulo para el núcleo actual, se creará un nuevo paquete Debian que lo contiene y se lo instalará automáticamente.
			</div></div></div><div
          class="section"><div
            class="titlepage"><div><div><h3
                  class="title"><a
                    id="sect.kernel-patch"></a>8.10.6. Aplicación de un parche al núcleo</h3></div></div></div><a
            id="id-1.11.14.13.2"
            class="indexterm"></a><a
            id="id-1.11.14.13.3"
            class="indexterm"></a><div
            class="para">
				Algunas funcionalidades no están incluidas en el núcleo estándar debido a falta de madurez o algún desacuerdo con los encargados del núcleo. Dichas funcionalidades pueden ser distribuidas como parches que cualquiera puede aplicar a las fuentes del núcleo.
			</div><div
            class="para">
				Debian sometimes provides some of these patches in <span
              class="pkg pkg">linux-patch-*</span> packages but they often don't make it into stable releases (sometimes for the very same reasons that they are not merged into the official upstream kernel). These packages install files in the <code
              class="filename">/usr/src/kernel-patches/</code> directory.
			</div><div
            class="para">
				Para aplicar uno o más de estos parches instalados, utilice el programa <code
              class="command">patch</code> en el directorio con las fuentes y luego inicie la compilación del núcleo como ya describimos.
			</div><pre
            class="screen">
<code
              class="computeroutput">$ </code><strong
              class="userinput"><code>cd ~/kernel/linux-source-4.9</code></strong>
<code
              class="computeroutput">$ </code><strong
              class="userinput"><code>make clean</code></strong>
<code
              class="computeroutput">$ </code><strong
              class="userinput"><code>zcat /usr/src/kernel-patches/diffs/grsecurity2/grsecurity-3.1-4.9.11-201702181444.patch.gz | patch -p1</code></strong></pre><div
            class="para">
				Sepa que un parche dado no necesariamente funcionará con toda versión del núcleo; es posible que <code
              class="command">patch</code> falle al aplicarlo en las fuentes del núcleo. Se mostrará un mensaje de error que provee algunos detalles del fallo; en este caso, revise la documentación disponible en el paquete Debian del parche (en el directorio <code
              class="filename">/usr/share/doc/linux-patch-*/</code>). En la mayoría de los casos, el desarrollador indica para qué versiones del núcleo está creado el parche.
			</div></div></div><ul
        class="docnav"><li
          class="previous"><a
            accesskey="p"
            href="sect.config-misc.html"><strong>Anterior</strong>8.9. Otras configuraciones: sincronización de tie...</a></li><li
          class="up"><a
            accesskey="u"
            href="#"><strong>Subir</strong></a></li><li
          class="home"><a
            accesskey="h"
            href="index.html"><strong>Inicio</strong></a></li><li
          class="next"><a
            accesskey="n"
            href="sect.kernel-installation.html"><strong>Siguiente</strong>8.11. Instalación de un núcleo</a></li></ul><div
        id="translated_pages"><ul><li><a
              href="../ar-MA/sect.kernel-compilation.html">ar-MA</a></li><li><a
              href="../da-DK/sect.kernel-compilation.html">da-DK</a></li><li><a
              href="../de-DE/sect.kernel-compilation.html">de-DE</a></li><li><a
              href="../el-GR/sect.kernel-compilation.html">el-GR</a></li><li><a
              href="../en-US/sect.kernel-compilation.html">en-US</a></li><li><a
              href="../es-ES/sect.kernel-compilation.html">es-ES</a></li><li><a
              href="../fa-IR/sect.kernel-compilation.html">fa-IR</a></li><li><a
              href="../fr-FR/sect.kernel-compilation.html">fr-FR</a></li><li><a
              href="../hr-HR/sect.kernel-compilation.html">hr-HR</a></li><li><a
              href="../id-ID/sect.kernel-compilation.html">id-ID</a></li><li><a
              href="../it-IT/sect.kernel-compilation.html">it-IT</a></li><li><a
              href="../ja-JP/sect.kernel-compilation.html">ja-JP</a></li><li><a
              href="../ko-KR/sect.kernel-compilation.html">ko-KR</a></li><li><a
              href="../nb-NO/sect.kernel-compilation.html">nb-NO</a></li><li><a
              href="../pl-PL/sect.kernel-compilation.html">pl-PL</a></li><li><a
              href="../pt-BR/sect.kernel-compilation.html">pt-BR</a></li><li><a
              href="../ro-RO/sect.kernel-compilation.html">ro-RO</a></li><li><a
              href="../ru-RU/sect.kernel-compilation.html">ru-RU</a></li><li><a
              href="../tr-TR/sect.kernel-compilation.html">tr-TR</a></li><li><a
              href="../vi-VN/sect.kernel-compilation.html">vi-VN</a></li><li><a
              href="../zh-CN/sect.kernel-compilation.html">zh-CN</a></li><li><a
              href="../zh-TW/sect.kernel-compilation.html">zh-TW</a></li></ul></div></body></html>
