<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html
    xmlns="http://www.w3.org/1999/xhtml"><head><meta
        http-equiv="Content-Type"
        content="text/html; charset=UTF-8" /><title
        xmlns:d="http://docbook.org/ns/docbook">6.8. Actualizaciones automáticas</title><link
        rel="stylesheet"
        type="text/css"
        href="Common_Content/css/default.css" /><link
        rel="stylesheet"
        media="print"
        href="Common_Content/css/print.css"
        type="text/css" /><meta
        xmlns:d="http://docbook.org/ns/docbook"
        name="generator"
        content="publican v4.3.2" /><meta
        xmlns:d="http://docbook.org/ns/docbook"
        name="package"
        content="Debian-debian-handbook-8-es-ES-1.0-1" /><meta
        name="keywords"
        content="apt, apt-get, apt-cache, aptitude, synaptic, sources.list, apt-cdrom" /><link
        rel="home"
        href="index.html"
        title="El manual del Administrador de Debian" /><link
        rel="up"
        href="apt.html"
        title="Capítulo 6. Mantenimiento y actualizaciones: las herramientas APT" /><link
        rel="prev"
        href="sect.regular-upgrades.html"
        title="6.7. Manutención de un sistema actualizado" /><link
        rel="next"
        href="sect.searching-packages.html"
        title="6.9. Búsqueda de paquetes" /><meta
        name="viewport"
        content="width=device-width, initial-scale=1" /><link
        rel="canonical"
        href="http://l.github.io/debian-handbook/html/es-ES/sect.automatic-upgrades.html" /></head><body><noscript><iframe
          src="//www.googletagmanager.com/ns.html?id=GTM-5H35QX"
          height="0"
          width="0"
          style="display:none;visibility:hidden"></iframe></noscript><script
        type="text/javascript">(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
j=d.createElement(s),dl=l!='dataLayer'?'&amp;l='+l:'';j.async=true;j.src=
'//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
})(window,document,'script','dataLayer','GTM-5H35QX');</script><div
        id="banner"><a
          href="../../"><span
            class="text">Download the ebook</span></a></div><p
        id="title"><a
          class="left"
          href="http://www.debian.org"><img
            alt="Product Site"
            src="Common_Content/images//image_left.png" /></a><a
          class="right"
          href="index.html"><img
            alt="Documentation Site"
            src="Common_Content/images//image_right.png" /></a></p><ul
        class="docnav top"><li
          class="previous"><a
            accesskey="p"
            href="sect.regular-upgrades.html"><strong>Anterior</strong></a></li><li
          class="home">El manual del Administrador de Debian</li><li
          class="next"><a
            accesskey="n"
            href="sect.searching-packages.html"><strong>Siguiente</strong></a></li></ul><div
        class="section"><div
          class="titlepage"><div><div><h2
                class="title"><a
                  id="sect.automatic-upgrades"></a>6.8. Actualizaciones automáticas</h2></div></div></div><a
          id="id-1.9.17.2"
          class="indexterm"></a><a
          id="id-1.9.17.3"
          class="indexterm"></a><div
          class="para">
			Dado que Falcot Corp tiene muchas máquinas pero personal limitado, sus administradores intentan hacer las actualizaciones tan automáticas como sea posible. Los programas a cargo de esos procesos deben, por lo tanto, ejecutar sin intervención humana.
		</div><div
          class="section"><div
            class="titlepage"><div><div><h3
                  class="title"><a
                    id="id-1.9.17.5"></a>6.8.1. Configuración de <code
                    class="command">dpkg</code></h3></div></div></div><div
            class="para">
				Como ya mencionamos (revise el recuadro <a
              class="xref"
              href="sect.package-meta-information.html#sidebar.questions-conffiles"><span
                class="emphasis"><em>YENDO MÁS ALLÁ</em></span> Evitando preguntas sobre los archivos de configuración</a>), se le puede indicar a <code
              class="command">dpkg</code> que no pida confirmación al reemplazar un archivo de configuración (con las opciones <code
              class="literal">--force-confdef --force-confold</code>). Sin embargo, las interacciones pueden tener otros tres orígenes: algunas provienen de APT mismo, algunas son gestionadas por <code
              class="command">debconf</code> y otras ocurren en la línea de órdenes debido a scripts de configuración de paquetes.
			</div></div><div
          class="section"><div
            class="titlepage"><div><div><h3
                  class="title"><a
                    id="id-1.9.17.6"></a>6.8.2. Configuración de APT</h3></div></div></div><div
            class="para">
				En el caso de APT es simple: la opción <code
              class="literal">-y</code> (o <code
              class="literal">--asume-yes</code>) le indica a APT que considere que la respuesta a todas las preguntas será afirmativa («yes»).
			</div></div><div
          class="section"><div
            class="titlepage"><div><div><h3
                  class="title"><a
                    id="id-1.9.17.7"></a>6.8.3. Configuración de <code
                    class="command">debconf</code></h3></div></div></div><div
            class="para">
				El caso de <code
              class="command">debconf</code> merece más detalles. El programa fue diseñado, desde su concepción, para controlar la relevancia y volúmen de las preguntas mostradas al usuario así como también la forma en la que se mostrarán. Es por esto que su configuración requiere una prioridad mínima para las preguntas; sólo se mostrarán las preguntas sobre la prioridad mínima. <code
              class="command">debconf</code> asume la respuesta predeterminada (definida por el encargado del paquete) para las preguntas que decidió evitar.
			</div><div
            class="para">
				Los otros elementos de configuración relevantes es la interfaz utilizada. Si selecciona la opción <code
              class="literal">noninteractive</code>, se desactivará toda interacción con el usuario. Si un paquete intenta mostrar una nota informativa, ésta será enviada al administrador por email.
			</div><div
            class="para">
				Para reconfigurar <code
              class="command">debconf</code> utilice <code
              class="command">dpkg-reconfigure</code> del paquete <span
              class="pkg pkg">debconf</span>; la orden necesaria es <code
              class="command">dpkg-reconfigure debconf</code>. Es importante saber que, si es necesario, los valores configurados pueden sobreescribirse temporalmente con variables de entorno (por ejemplo <code
              class="varname">DEBIAN_FRONTEND</code> controla la interfaz, como está documentado en la página de manual <span
              class="citerefentry"><span
                class="refentrytitle">debconf</span>(7)</span>).
			</div></div><div
          class="section"><div
            class="titlepage"><div><div><h3
                  class="title"><a
                    id="id-1.9.17.8"></a>6.8.4. Manejo de interacciones de línea de órdenes</h3></div></div></div><div
            class="para">
				La última fuente de interacciones, y la más difícil de la que deshacerse, son los scripts de configuración ejecutados por <code
              class="command">dpkg</code>. Desafortunadamente no hay solución estándar y ninguna respuesta es mucho mejor que la otra.
			</div><div
            class="para">
				El enfoque común es eliminar la entrada estándar redireccionando hacia ella el contenido vacío de <code
              class="filename">/dev/null</code> con <code
              class="command"><em
                class="replaceable">programa</em> &lt;/dev/null</code> o proveerle un flujo interminable de caracteres de nueva línea. Ninguno de estos métodos es 100% fiable, pero generalmente provocan que se utilicen las respuestas predeterminadas, ya que la mayoría de los scripts consideran una falta de respuesta como aceptación del valor predeterminado.
			</div></div><div
          class="section"><div
            class="titlepage"><div><div><h3
                  class="title"><a
                    id="id-1.9.17.9"></a>6.8.5. La combinación milagrosa</h3></div></div></div><div
            class="para">
				Combinando los elementos anteriores es posible diseñar un script pequeño pero confiable que pueda realizar actualizaciones automáticas.
			</div><div
            class="example"><a
              id="example.non-interactive-upgrade"></a><p
              class="title"><strong>Ejemplo 6.4. Script de actualización no-interactivo</strong></p><div
              class="example-contents"><pre
                class="programlisting">export DEBIAN_FRONTEND=noninteractive
yes '' | apt-get -y -o DPkg::options::="--force-confdef" -o DPkg::options::="--force-confold" dist-upgrade</pre></div></div><div
            class="sidebar"><div
              class="titlepage"><div><div><p
                    class="title"><strong><span
                        class="emphasis"><em>EN LA PRÁCTICA</em></span> El caso de Falcot Corp</strong></p></div></div></div><div
              class="para">
				Las máquinas de Falcot son sistemas heterogéneos, con equipos que tienen varias funciones. Los administradores elegirán la solución más relevante para cada uno.
			</div><div
              class="para">
				En la práctica, configurarán los servidores ejecutando <span
                class="distribution distribution">Jeesie</span> con la «combinación milagrosa» anterior y serán actualizados automáticamente. Sólo los servidores más críticos (los firewall, por ejemplo) serán configurados con <code
                class="command">apticron</code> para que las actualizaciones sólo ocurran bajo la supervisión de un administrador.
			</div><div
              class="para">
				Las estaciones de trabajo de oficina en los servicios administrativos también ejecutan <span
                class="distribution distribution">Jeesie</span>, pero están equipados con <span
                class="pkg pkg">gnome-packagekit</span> para que los usuarios puedan disparar las actualizaciones por sí mismos. La razón de esta decisión es que si las actualizaciones ocurren sin una acción explítica podría cambiar inesperadamente el comportamiento del equipo causando confusión para sus usuarios principales.
			</div><div
              class="para">
				En el laboratorio, las pocas máquinas que utilizan <span
                class="distribution distribution">Testing</span> — para aprovechar las últimas versiones de software — no se actualizan automáticamente tampoco. Los administradores configuraron APT para que prepare las actualizaciones pero que no las realice; cuando decidan actualizar (manualmente), se evitarán las partes tediosas de actualizar las listas de paquetes y descargar los paquetes y los administradores se pueden concentrar en la parte realmente útil.
			</div></div></div></div><ul
        class="docnav"><li
          class="previous"><a
            accesskey="p"
            href="sect.regular-upgrades.html"><strong>Anterior</strong>6.7. Manutención de un sistema actualizado</a></li><li
          class="up"><a
            accesskey="u"
            href="#"><strong>Subir</strong></a></li><li
          class="home"><a
            accesskey="h"
            href="index.html"><strong>Inicio</strong></a></li><li
          class="next"><a
            accesskey="n"
            href="sect.searching-packages.html"><strong>Siguiente</strong>6.9. Búsqueda de paquetes</a></li></ul><div
        id="translated_pages"><ul><li><a
              href="../ar-MA/sect.automatic-upgrades.html">ar-MA</a></li><li><a
              href="../da-DK/sect.automatic-upgrades.html">da-DK</a></li><li><a
              href="../de-DE/sect.automatic-upgrades.html">de-DE</a></li><li><a
              href="../el-GR/sect.automatic-upgrades.html">el-GR</a></li><li><a
              href="../en-US/sect.automatic-upgrades.html">en-US</a></li><li><a
              href="../es-ES/sect.automatic-upgrades.html">es-ES</a></li><li><a
              href="../fa-IR/sect.automatic-upgrades.html">fa-IR</a></li><li><a
              href="../fr-FR/sect.automatic-upgrades.html">fr-FR</a></li><li><a
              href="../hr-HR/sect.automatic-upgrades.html">hr-HR</a></li><li><a
              href="../id-ID/sect.automatic-upgrades.html">id-ID</a></li><li><a
              href="../it-IT/sect.automatic-upgrades.html">it-IT</a></li><li><a
              href="../ja-JP/sect.automatic-upgrades.html">ja-JP</a></li><li><a
              href="../ko-KR/sect.automatic-upgrades.html">ko-KR</a></li><li><a
              href="../nb-NO/sect.automatic-upgrades.html">nb-NO</a></li><li><a
              href="../pl-PL/sect.automatic-upgrades.html">pl-PL</a></li><li><a
              href="../pt-BR/sect.automatic-upgrades.html">pt-BR</a></li><li><a
              href="../ro-RO/sect.automatic-upgrades.html">ro-RO</a></li><li><a
              href="../ru-RU/sect.automatic-upgrades.html">ru-RU</a></li><li><a
              href="../tr-TR/sect.automatic-upgrades.html">tr-TR</a></li><li><a
              href="../zh-CN/sect.automatic-upgrades.html">zh-CN</a></li><li><a
              href="../zh-TW/sect.automatic-upgrades.html">zh-TW</a></li></ul></div></body></html>
